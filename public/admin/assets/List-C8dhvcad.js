import{d as P,v as q,e as n,f as c,g as m,h as l,y as o,l as s,i as e,K as p,k,t as v,p as F,a4 as L}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{D as U}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as E}from"./Pagination-Nz0PhK3s.js";import{d as K,b as R,g as $}from"./seckill-DgpJrV9p.js";import{u as M}from"./useListRequest-DIT8yyoo.js";import{_ as y}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const j={class:"container"},G={class:"content_wrapper"},H={class:"lyecs-table-list-warp"},J={class:"list-table-tool lyecs-search-warp"},Q={class:"list-table-tool-row"},W={class:"simple-form-warp"},X={class:"simple-form-field"},Y={class:"form-group"},Z={class:"control-container"},ee={class:"simple-form-field"},te={class:"form-group"},oe={class:"simple-form-field"},le={class:"form-group"},se={key:0},ae={class:"table-container"},ne={class:"empty-warp"},ie={key:0,class:"empty-bg"},re={key:0,class:"pagination-con"},ve=P({__name:"List",setup(de){const C=q(),{listData:w,loading:_,total:u,selectedIds:f,filterParams:i,loadData:d,onSearchSubmit:b,onSortChange:S,onSelectChange:N,onBatchAction:D}=M({apiFunction:$,idKey:"seckillId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:C.get("pageSize")}}),I=async h=>{await D(h,R)};return d(),(h,t)=>{const g=n("el-button"),z=n("TigInput"),x=n("el-popconfirm"),V=n("el-space"),A=n("el-form"),r=n("el-table-column"),B=n("el-divider"),O=n("el-table"),T=n("a-spin");return m(),c("div",j,[l("div",G,[l("div",H,[l("div",J,[o(A,{model:e(i),onSubmit:F(e(b),["prevent"])},{default:s(()=>[l("div",Q,[l("div",W,[l("div",X,[l("div",Y,[l("div",Z,[o(z,{modelValue:e(i).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>e(i).keyword=a),name:"keyword",placeholder:"输入秒杀名称",clearable:"",onClear:e(b)},{append:s(()=>[o(g,{onClick:e(b)},{default:s(()=>t[4]||(t[4]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),l("div",ee,[l("div",te,[o(e(y),{params:{act:"add"},isDrawer:"",path:"promotion/seckill/Info",title:"添加限时秒杀",width:"800px",onOkCallback:e(d)},{default:s(()=>[o(g,{type:"primary"},{default:s(()=>t[5]||(t[5]=[p("添加限时秒杀",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])]),l("div",oe,[l("div",le,[o(V,null,{default:s(()=>[o(x,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=a=>I("del"))},{reference:s(()=>[o(g,{disabled:e(f).length===0},{default:s(()=>t[6]||(t[6]=[p("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),e(f).length>0?(m(),c("span",se,[t[7]||(t[7]=p(" 已选择：",-1)),l("b",null,v(e(f).length),1),t[8]||(t[8]=p(" 项 ",-1))])):k("",!0)]),_:1})])])])])]),_:1},8,["model","onSubmit"])]),l("div",ae,[o(T,{spinning:e(_)},{default:s(()=>[o(O,{data:e(w),loading:e(_),total:e(u),"row-key":"seckillId",onSelectionChange:e(N),onSortChange:e(S)},{empty:s(()=>[l("div",ne,[e(_)?k("",!0):(m(),c("div",ie,"暂无数据"))])]),default:s(()=>[o(r,{type:"selection",width:"32"}),o(r,{label:"秒杀名称",prop:"seckillName",sortable:"custom"}),o(r,{label:"商品名称",prop:"productName"}),o(r,{label:"秒杀开始时间",prop:"seckillStartTime",sortable:"custom",width:"160"}),o(r,{label:"秒杀结束时间",prop:"seckillEndTime",sortable:"custom",width:"160"}),o(r,{width:100,label:"秒杀状态",prop:"statusName"},{default:s(({row:a})=>[l("span",{style:L({color:a.statusName==="已结束"?"red":a.statusName==="进行中"?"green":"black"})},v(a.statusName),5)]),_:1}),o(r,{width:100,fixed:"right",label:"操作"},{default:s(({row:a})=>[o(e(y),{params:{act:"detail",id:a.seckillId},isDrawer:"",title:"编辑限时秒杀",width:"800px",path:"promotion/seckill/Info",onOkCallback:e(d)},{default:s(()=>t[9]||(t[9]=[l("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[9]},1032,["params","onOkCallback"]),o(B,{direction:"vertical"}),o(e(U),{params:{id:a.seckillId},requestApi:e(K),onAfterDelete:e(d)},{default:s(()=>t[10]||(t[10]=[p("删除",-1)])),_:2,__:[10]},1032,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(u)>0?(m(),c("div",re,[o(e(E),{page:e(i).page,"onUpdate:page":t[2]||(t[2]=a=>e(i).page=a),size:e(i).size,"onUpdate:size":t[3]||(t[3]=a=>e(i).size=a),total:e(u),onCallback:e(d)},null,8,["page","size","total","onCallback"])])):k("",!0)])])])])}}});export{ve as default};
