import{_ as g}from"./PriceInput.vue_vue_type_script_setup_true_lang-3H48udRD.js";import w from"./Attr-WTLZJgXu.js";import{d as P,cf as x,r as p,cU as L,e as s,f as E,g as f,h as d,j as V,k,y as r,l as i,K as B,F}from"./index-BGgofOm4.js";const I={class:"flex"},$=P({__name:"PriceInfo",props:x({id:{type:Number,default:0},shopId:{type:Number,default:0},act:{type:String,default:""},attrTplList:{type:Array,default:[]},examine:{type:Number,default:0},loading:{type:Boolean,default:!1}},{formState:{default:{}},formStateModifiers:{},isLimit:{type:Boolean,default:!1},isLimitModifiers:{}}),emits:x(["submitCallback","update:confirmLoading","close","closeConfirm"],["update:formState","update:isLimit"]),setup(o,{expose:y,emit:M}){const N=p(o.act),t=L(o,"formState"),n=L(o,"isLimit"),C=(u,e,a)=>{if(e)a();else{a(new Error("商品售价不能为空"));return}},T=(u,e,a)=>{if(e)a();else{a(new Error("商品库存不能为空"));return}},v=p(),m=p(""),S=u=>{u?t.value.limitNumber=t.value.limitNumber?t.value.limitNumber:1:t.value.limitNumber=""};return y({attrForm:v,skuErrorText:m}),(u,e)=>{const a=s("el-form-item"),c=s("TigInput"),b=s("el-radio"),U=s("el-radio-group");return f(),E(F,null,[d("div",null,[r(a,{rules:[{required:!0,message:"商品售价不能为空",validator:C}],class:"inner-item",label:"商品售价",prop:"productPrice"},{default:i(()=>[r(g,{modelValue:t.value.productPrice,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.productPrice=l),disabled:o.examine==1,placeholder:"请输入商品售价",width:"200px"},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),r(a,{class:"inner-item",extra:"不填则根据设置的比例自动计算",label:"市场价",prop:"marketPrice"},{default:i(()=>[d("div",null,[r(g,{modelValue:t.value.marketPrice,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.marketPrice=l),disabled:o.examine==1,placeholder:"请输入商品市场价",width:"200px"},null,8,["modelValue","disabled"]),e[9]||(e[9]=d("div",{class:"extra"},"划线价格，不填则不显示",-1))])]),_:1})]),!o.loading&&t.value.productType!==3?(f(),V(w,{key:0,ref_key:"attrForm",ref:v,attrChanged:t.value.attrChanged,"onUpdate:attrChanged":e[2]||(e[2]=l=>t.value.attrChanged=l),attrList:t.value.attrList,"onUpdate:attrList":e[3]||(e[3]=l=>t.value.attrList=l),productList:t.value.productList,"onUpdate:productList":e[4]||(e[4]=l=>t.value.productList=l),skuErrorText:m.value,"onUpdate:skuErrorText":e[5]||(e[5]=l=>m.value=l),action:N.value,attrTplList:o.attrTplList,disabled:o.examine==1},null,8,["attrChanged","attrList","productList","skuErrorText","action","attrTplList","disabled"])):k("",!0),!t.value.productList||t.value.productList.length==0&&t.value.productType!==3?(f(),V(a,{key:1,rules:[{required:!0,message:"商品库存不能为空",validator:T}],class:"inner-item",label:"库存",prop:"productStock"},{default:i(()=>[r(c,{modelValue:t.value.productStock,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.productStock=l),disabled:o.examine==1,placeholder:"请输入商品库存",type:"integer",width:"200px"},null,8,["modelValue","disabled"])]),_:1},8,["rules"])):k("",!0),r(a,{class:"inner-item",label:"商品限购",prop:"limitNumber"},{default:i(()=>[r(U,{modelValue:n.value,"onUpdate:modelValue":e[8]||(e[8]=l=>n.value=l),style:{width:"100%","margin-bottom":"10px","flex-direction":"column","align-items":"flex-start"},onChange:S},{default:i(()=>[r(b,{value:!1},{default:i(()=>e[10]||(e[10]=[B("不限购",-1)])),_:1,__:[10]}),r(b,{value:!0},{default:i(()=>[d("div",I,[e[11]||(e[11]=d("div",{class:"mr10"},"限购",-1)),r(c,{modelValue:t.value.limitNumber,"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.limitNumber=l),disabled:!n.value,placeholder:"请输入限购数量",type:"integer",width:"200px"},null,8,["modelValue","disabled"]),e[12]||(e[12]=d("div",{class:"ml10"},"件",-1))])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{$ as _};
