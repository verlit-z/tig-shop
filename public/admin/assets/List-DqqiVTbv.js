/* empty css             */import{Z as V,d as q,v as z,r as p,a9 as R,ac as $,o as J,e as c,f as I,g as _,h as e,y as t,l as r,i as T,K as g,F as k,m as C,j as h,t as D,J as x,_ as K}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import"./index-BdoKLCH8.js";/* empty css                                                                    *//* empty css                                                                              */import{S as P}from"./SelectLogisticsCompany-BzS5cxgb.js";import{S as X}from"./SelectTimeInterval-B3x_Nno7.js";import{r as Z}from"./export-BTRfiJpP.js";import{f as U}from"./time-BL_Iz6xX.js";import"./index-BS7Hjr9I.js";import"./logisticsCompany-6jh7zrIw.js";const A=()=>V({url:"order/order/getExportItemList",method:"get"}),G=()=>V({url:"order/order/exportItemInfo",method:"get"}),H=b=>V({url:"order/order/saveExportItem",method:"post",data:b}),Q=b=>V({url:"order/order/orderExport",method:"get",responseType:"arraybuffer",params:b}),W={class:"container"},ee={class:"content_wrapper"},le={class:"lyecs-table-list-warp"},te={class:"list-table-tool lyecs-search-warp"},oe={class:"advanced-search-warp list-table-tool-row"},se={class:"simple-form-warp"},ae={class:"simple-form-field"},ne={class:"form-group"},re={class:"control-container"},ie={class:"simple-form-field"},de={class:"form-group"},ue={class:"control-container"},me={class:"simple-form-field"},pe={class:"form-group"},ce={class:"control-container"},ve={class:"simple-form-field"},fe={class:"form-group"},_e={class:"control-container"},ge={class:"simple-form-field"},be={class:"form-group"},ye={class:"control-container"},xe={class:"simple-form-field"},Ve={class:"form-group"},Ie={class:"control-container"},we={class:"simple-form-field"},Ee={class:"form-group"},Se={class:"control-container"},Te={class:"simple-form-field"},ke={class:"form-group"},Ce={class:"control-container"},he={class:"simple-form-field"},De={class:"form-group"},Ue={class:"simple-form-warp"},Ye={class:"simple-form-field"},Le={style:{"margin-top":"20px"}},je={style:{width:"100%"}},Me={style:{"margin-top":"20px","margin-left":"5px"}},Ne={style:{"margin-top":"20px"}},Be=q({__name:"List",setup(b){z(),p(localStorage.getItem("adminType")),p();const w=p(!0);p(0);const s=R({exportItem:"",addStartTime:U($(15,"sub"),"YYYY-MM-DD"),addEndTime:U(new Date,"YYYY-MM-DD")}),v=p([]),i=p([]),Y=async()=>{w.value=!0;try{const n=await A(),l=await G();let d=Object.entries(n).map(([u,m])=>({key:u,value:m})),a=Object.entries(l).map(([u,m])=>({key:u,value:m}));v.value=d.filter(u=>!a.some(m=>u.key===m.key)),i.value=a}catch(n){x.error(n.message)}finally{w.value=!1}};J(async()=>{await Y()});const L=(n,l)=>{i.value.some(a=>a.key===n.key&&a.value===n.value)||(i.value.push(n),v.value.splice(l,1))},j=(n,l)=>{i.value.splice(l,1),v.value.push(n)},M=()=>{v.value.push(...i.value),i.value.length=0},N=async()=>{try{if(i.value.length>0){const n=i.value.map(d=>d.key).join(","),l=await H({exportItem:n});x.success("操作成功")}}catch(n){x.error(n.message)}},y=p(!1),B=async()=>{y.value=!0;try{s.exportItem=i.value.map(l=>l.key).join(",");const n=await Q(s);y.value=!1,Z(n,"导出订单")}catch(n){x.error(n.message)}finally{y.value=!1}};return(n,l)=>{const d=c("TigInput"),a=c("el-option"),u=c("el-select"),m=c("el-button"),E=c("el-tag"),S=c("el-form-item"),F=c("el-form");return _(),I("div",W,[e("div",ee,[e("div",le,[e("div",te,[l[24]||(l[24]=e("div",{class:"notice-warp"},[e("p",null,"提示："),e("p",null,"1、如果数据量过大导至查询时间过久或者直接显示超时报错，请尝试缩小查询的时间间隔！"),e("p",null,"2、可通过单击可增加项和导出项目来选择需要导出的参数，也可通过拖拽项目来调整参数排序（商品信息栏目默认在单行最后）")],-1)),t(F,{model:s,inline:""},{default:r(()=>[e("div",oe,[e("div",se,[e("div",ae,[e("div",ne,[l[10]||(l[10]=e("label",{class:"control-label"},[e("span",null,"订单信息：")],-1)),e("div",re,[t(d,{modelValue:s.keyword,"onUpdate:modelValue":l[0]||(l[0]=o=>s.keyword=o),name:"keyword",placeholder:"订单号/收货人姓名/订单"},null,8,["modelValue"])])])]),e("div",ie,[e("div",de,[l[11]||(l[11]=e("label",{class:"control-label"},[e("span",null,"订单状态：")],-1)),e("div",ue,[t(u,{placeholder:"请选择支付状态",modelValue:s.orderStatus,"onUpdate:modelValue":l[1]||(l[1]=o=>s.orderStatus=o)},{default:r(()=>[t(a,{value:0,label:"待付款"}),t(a,{value:1,label:"待发货"}),t(a,{value:2,label:"已发货"}),t(a,{value:3,label:"已取消"}),t(a,{value:4,label:"无效"}),t(a,{value:5,label:"已完成"})]),_:1},8,["modelValue"])])])]),e("div",me,[e("div",pe,[l[12]||(l[12]=e("label",{class:"control-label"},[e("span",null,"支付状态：")],-1)),e("div",ce,[t(u,{modelValue:s.payStatus,"onUpdate:modelValue":l[2]||(l[2]=o=>s.payStatus=o),clearable:""},{default:r(()=>[t(a,{value:0,label:"未付款"}),t(a,{value:1,label:"支付中"}),t(a,{value:2,label:"已付款"}),t(a,{value:3,label:"退货中"}),t(a,{value:4,label:"已退款"})]),_:1},8,["modelValue"])])])]),e("div",ve,[e("div",fe,[l[13]||(l[13]=e("label",{class:"control-label"},[e("span",null,"发货状态：")],-1)),e("div",_e,[t(u,{modelValue:s.shippingStatus,"onUpdate:modelValue":l[3]||(l[3]=o=>s.shippingStatus=o),clearable:""},{default:r(()=>[t(a,{value:0,label:"待发货"}),t(a,{value:1,label:"已发货"}),t(a,{value:2,label:"已收货"}),t(a,{value:3,label:"配送中"}),t(a,{value:4,label:"配送失败"})]),_:1},8,["modelValue"])])])]),e("div",ge,[e("div",be,[l[14]||(l[14]=e("label",{class:"control-label"},[e("span",null,"详细地址：")],-1)),e("div",ye,[t(d,{type:"text",modelValue:s.address,"onUpdate:modelValue":l[4]||(l[4]=o=>s.address=o)},null,8,["modelValue"])])])]),e("div",xe,[e("div",Ve,[l[15]||(l[15]=e("label",{class:"control-label"},[e("span",null,"Email：")],-1)),e("div",Ie,[t(d,{type:"text",modelValue:s.email,"onUpdate:modelValue":l[5]||(l[5]=o=>s.email=o)},null,8,["modelValue"])])])]),e("div",we,[e("div",Ee,[l[16]||(l[16]=e("label",{class:"control-label"},[e("span",null,"手机号：")],-1)),e("div",Se,[t(d,{type:"text",modelValue:s.mobile,"onUpdate:modelValue":l[6]||(l[6]=o=>s.mobile=o)},null,8,["modelValue"])])])]),e("div",Te,[e("div",ke,[l[17]||(l[17]=e("label",{class:"control-label"},[e("span",null,"配送物流：")],-1)),e("div",Ce,[t(T(P),{logisticsId:s.logisticsId,"onUpdate:logisticsId":l[7]||(l[7]=o=>s.logisticsId=o)},null,8,["logisticsId"])])])]),e("div",he,[e("div",De,[l[18]||(l[18]=e("label",{class:"control-label"},[e("span",null,"下单时间：")],-1)),t(T(X),{type:"date","start-date":s.addStartTime,"onUpdate:startDate":l[8]||(l[8]=o=>s.addStartTime=o),"end-date":s.addEndTime,"onUpdate:endDate":l[9]||(l[9]=o=>s.addEndTime=o)},null,8,["start-date","end-date"])])])])]),e("div",Ue,[e("div",Ye,[t(m,{type:"primary",onClick:B,loading:y.value,disabled:i.value.length===0},{default:r(()=>l[19]||(l[19]=[g("导出EXCEL",-1)])),_:1,__:[19]},8,["loading","disabled"])])]),e("div",Le,[t(S,null,{label:r(()=>l[20]||(l[20]=[e("span",{class:"item-title-style"},"导出项目",-1)])),default:r(()=>[e("div",je,[(_(!0),I(k,null,C(i.value,(o,f)=>(_(),h(E,{size:"large",key:f,class:"mx-1",closable:"",onClose:O=>j(o,f),"disable-transitions":!0,type:"info"},{default:r(()=>[g(D(o.value),1)]),_:2},1032,["onClose"]))),128))]),e("div",Me,[t(m,{onClick:N},{default:r(()=>l[21]||(l[21]=[g("保存",-1)])),_:1,__:[21]}),t(m,{onClick:M},{default:r(()=>l[22]||(l[22]=[g("清空",-1)])),_:1,__:[22]})])]),_:1})]),e("div",Ne,[t(S,null,{label:r(()=>l[23]||(l[23]=[e("span",{class:"item-title-style"},"可增加项",-1)])),default:r(()=>[(_(!0),I(k,null,C(v.value,(o,f)=>(_(),h(E,{size:"large","disable-transitions":!0,key:f,class:"mx-1",type:"info",onClick:O=>L(o,f)},{default:r(()=>[g(D(o.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1},8,["model"])])])])])}}}),Ge=K(Be,[["__scopeId","data-v-945c7399"]]);export{Ge as default};
