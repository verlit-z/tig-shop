import{d as y,a2 as q,r as b,e as d,f as _,g as i,h as l,j as w,k as g,l as u,y as t,t as s,i as m,dU as p,K as C,Z as U,J as V}from"./index-BGgofOm4.js";const B={class:"container"},I={class:"content_wrapper"},S={class:"lyecs-form-table"},T={key:0},z=y({__name:"Index",setup(R){const v=q(),a=b({}),N=b(!1),c=()=>{v.value.validate(f=>{f&&U({url:"//",method:"post",data:{id:id.value,...a.value}}).then(e=>{emit("submitCallback",e),V.success("操作成功")}).catch(e=>{V.error(e.message)}).finally(()=>{setTimeout(()=>{emit("update:confirmLoading",!1)},600)})})};return(f,e)=>{const n=d("TigInput"),r=d("el-form-item"),x=d("a-button"),k=d("el-form");return i(),_("div",B,[l("div",I,[e[11]||(e[11]=l("div",{class:"notice-warp"},[l("p",null,"操作会按照后台app/adminapi/controller/example/example.php等基本文件进行创建，您可以自行修改example对应的控制器、模型、服务、验证器等基本文件代码"),l("p",null,"提示：所生成的任何文件如果在所在目录下已存在相同名称的文件，操作会失败！")],-1)),l("div",S,[N.value?g("",!0):(i(),w(k,{key:0,ref_key:"formRef",ref:v,model:a.value,"label-width":"150"},{default:u(()=>[t(r,{prop:"catalog",label:"目录名",rules:[{required:!0,message:"目录不能为空!"}]},{default:u(()=>[t(n,{modelValue:a.value.catalog,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.catalog=o)},null,8,["modelValue"]),e[5]||(e[5]=l("div",{class:"extra"},"必须英文，小驼峰，如：product",-1))]),_:1,__:[5]}),t(r,{prop:"talbeName",label:"库表名",rules:[{required:!0,message:"目录不能为空!"}]},{default:u(()=>[t(n,{modelValue:a.value.talbeName,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.talbeName=o)},null,8,["modelValue"]),e[6]||(e[6]=l("div",{class:"extra"},"如：brand",-1))]),_:1,__:[6]}),t(r,{prop:"name",label:"中文名称",rules:[{required:!0,message:"目录不能为空!"}]},{default:u(()=>[t(n,{modelValue:a.value.name,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.name=o)},null,8,["modelValue"]),e[7]||(e[7]=l("div",{class:"extra"},"如：品牌",-1))]),_:1,__:[7]}),t(r,{prop:"brandName",label:"主键字段名",rules:[{required:!0,message:"目录不能为空!"}]},{default:u(()=>[t(n,{modelValue:a.value.brandName,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.brandName=o)},null,8,["modelValue"]),e[8]||(e[8]=l("div",{class:"extra"},"如：brandId",-1))]),_:1,__:[8]}),t(r,{prop:"brandName",label:"名称字段名",rules:[{required:!0,message:"目录不能为空!"}]},{default:u(()=>[t(n,{modelValue:a.value.brandName,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.brandName=o)},null,8,["modelValue"]),e[9]||(e[9]=l("div",{class:"extra"},"如：brandName",-1))]),_:1,__:[9]}),t(r,{label:""},{default:u(()=>[a.value.catalog&&a.value.talbeName?(i(),_("div",T,[l("p",null,"将生成控制器文件：app/admin/controller/"+s(a.value.catalog)+"/"+s(m(p)(a.value.talbeName))+".php",1),l("p",null,"将生成模型层文件：app/model/"+s(a.value.catalog)+"/"+s(m(p)(a.value.talbeName))+".php",1),l("p",null,"将生成服务层文件：app/service/"+s(a.value.catalog)+"/"+s(m(p)(a.value.talbeName))+"Service.php",1),l("p",null,"将生成验证器文件：app/validate/"+s(a.value.catalog)+"/"+s(m(p)(a.value.talbeName))+"Validate.php",1)])):g("",!0)]),_:1}),t(r,{"wrapper-col":{offset:4,span:16}},{default:u(()=>[t(x,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:c},{default:u(()=>e[10]||(e[10]=[C("提 交",-1)])),_:1,__:[10]},512)]),_:1})]),_:1},8,["model"]))])])])}}});export{z as default};
