import{g as I}from"./user-DX0YfmVA.js";import{d as b,r as p,a9 as x,c as B,e as c,f as r,g as s,F as n,y as V,k as _,l as h,m as C,j as N,h as f,J as F}from"./index-BGgofOm4.js";const L=b({__name:"SelectUser",props:{userId:{type:Number},username:{type:String,default:""},showTips:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0}},emits:["update:userId"],setup(u,{emit:v}){const d=u,a=p(!0),o=x({page:1,size:20}),y=v,i=B({get:()=>d.userId,set:l=>y("update:userId",l)}),m=p([]),g=async l=>{a.value=!0,o.keyword="",o.keyword=String(l);try{const e=await I({...o});m.value=e.records}catch(e){F.error(e.message)}finally{a.value=!1}};return(l,e)=>{const k=c("el-option"),w=c("el-select");return s(),r(n,null,[V(w,{style:{width:"100%"},modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),loading:a.value,"remote-method":g,filterable:"",multiple:d.multiple,placeholder:"请输入会员名称/手机号",remote:"","remote-show-suffix":"","reserve-keyword":""},{default:h(()=>[(s(!0),r(n,null,C(m.value,t=>(s(),N(k,{key:t.userId,label:"会员名称："+t.username+(t.mobile?"（"+t.mobile+"）":""),value:t.userId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"]),u.showTips?(s(),r(n,{key:0},[e[1]||(e[1]=f("div",{class:"extra"},"注意：搜索结果只显示前20条记录，如果没有找到相应会员，请更精确地查找；",-1)),e[2]||(e[2]=f("div",{class:"extra"},"另外，如果该会员是从论坛注册的且没有在商城登录过，也无法找到，需要先在商城登录。",-1))],64)):_("",!0)],64)}}});export{L as _};
