import{Z as L,d as P,r as p,v as U,a9 as B,o as F,e as i,f as m,g,h as o,y as s,l as r,p as O,k as f,i as M,J as q,_ as E}from"./index-BGgofOm4.js";/* empty css             *//* empty css                                                                    */import{P as J}from"./Pagination-Nz0PhK3s.js";const Z=v=>L({url:"product/productInventoryLog/list",method:"get",params:v}),j={class:"container"},A={class:"content_wrapper"},D={class:"lyecs-table-list-warp"},G={class:"list-table-tool lyecs-search-warp"},H={class:"list-table-tool-row"},K={class:"simple-form-warp"},Q={class:"simple-form-field"},R={class:"form-group"},W={class:"control-container"},X={class:"simple-form-field"},Y={class:"form-group"},$={class:"tabs flex"},ee={class:"table-container"},te={class:"empty-warp"},oe={key:0,class:"empty-bg"},se={key:0,class:"pagination-con"},ae=P({__name:"List",setup(v){const h=p([{value:0,label:"全部",isShow:!0},{value:1,label:"入库",isShow:!0},{value:2,label:"出库",isShow:!0}]),y=U(),b=p(),d=p(!0),u=p(0),w=p([]),t=B({page:1,size:y.get("pageSize"),sortField:"",sortOrder:"",keyword:"",type:0}),k=a=>{t.type=a,t.page=1,c()},c=async()=>{d.value=!0;try{const a=await Z({...t});b.value=a.records,u.value=a.total}catch(a){q.error(a.message)}finally{d.value=!1}};F(()=>{c()});const _=()=>{c()},C=({prop:a,order:e})=>{t.sortField=a,t.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",c()},S=a=>{w.value=a.map(e=>e.logId)};return(a,e)=>{const T=i("el-button"),V=i("TigInput"),I=i("TigTabs"),z=i("el-form"),l=i("el-table-column"),N=i("el-table"),x=i("a-spin");return g(),m("div",j,[o("div",A,[o("div",D,[o("div",G,[s(z,{model:t,onSubmit:O(_,["prevent"])},{default:r(()=>[o("div",H,[o("div",K,[o("div",Q,[o("div",R,[o("div",W,[s(V,{modelValue:t.keyword,"onUpdate:modelValue":e[0]||(e[0]=n=>t.keyword=n),name:"keyword",placeholder:"输入关键词",clearable:"",onClear:_},{append:r(()=>[s(T,{onClick:_},{default:r(()=>e[4]||(e[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]})]),_:1},8,["modelValue"])])])]),o("div",X,[o("div",Y,[o("div",$,[s(I,{modelValue:t.type,"onUpdate:modelValue":e[1]||(e[1]=n=>t.type=n),tabs:h.value,onOnTabChange:k},null,8,["modelValue","tabs"])])])])])])]),_:1},8,["model"])]),o("div",ee,[s(x,{spinning:d.value},{default:r(()=>[s(N,{data:b.value,loading:d.value,total:u.value,"row-key":"logId",onSelectionChange:S,onSortChange:C},{empty:r(()=>[o("div",te,[d.value?f("",!0):(g(),m("div",oe,"暂无数据"))])]),default:r(()=>[s(l,{type:"selection",width:"32"}),s(l,{width:360,label:"商品名称",prop:"productName"}),s(l,{label:"变化前库存",prop:"oldNumber"}),s(l,{label:"变化后库存",prop:"number"}),s(l,{label:"变化量",prop:"changeNumber"}),s(l,{label:"操作",prop:"desc"}),s(l,{width:200,label:"操作时间",prop:"addTime"})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),u.value>0?(g(),m("div",se,[s(M(J),{page:t.page,"onUpdate:page":e[2]||(e[2]=n=>t.page=n),size:t.size,"onUpdate:size":e[3]||(e[3]=n=>t.size=n),total:u.value,onCallback:c},null,8,["page","size","total"])])):f("",!0)])])])])}}}),de=E(ae,[["__scopeId","data-v-6d966d70"]]);export{de as default};
