/* empty css             */import{d as T,v as S,Q as M,a2 as Q,r as x,o as k,dy as W,J as _,e as u,f as B,g as z,h as n,y as l,l as t,K as d,t as V,i as f,a4 as F,F as D,dz as E,_ as L}from"./index-BGgofOm4.js";import{c as j}from"./format-CpNC4fsQ.js";import{u as q}from"./theme-B1rnHTnX.js";const J="/admin/assets/useQiandaoPoint-Dbq08Bfl.png",K={class:"container"},O={class:"content_wrapper"},G={class:"content_wrapper"},H={class:"flex flex-align-center",style:{gap:"5px"}},X={class:"flex flex-align-center",style:{gap:"5px"}},Y={class:"flex flex-align-center",style:{gap:"5px"}},Z={class:"flex flex-align-center",style:{gap:"5px"}},$={class:"flex flex-align-center",style:{gap:"5px"}},c={class:"flex flex-align-center",style:{gap:"5px"}},h={class:"extra"},ee={class:"content_wrapper"},le={class:"content_wrapper"},te={class:"selected-action"},oe=T({__name:"ShoppingSettings",setup(ne){const{themeInfo:b}=q(),v=S().config;M();const w=S(),P=Q(),g=x(!1),o=x({childAreaNeedRegion:void 0,integralName:"",integralScale:"",orderSendPoint:"",integralPercent:"",commentSendPoint:"",showSendPoint:"",useQiandaoPoint:void 0,canInvoice:void 0,invoiceAdded:void 0,returnConsignee:"",returnMobile:"",returnAddress:""});k(async()=>{await U()});const y=x(!0),U=async()=>{try{const p=await W();Object.assign(o.value,j(p))}catch(p){_.error(p.message)}finally{y.value=!1}},A=async()=>{g.value=!0;try{const p=await E(o.value);_.success("修改成功"),w.updateConfig()}catch(p){_.error(p.message)}finally{g.value=!1}};return(p,e)=>{const r=u("el-radio"),m=u("el-radio-group"),i=u("el-form-item"),s=u("TigInput"),C=u("el-popover"),N=u("el-form"),I=u("a-spin"),R=u("el-button");return z(),B(D,null,[n("div",K,[l(I,{spinning:y.value},{default:t(()=>[l(N,{ref_key:"formRef",ref:P,model:o.value,"label-width":"170px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:t(()=>[n("div",O,[e[16]||(e[16]=n("div",{class:"title"},"购物全局设置",-1)),l(i,{label:"运费模板地区设置机制",prop:"childAreaNeedRegion"},{default:t(()=>[l(m,{modelValue:o.value.childAreaNeedRegion,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.childAreaNeedRegion=a),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[13]||(e[13]=[d("仅设置的地区可配送",-1)])),_:1,__:[13]}),l(r,{value:0},{default:t(()=>e[14]||(e[14]=[d("未设置的地区皆可配送(使用默认运费设置)",-1)])),_:1,__:[14]})]),_:1},8,["modelValue"]),e[15]||(e[15]=n("div",null,[n("div",{class:"extra"}," 运费模板一旦增加指定地区运费，如果该设置为“仅设置的地区可配送”，将不再默认全国都可配送，而是只能配送到增加的地区（如果收货地址不在设置范围，该配送类型不可用）； "),n("div",{class:"extra"}," 如果设置为“未设置的地区使用默认运费设置”，收货地址如果是设置的地区范围内，则按该地区的运费计费，如果不在这范围内，则按默认计费（相当于不会存在不能配送的区域）； "),n("div",{class:"extra"}," 如何选择？如果所有商品可全国配送，就选“未设置的地区使用默认运费设置”，如果有的商品只配送给部分区域，则选前者，该设置会对全站商品生效，慎重设置！ ")],-1))]),_:1,__:[15]})]),n("div",G,[e[30]||(e[30]=n("div",{class:"title"},"积分设置",-1)),l(i,{label:"积分自定义名称",prop:"integralName"},{default:t(()=>[n("div",H,[e[17]||(e[17]=d(" 将积分名称自定义为 ",-1)),l(s,{width:"120px",modelValue:o.value.integralName,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.integralName=a),maxlength:5,showWordLimit:""},null,8,["modelValue"])])]),_:1}),l(i,{label:"积分换算比例",prop:"integralScale"},{default:t(()=>[n("div",X,[e[18]||(e[18]=d(" 每 100 积分，可抵扣 ",-1)),l(s,{type:"decimal",width:"90px",decimalPlaces:1,modelValue:o.value.integralScale,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.integralScale=a)},null,8,["modelValue"]),d(" "+V(f(v).amountUnit)+"现金 ",1)])]),_:1}),l(i,{label:"下单送积分",prop:"orderSendPoint"},{default:t(()=>[n("div",Y,[d(" 每消费 1 "+V(f(v).amountUnit)+"，可获得 ",1),l(s,{width:"90px",type:"integer",modelValue:o.value.orderSendPoint,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.orderSendPoint=a)},null,8,["modelValue"]),e[19]||(e[19]=d(" 积分 ",-1))])]),_:1}),l(i,{label:"积分支付比例",prop:"integralPercent"},{default:t(()=>[n("div",Z,[d(" 每 100 "+V(f(v).amountUnit)+"商品，最多可使用 ",1),l(s,{width:"90px",type:"decimal",decimalPlaces:1,modelValue:o.value.integralPercent,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.integralPercent=a)},null,8,["modelValue"]),e[20]||(e[20]=d(" 积分 ",-1))])]),_:1}),l(i,{label:"评论商品赠送积分",prop:"commentSendPoint"},{default:t(()=>[n("div",$,[e[21]||(e[21]=d(" 每次有效评论，赠送 ",-1)),l(s,{width:"90px",type:"integer",modelValue:o.value.commentSendPoint,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.commentSendPoint=a)},null,8,["modelValue"]),e[22]||(e[22]=d(" 积分 ",-1))])]),_:1}),l(i,{label:"晒单赠送积分",prop:"showSendPoint"},{default:t(()=>[n("div",c,[e[23]||(e[23]=d(" 每次有效晒单，赠送 ",-1)),l(s,{width:"90px",type:"integer",modelValue:o.value.showSendPoint,"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.showSendPoint=a)},null,8,["modelValue"]),e[24]||(e[24]=d(" 积分 ",-1))])]),_:1}),l(i,{label:"签到赠送积分",prop:"useQiandaoPoint"},{default:t(()=>[l(m,{modelValue:o.value.useQiandaoPoint,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.useQiandaoPoint=a),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[25]||(e[25]=[d("开启",-1)])),_:1,__:[25]}),l(r,{value:0},{default:t(()=>e[26]||(e[26]=[d("关闭",-1)])),_:1,__:[26]})]),_:1},8,["modelValue"]),n("div",h,[e[29]||(e[29]=d(" 开启后，用户可通过签到获取积分。 ",-1)),l(C,{width:275,placement:"right",trigger:"click"},{reference:t(()=>e[27]||(e[27]=[n("a",null,"查看示例",-1)])),default:t(()=>e[28]||(e[28]=[n("img",{src:J,style:{width:"250px"}},null,-1)])),_:1})])]),_:1})]),n("div",ee,[e[37]||(e[37]=n("div",{class:"title"},"发票设置",-1)),l(i,{label:"是否能开发票",prop:"canInvoice"},{default:t(()=>[l(m,{modelValue:o.value.canInvoice,"onUpdate:modelValue":e[8]||(e[8]=a=>o.value.canInvoice=a),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[31]||(e[31]=[d("是",-1)])),_:1,__:[31]}),l(r,{value:0},{default:t(()=>e[32]||(e[32]=[d("否",-1)])),_:1,__:[32]})]),_:1},8,["modelValue"]),e[33]||(e[33]=n("div",{class:"extra"},"如果为否，订单结算时将不显示发票",-1))]),_:1,__:[33]}),l(i,{label:"是否支持增值税专用发票",prop:"invoiceAdded"},{default:t(()=>[l(m,{modelValue:o.value.invoiceAdded,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.invoiceAdded=a),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[34]||(e[34]=[d("是",-1)])),_:1,__:[34]}),l(r,{value:0},{default:t(()=>e[35]||(e[35]=[d("否",-1)])),_:1,__:[35]})]),_:1},8,["modelValue"]),e[36]||(e[36]=n("div",{class:"extra"},"开启增值税专用发票会同步开启发票资质提交和审核，关闭则只显示“普通发票”",-1))]),_:1,__:[36]})]),n("div",le,[e[38]||(e[38]=n("div",{class:"title"},"退换货设置",-1)),l(i,{label:"回寄联系人设置",prop:"returnConsignee"},{default:t(()=>[l(s,{classType:"tig-form-input",modelValue:o.value.returnConsignee,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.returnConsignee=a)},null,8,["modelValue"])]),_:1}),l(i,{label:"回寄电话设置",prop:"returnMobile"},{default:t(()=>[l(s,{classType:"tig-form-input",modelValue:o.value.returnMobile,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.returnMobile=a)},null,8,["modelValue"])]),_:1}),l(i,{label:"回寄地址设置",prop:"returnAddress"},{default:t(()=>[l(s,{classType:"tig-form-input",modelValue:o.value.returnAddress,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.returnAddress=a)},null,8,["modelValue"])]),_:1})])]),_:1},8,["model"]),e[39]||(e[39]=n("div",{style:{height:"20px"}},null,-1))]),_:1,__:[39]},8,["spinning"])]),n("div",{class:"selected-action-warp selected-warp-left",style:F({left:f(b).layout!=="topMenu"?"369px":"270px"})},[n("div",te,[l(R,{loading:g.value,class:"form-submit-btn",size:"large",type:"primary",onClick:A},{default:t(()=>e[40]||(e[40]=[d("提 交",-1)])),_:1,__:[40]},8,["loading"])])],4)],64)}}}),re=L(oe,[["__scopeId","data-v-1d91af50"]]);export{re as default};
