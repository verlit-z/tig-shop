import{d as w,r as m,a9 as S,o as B,e as u,f as V,g as _,j as x,k as h,l as i,y as o,E as j,i as D,K as L,I as N,Z as A,J as v}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import"./index-BdoKLCH8.js";/* empty css                                                                    */import{S as E}from"./SelectArticleCategory-BZqt2_5P.js";import"./time-BL_Iz6xX.js";import"./index-BS7Hjr9I.js";import"./articleCategory-CLgK1IN2.js";/* empty css                                                                              */const U=w({__name:"Move",props:{ids:{type:Array,default:()=>[]},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(C,{expose:g,emit:k}){const c=m(!0),n=C,d=m(),a=S({ids:n.ids,targetCat:[]}),s=k;B(async()=>{c.value=!1});const y=async l=>{l&&await l.validate((e,r)=>{e&&(s("update:confirmLoading",!0),new Promise((p,b)=>{A({url:"content/article/batch",method:"post",data:{ids:n.ids.join(","),type:"moveCat",...a}}).then(t=>{setTimeout(()=>{s("update:confirmLoading",!1)},600),v.success("操作成功"),s("submitCallback",t)}).catch(t=>{v.error(t.message),s("submitCallback",t)})}))})},f=m();return g({onFormSubmit:()=>{f.value.$el.click()}}),(l,e)=>{const r=u("el-form-item"),p=u("el-button"),b=u("el-form");return _(),V("div",null,[c.value?h("",!0):(_(),x(b,{key:0,ref_key:"formRef",ref:d,model:a,"label-width":"auto"},{default:i(()=>[o(r),o(r,{label:"转移至",prop:"targetCat"},{default:i(()=>[o(D(E),{"min-width":"100%",modelValue:a.targetCat,"onUpdate:modelValue":e[0]||(e[0]=t=>a.targetCat=t)},null,8,["modelValue"])]),_:1}),j(o(r,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[o(p,{ref_key:"submitBtn",ref:f,class:"form-submit-btn",type:"primary",onClick:e[1]||(e[1]=t=>y(d.value))},{default:i(()=>e[2]||(e[2]=[L("提交 ",-1)])),_:1,__:[2]},512)]),_:1},512),[[N,!n.isDialog]])]),_:1},8,["model"]))])}}});export{U as default};
