import{d as he,r as c,a9 as Se,ac as Ae,o as ke,q as Ge,x as Re,e as D,f as o,g as n,h as e,y as p,l as _,i as Ne,K as m,t as i,F as Te,J as Fe,_ as Ve}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import"./index-BdoKLCH8.js";/* empty css                                                                    *//* empty css                                                                              */import{S as ze}from"./SelectTimeInterval-B3x_Nno7.js";import{f as xe}from"./time-BL_Iz6xX.js";import{i as De}from"./index-Bb6yjXMn.js";import{g as Ye}from"./statisticsSale-3wNnPurP.js";import"./index-BS7Hjr9I.js";const Oe={class:"filtrate-menu"},Me={class:"main-panel"},Be={class:"main-panel-item"},Ee={class:"main-panel-item-value"},Le={class:"main-panel-item-increase"},Qe={key:0,class:"admin-iconfont red f12 up"},Pe={key:1,class:"admin-iconfont green f12"},Ue={class:"main-panel-item"},Ie={class:"main-panel-item-value"},qe={class:"main-panel-item-increase"},Je={key:0,class:"admin-iconfont red f12 up"},Ke={key:1,class:"admin-iconfont green f12"},We={class:"main-panel-item"},je={class:"main-panel-item-value"},He={class:"main-panel-item-increase"},Xe={key:0,class:"admin-iconfont red f12 up"},Ze={key:1,class:"admin-iconfont green f12"},$e={class:"main-panel-item"},Ce={class:"main-panel-item-value"},et={class:"main-panel-item-increase"},tt={key:0,class:"admin-iconfont red f12 up"},at={key:1,class:"admin-iconfont green f12"},st={class:"main-panel-item"},ot={class:"main-panel-item-value"},nt={class:"main-panel-item-increase"},it={key:0,class:"admin-iconfont red f12 up"},lt={key:1,class:"admin-iconfont green f12"},rt={class:"main-panel-item"},mt={class:"main-panel-item-value"},dt={class:"main-panel-item-increase"},ut={key:0,class:"admin-iconfont red f12 up"},ct={key:1,class:"admin-iconfont green f12"},pt={class:"chart-menu"},ft=he({__name:"SalesDetail",setup(vt){const w=c(),b=c();let s,l;const u=c({title:{text:"金额明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["支付金额","退款金额"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"金额",nameTextStyle:{color:"#7cb5ec"},nameGap:20,axisLabel:{color:"#7cb5ec",formatter:"{value} 元"}}],series:[{name:"支付金额",data:[],type:"line",smooth:!0,lineStyle:{color:"#64a9ff"},color:"#5CA5FF",emphasis:{scale:!1},tooltip:{valueFormatter:function(r){return r+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(92, 165, 255,0.50)"},{offset:1,color:"rgba(92, 165, 255,0.00)"}],global:!1}}},{name:"退款金额",data:[],type:"line",smooth:!0,lineStyle:{color:"rgba(0, 190, 189,0.50)"},color:"rgba(0, 190, 189,0.50)",emphasis:{scale:!1},tooltip:{valueFormatter:function(r){return r+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 190, 189,0.50)"},{offset:1,color:"rgba(0, 190, 189,0.00)"}],global:!1}}}]}),f=c({title:{text:"商品明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["商品浏览量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"浏览量",nameTextStyle:{color:"#64a9ff"},nameGap:20,axisLabel:{color:"#64a9ff",formatter:"{value} 次"},min:"10"}],series:[{name:"商品浏览量",type:"bar",barWidth:"50%",showBackground:!1,backgroundStyle:{color:"rgba(0, 127, 255,0.1)"},itemStyle:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"#007FFF"},{offset:1,color:"#539FE5"}]}},data:[]}]}),h=()=>{s==null||s.resize(),l==null||l.resize()},we=()=>{s=De(w.value),s.setOption(u.value),l=De(b.value),l.setOption(f.value),window.addEventListener("resize",h)},d=Se({startTime:xe(Ae(30,"sub"),"YYYY-MM-DD"),endTime:xe(new Date,"YYYY-MM-DD")}),a=c(),S=async()=>{try{const r=await Ye(d);a.value=r;const{horizontalAxis:t,longitudinalAxisPaymentAmount:v,longitudinalAxisProductView:y,longitudinalAxisRefundAmount:g}=r.salesStatisticsData;u.value.xAxis.data=t,u.value.series[0].data=v,u.value.series[1].data=g,s==null||s.setOption(u.value),f.value.xAxis.data=t,f.value.series[0].data=y,l==null||l.setOption(f.value)}catch(r){Fe.error(r.message),console.error(r)}},be=()=>{S()};return ke(()=>{Ge(()=>{we()}),window.onresize=()=>{s==null||s.resize(),l==null||l.resize()},S()}),Re(()=>{s==null||s.dispose(),window.removeEventListener("resize",h)}),(r,t)=>{var A,k,G,R,N,T,F,V,z,Y,O,M,B,E,L,Q,P,U,I,q,J,K,W,j,H,X,Z,$,C,ee,te,ae,se,oe,ne,ie,le,re,me,de,ue,ce,pe,fe,ve,_e,ye,ge;const v=D("el-form-item"),y=D("el-button"),g=D("el-form");return n(),o(Te,null,[e("div",null,[p(g,{model:d,inline:""},{default:_(()=>[e("div",Oe,[p(v,{class:"mr-10"},{default:_(()=>[p(Ne(ze),{type:"date","start-date":d.startTime,"onUpdate:startDate":t[0]||(t[0]=x=>d.startTime=x),"end-date":d.endTime,"onUpdate:endDate":t[1]||(t[1]=x=>d.endTime=x)},null,8,["start-date","end-date"])]),_:1}),p(v,null,{default:_(()=>[p(y,{plain:"",onClick:be},{default:_(()=>t[2]||(t[2]=[m("搜索",-1)])),_:1,__:[2]})]),_:1})])]),_:1},8,["model"]),e("div",Me,[e("ul",null,[e("li",Be,[t[4]||(t[4]=e("div",{class:"main-panel-item-title"},"商品浏览量",-1)),e("div",Ee,i(((k=(A=a.value)==null?void 0:A.salesData)==null?void 0:k.productView)??0),1),e("div",Le,[t[3]||(t[3]=m(" 环比： ",-1)),e("span",null,i((R=(G=a.value)==null?void 0:G.salesData)==null?void 0:R.productViewGrowthRate)+" %",1),((T=(N=a.value)==null?void 0:N.salesData)==null?void 0:T.productViewGrowthRate.toString())!=="--"&&Number((V=(F=a.value)==null?void 0:F.salesData)==null?void 0:V.productViewGrowthRate)>0?(n(),o("i",Qe,"")):(n(),o("i",Pe,""))])]),e("li",Ue,[t[6]||(t[6]=e("div",{class:"main-panel-item-title"},"商品访客数",-1)),e("div",Ie,i(((Y=(z=a.value)==null?void 0:z.salesData)==null?void 0:Y.productVisitor)??0),1),e("div",qe,[t[5]||(t[5]=m(" 环比： ",-1)),e("span",null,i((M=(O=a.value)==null?void 0:O.salesData)==null?void 0:M.productVisitorGrowthRate)+" %",1),((E=(B=a.value)==null?void 0:B.salesData)==null?void 0:E.productVisitorGrowthRate.toString())!=="--"&&Number((Q=(L=a.value)==null?void 0:L.salesData)==null?void 0:Q.productVisitorGrowthRate)>0?(n(),o("i",Je,"")):(n(),o("i",Ke,""))])]),e("li",We,[t[8]||(t[8]=e("div",{class:"main-panel-item-title"},"下单件数",-1)),e("div",je,i(((U=(P=a.value)==null?void 0:P.salesData)==null?void 0:U.orderNum)??0),1),e("div",He,[t[7]||(t[7]=m(" 环比： ",-1)),e("span",null,i((q=(I=a.value)==null?void 0:I.salesData)==null?void 0:q.orderNumGrowthRate)+" %",1),((K=(J=a.value)==null?void 0:J.salesData)==null?void 0:K.orderNumGrowthRate.toString())!=="--"&&Number((j=(W=a.value)==null?void 0:W.salesData)==null?void 0:j.orderNumGrowthRate)>0?(n(),o("i",Xe,"")):(n(),o("i",Ze,""))])]),e("li",$e,[t[10]||(t[10]=e("div",{class:"main-panel-item-title"},"支付金额",-1)),e("div",Ce,i(((X=(H=a.value)==null?void 0:H.salesData)==null?void 0:X.paymentAmount)??0),1),e("div",et,[t[9]||(t[9]=m(" 环比： ",-1)),e("span",null,i(($=(Z=a.value)==null?void 0:Z.salesData)==null?void 0:$.paymentAmountGrowthRate)+" %",1),((ee=(C=a.value)==null?void 0:C.salesData)==null?void 0:ee.paymentAmountGrowthRate.toString())!=="--"&&Number((ae=(te=a.value)==null?void 0:te.salesData)==null?void 0:ae.paymentAmountGrowthRate)>0?(n(),o("i",tt,"")):(n(),o("i",at,""))])]),e("li",st,[t[12]||(t[12]=e("div",{class:"main-panel-item-title"},"退款金额",-1)),e("div",ot,i(((oe=(se=a.value)==null?void 0:se.salesData)==null?void 0:oe.refundAmount)??0),1),e("div",nt,[t[11]||(t[11]=m(" 环比： ",-1)),e("span",null,i((ie=(ne=a.value)==null?void 0:ne.salesData)==null?void 0:ie.refundAmountGrowthRate)+" %",1),((re=(le=a.value)==null?void 0:le.salesData)==null?void 0:re.refundAmountGrowthRate.toString())!=="--"&&Number((de=(me=a.value)==null?void 0:me.salesData)==null?void 0:de.refundAmountGrowthRate)>0?(n(),o("i",it,"")):(n(),o("i",lt,""))])]),e("li",rt,[t[14]||(t[14]=e("div",{class:"main-panel-item-title"},"退款件数",-1)),e("div",mt,i(((ce=(ue=a.value)==null?void 0:ue.salesData)==null?void 0:ce.refundQuantity)??0),1),e("div",dt,[t[13]||(t[13]=m(" 环比： ",-1)),e("span",null,i((fe=(pe=a.value)==null?void 0:pe.salesData)==null?void 0:fe.refundQuantityGrowthRate)+" %",1),((_e=(ve=a.value)==null?void 0:ve.salesData)==null?void 0:_e.refundQuantityGrowthRate.toString())!=="--"&&Number((ge=(ye=a.value)==null?void 0:ye.salesData)==null?void 0:ge.refundQuantityGrowthRate)>0?(n(),o("i",ut,"")):(n(),o("i",ct,""))])])])])]),e("div",pt,[e("div",{class:"chart-menu-item",ref_key:"SalesDetailRef",ref:w},null,512),e("div",{class:"chart-menu-item",ref_key:"NumberProductViewsRef",ref:b},null,512)])],64)}}}),kt=Ve(ft,[["__scopeId","data-v-7a047b77"]]);export{kt as default};
