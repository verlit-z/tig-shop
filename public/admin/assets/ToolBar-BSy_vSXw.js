import{d as k}from"./vuedraggable.umd-CLczY9wy.js";import{l as S}from"./lodash-Bsq5Emyt.js";import{d as E,r as n,o as A,f as u,h as t,y as m,l,e as _,g as s,j as C,k as a,i as x,t as V,_ as j}from"./index-BGgofOm4.js";const O={class:"theme-toolbar"},q={class:"theme-menu-con show"},J={class:"theme-con-box"},P={class:"inside"},U=["onClick"],$=["innerHTML"],z={key:1,class:"content"},F=["onClick"],G=["innerHTML"],K={key:1,class:"content"},Q=E({__name:"ToolBar",props:{modules:{type:Object,default:()=>({})}},emits:["item-added"],setup(B,{emit:M}){localStorage.getItem("adminType");const f=n(["tool","other","advanced"]),T=B,r=n("toolList"),y=n(T.modules),p=n([{type:"imageAd",url:"mobile",label:"图片广告1",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"imageSquareAd",url:"mobile",label:"图片魔方",content:'<i class="iconfont-admin icon-image_square_ad"></i>',module:{},isShow:!0},{type:"imageHotarea",url:"mobile",label:"热图绘制",content:'<i class="iconfont-admin icon-image_hotarea"></i>',module:{},isShow:!0},{type:"product",url:"mobile",label:"商品",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!0},{type:"whiteLine",url:"mobile",label:"分割线",content:'<i class="iconfont-admin icon-white_line"></i>',module:{},isShow:!0},{type:"whiteBlank",url:"mobile",label:"空白辅助",content:'<i class="iconfont-admin icon-white_blank"></i>',module:{},isShow:!0},{type:"imageNav",url:"mobile",label:"图文导航",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"titleAd",url:"mobile",label:"文本标题",content:'<i class="iconfont-admin icon-title_ad"></i>',module:{},isShow:!0},{type:"notice",url:"mobile",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0}]),b=n([{type:"coupon",url:"mobilePromotion",label:"优惠券",content:'<i class="iconfont-admin icon-coupon"></i>',module:{},isShow:!0}]),H=n([{type:"searchBar",url:"mobile",label:"商品搜索",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},isShow:!0},{type:"catNav",url:"mobile",label:"分类导航",content:'<i class="iconfont-admin icon-cat_nav"></i>',module:{},isShow:!0}]),N=n([{type:"seckill",url:"mobilePromotion",label:"秒杀",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},isShow:!0}]),w=c=>{let e=S.cloneDeep(c);return e.moduleIndex=Date.now(),delete e.content,e},I=M,L=(c,e="toolList",g)=>{const h={toolList:p.value,otherList:b.value};let i;const d=h[e];if(d&&d[c])i=S.cloneDeep(d[c]),i.moduleIndex=Date.now(),y.value.moduleList.push(i),I("item-added",{newIndex:y.value.moduleList.length-1});else throw new Error("无效的类型或索引")};return A(()=>{p.value=[...p.value,...H.value],b.value=[...b.value,...N.value]}),(c,e)=>{const g=_("el-tab-pane"),h=_("el-tabs"),i=_("el-collapse-item"),d=_("el-collapse");return s(),u("div",O,[t("div",q,[t("div",J,[m(h,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),class:"demo-tabs"},{default:l(()=>[m(g,{label:"基础模块",name:"toolList"})]),_:1},8,["modelValue"]),t("div",P,[m(d,{modelValue:f.value,"onUpdate:modelValue":e[5]||(e[5]=o=>f.value=o)},{default:l(()=>[r.value==="toolList"?(s(),C(i,{key:0,title:"基础模块",name:"tool"},{title:l(()=>e[6]||(e[6]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"基础模块")],-1)])),default:l(()=>[m(x(k),{class:"module-list","item-key":"type",list:p.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:e[1]||(e[1]=()=>{}),onEnd:e[2]||(e[2]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:w},{item:l(({element:o,index:v})=>[t("div",{class:"list-item tool-list-item",onClick:D=>L(v,"toolList",o)},[o.content?(s(),u("span",{key:0,class:"pic",innerHTML:o.content},null,8,$)):a("",!0),o.label?(s(),u("span",z,V(o.label),1)):a("",!0)],8,U)]),_:1},8,["list"])]),_:1})):a("",!0),r.value==="toolList"?(s(),C(i,{key:1,title:"其它模块",name:"other"},{title:l(()=>e[7]||(e[7]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"其它模块")],-1)])),default:l(()=>[m(x(k),{class:"module-list","item-key":"type",list:b.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:e[3]||(e[3]=()=>{}),onEnd:e[4]||(e[4]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:w},{item:l(({element:o,index:v})=>[t("div",{class:"list-item tool-list-item",onClick:D=>L(v,"otherList")},[o.content?(s(),u("span",{key:0,class:"pic",innerHTML:o.content},null,8,G)):a("",!0),o.label?(s(),u("span",K,V(o.label),1)):a("",!0)],8,F)]),_:1},8,["list"])]),_:1})):a("",!0)]),_:1},8,["modelValue"]),e[8]||(e[8]=t("div",{style:{height:"50px"}},null,-1))])])])])}}}),Y=j(Q,[["__scopeId","data-v-3453a824"]]);export{Y as default};
