import{d as N,P as S,r as l,s as v,a as U,a2 as E,o as L,e as i,f as q,g as d,h as b,y as t,l as n,j as g,k as V,i as k,J as T,_ as D}from"./index-BGgofOm4.js";import{r as F}from"./comment-BCOa_18j.js";const j={class:"container"},A={class:"content_wrapper"},J={class:"lyecs-form-table"},M=N({__name:"EditRemark",props:{id:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(h,{expose:I,emit:w}){const c=S(),r=w,p=h,f=l(v().userInfo),_=l(v().shopInfo),C=U().currentRoute.value.query,R=l(p.isDialog?p.id:Number(C.id)),y=E(),a=l({content:""});L(()=>{});const x=async()=>{await y.value.validate();try{r("update:confirmLoading",!0);const s=await F({commentId:R.value,...a.value});r("submitCallback",s),T.success("操作成功")}catch(s){T.error(s.message)}finally{r("update:confirmLoading",!1)}};return I({onFormSubmit:()=>{x()}}),(s,e)=>{const u=i("TigInput"),m=i("el-form-item"),B=i("el-form");return d(),q("div",j,[b("div",A,[b("div",J,[t(B,{ref_key:"formRef",ref:y,model:a.value,"label-width":"auto"},{default:n(()=>[k(c)==="admin"?(d(),g(m,{key:0,label:"用户名"},{default:n(()=>[t(u,{classType:"tig-form-input",modelValue:f.value.username,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value.username=o),disabled:""},null,8,["modelValue"])]),_:1})):V("",!0),k(c)==="shop"?(d(),g(m,{key:1,label:"用户名"},{default:n(()=>[t(u,{classType:"tig-form-input",modelValue:_.value.shopTitle,"onUpdate:modelValue":e[1]||(e[1]=o=>_.value.shopTitle=o),disabled:""},null,8,["modelValue"])]),_:1})):V("",!0),t(m,{label:"回复内容",prop:"content"},{default:n(()=>[t(u,{classType:"tig-form-input",type:"textarea",rows:5,modelValue:a.value.content,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.content=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])])}}}),H=D(M,[["__scopeId","data-v-05c4ef7f"]]);export{H as default};
