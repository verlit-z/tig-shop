import{d as B,r as m,a as R,a9 as S,o as U,e as p,f as D,g as V,h as y,j as I,k as q,l,y as t,E as L,K as j,I as E,Z as F,J as g}from"./index-BGgofOm4.js";const $={class:"container"},z={class:"content_wrapper"},J={class:"lyecs-form-table"},O=B({__name:"OtherInfo",props:{id:{type:Number,default:0},act:String,isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(k,{expose:w,emit:T}){const u=T,d=k,c=m(),f=m(0),b=m(!0);if(d.isDialog)c.value=d.act,f.value=d.id;else{const{currentRoute:i}=R(),e=i.value.query;c.value=e.act,f.value=e.id}const C=c.value=="add"?"insert":"update",_=m(),a=S({});U(async()=>{b.value=!1});const x=async i=>{await i.validate((e,s)=>{e&&(u("update:confirmLoading",!0),new Promise((n,N)=>{F({url:"brand/"+C+"/",method:"post",data:{id:f.value,...a}}).then(r=>{setTimeout(()=>{u("update:confirmLoading",!1)},600),g.success("操作成功"),u("submitCallback",r)}).catch(r=>{g.error(r.message),u("submitCallback",r)})}))})},v=m(null);return w({onFormSubmit:()=>{v.value.$el.click()}}),(i,e)=>{const s=p("TigInput"),n=p("el-form-item"),N=p("el-button"),r=p("el-form");return V(),D("div",$,[y("div",z,[y("div",J,[b.value?q("",!0):(V(),I(r,{key:0,ref_key:"formRef",ref:_,model:a,"label-width":"auto"},{default:l(()=>[t(n,{label:"发票类型",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[0]||(e[0]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"发票抬头",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[1]||(e[1]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"发票内容",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[2]||(e[2]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"客户给商家的留言",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[3]||(e[3]=o=>a.brandName=o),autosize:{minRows:4,maxRows:6},type:"textarea"},null,8,["modelValue"])]),_:1}),t(n,{label:"缺货处理",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[4]||(e[4]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),L(t(n,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[t(N,{ref_key:"submitBtn",ref:v,class:"form-submit-btn",type:"primary",onClick:e[5]||(e[5]=o=>x(_.value))},{default:l(()=>e[6]||(e[6]=[j("提交 ",-1)])),_:1,__:[6]},512)]),_:1},512),[[E,!d.isDialog]])]),_:1},8,["model"]))])])])}}});export{O as default};
