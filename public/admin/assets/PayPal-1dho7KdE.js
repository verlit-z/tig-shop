/* empty css             */import"./index-BdoKLCH8.js";import{k as B,l as N}from"./payment-CQYNwNh8.js";import{c as D}from"./format-CpNC4fsQ.js";import{u as E}from"./theme-B1rnHTnX.js";import{d as F,a2 as L,r as d,o as R,J as m,e as n,j as g,g as y,l as t,y as l,h as o,K as i,f as U,F as j,m as z,t as M,i as x,a4 as O,_ as J}from"./index-BGgofOm4.js";import{_ as K}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const W={class:"content"},$={class:"flex flex-align-center",style:{gap:"10px"}},q={class:"secret-txt line1",style:{"max-width":"380px"}},A={class:"selected-action"},G=F({__name:"PayPal",setup(H){const{themeInfo:b}=E(),S=L(),u=d(!1),a=d({usePaypal:void 0,paypalCurrency:"paypalCurrency_86d4b0562507",paypalClientId:"paypalClientId_ade0fded0622",paypalSecret:"paypalSecret_e23291d5b03b"});R(async()=>{C()});const f=d(!0),C=async()=>{try{const r=await B();Object.assign(a.value,D(r))}catch(r){m.error(r.message)}finally{f.value=!1}},P=async()=>{u.value=!0;try{const r=await N({...a.value});m.success("修改成功")}catch(r){m.error(r.message)}finally{u.value=!1}};return(r,e)=>{const _=n("el-radio"),V=n("el-radio-group"),p=n("el-form-item"),c=n("el-option"),k=n("el-select"),w=n("TigInput"),v=n("el-button"),I=n("el-form"),T=n("a-spin");return y(),g(T,{spinning:f.value},{default:t(()=>[l(I,{ref_key:"formRef",ref:S,model:a.value,"label-width":"160px"},{default:t(()=>[o("div",W,[e[10]||(e[10]=o("div",{class:"title"},"PayPal支付设置",-1)),l(p,{label:"是否开启",prop:"usePaypal"},{default:t(()=>[l(V,{modelValue:a.value.usePaypal,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.usePaypal=s),class:"itemWidth"},{default:t(()=>[l(_,{value:1},{default:t(()=>e[4]||(e[4]=[i("开启",-1)])),_:1,__:[4]}),l(_,{value:0},{default:t(()=>e[5]||(e[5]=[i("关闭",-1)])),_:1,__:[5]})]),_:1},8,["modelValue"]),e[6]||(e[6]=o("div",{class:"extra"},"是否开启PayPal支付，如关闭则不显示PayPal支付选项",-1))]),_:1,__:[6]}),l(p,{label:"货币",prop:"paypalCurrency"},{default:t(()=>[o("div",null,[l(k,{modelValue:a.value.paypalCurrency,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.paypalCurrency=s),style:{width:"450px"}},{default:t(()=>[l(c,{value:0,label:"不选择"}),(y(!0),U(j,null,z(a.value.paypalCurrencyList,s=>(y(),g(c,{key:s.id,value:s.value,label:s.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),e[7]||(e[7]=o("div",{class:"extra"}," 如果选择了默认国家，则会员在选择地址时默认会显示该国家下的省份或地区，不再显示国家选择（修改设置对已经添加的会员地址不生效） ",-1))])]),_:1}),l(p,{label:"Client ID",prop:"paypalClientId"},{default:t(()=>[l(w,{classType:"tig-form-input",modelValue:a.value.paypalClientId,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.paypalClientId=s)},null,8,["modelValue"])]),_:1}),l(p,{label:"Secret",prop:"paypalSecret"},{default:t(()=>[o("div",null,[o("div",$,[o("div",q,M(a.value.paypalSecret),1),l(x(K),{maskClose:!1,isDrawer:!1,params:{title:"Secret",content:a.value.paypalSecret},path:"setting/config/src/EditSecret",title:"Secret",width:"600px",onOkCallback:e[3]||(e[3]=s=>a.value.paypalSecret=s)},{default:t(()=>[l(v,{style:{"margin-top":"3px"},link:"",type:"primary"},{default:t(()=>e[8]||(e[8]=[i(" 编辑 ",-1)])),_:1,__:[8]})]),_:1},8,["params"])]),e[9]||(e[9]=o("div",{class:"extra"},"编辑完成后，点击下方提交按钮确认修改，请确保填写正确的Secret",-1))])]),_:1})])]),_:1},8,["model"]),e[12]||(e[12]=o("div",{style:{height:"20px"}},null,-1)),o("div",{class:"selected-action-warp selected-warp-left",style:O({left:x(b).layout!=="topMenu"?"369px":"270px"})},[o("div",A,[l(v,{loading:u.value,class:"form-submit-btn",size:"large",type:"primary",onClick:P},{default:t(()=>e[11]||(e[11]=[i("提 交",-1)])),_:1,__:[11]},8,["loading"])])],4)]),_:1,__:[12]},8,["spinning"])}}}),te=J(G,[["__scopeId","data-v-e82734b5"]]);export{te as default};
