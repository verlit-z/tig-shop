import{d as N,r as s,a as V,a2 as B,o as O,e,f as R,g as n,h as i,j as u,k as r,l as f,y as b,J as h,_ as I}from"./index-BGgofOm4.js";import{i as L}from"./order-BPrSE32N.js";const T={class:"container"},F={class:"content_wrapper"},j={class:"lyecs-form-table"},q={class:"mb20"},E=N({__name:"ChangeStatus",props:{id:{type:Number,default:0},act:{type:String,default:""},preOrderStatus:{type:Number,default:3}},emits:["submitCallback","update:confirmLoading","close"],setup(l,{expose:y,emit:v}){const c=v,t=l;console.log(t.preOrderStatus);const w=s(!1);V().currentRoute.value.query,s(t.act);const g=s(t.id),m=B(),o=s({field:"orderStatus",val:t.preOrderStatus});O(()=>{});const S=async()=>{await m.value.validate();try{c("update:confirmLoading",!0);const a=await L({id:g.value,...o.value});c("submitCallback",a),h.success("操作成功")}catch(a){h.error(a.message)}finally{c("update:confirmLoading",!1)}};return y({onFormSubmit:()=>{S()}}),(a,d)=>{const _=e("el-alert"),k=e("TigInput"),C=e("el-form-item"),M=e("el-button"),x=e("el-form");return n(),R("div",T,[i("div",F,[i("div",j,[i("div",q,[l.preOrderStatus==3?(n(),u(_,{key:0,type:"warning",description:"提示：该订单已完成支付为备货/待发货状态，取消后该订单自动变为取消状态；取消订单后，该订单已付款金额或使用的余额，可通过订单->售后管理->售后申请处理","show-icon":"",closable:!1})):r("",!0),l.preOrderStatus==1?(n(),u(_,{key:1,type:"warning",description:"提示：已发货订单状态修改为取消发货状态，已填写的物流信息将会清空 ，请谨慎操作！","show-icon":"",closable:!1})):r("",!0)]),w.value?r("",!0):(n(),u(x,{key:0,ref_key:"formRef",ref:m,model:o.value,"label-width":"auto"},{default:f(()=>[b(C,{label:"备注"},{default:f(()=>[b(k,{width:"100%",modelValue:o.value.adminNote,"onUpdate:modelValue":d[0]||(d[0]=p=>o.value.adminNote=p),rows:4,placeholder:"请输入备注",type:"textarea","show-word-limit":"",maxlength:200},null,8,["modelValue"])]),_:1}),r("",!0)]),_:1},8,["model"]))])])])}}}),z=I(E,[["__scopeId","data-v-00a05bfa"]]);export{z as default};
