import{d as B,v as F,e as p,f as m,g as u,h as s,y as o,l as i,i as e,a0 as K,K as c,k,t as _}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{P as C}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-DhDNvZWl.js";import{_ as L}from"./Switch.vue_vue_type_script_setup_true_lang-BQY033uH.js";import{D as $}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as R}from"./Pagination-Nz0PhK3s.js";import{b as g,d as E,c as j,e as G}from"./shippingType-DWMXAQoQ.js";import{u as H}from"./useListRequest-DIT8yyoo.js";import{_ as S}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const J={class:"container"},M={class:"content_wrapper"},Q={class:"lyecs-table-list-warp"},W={class:"list-table-tool lyecs-search-warp"},X={class:"list-table-tool-row"},Y={class:"simple-form-warp"},Z={class:"simple-form-field"},ee={class:"form-group"},te={class:"control-container"},oe={class:"simple-form-field"},ae={class:"form-group"},se={class:"simple-form-field"},ie={class:"form-group"},pe={key:0},ne={class:"table-container"},le={class:"empty-warp"},re={key:0,class:"empty-bg"},de={key:0,class:"pagination-con"},Se=B({__name:"List",setup(ce){const D=F(),{listData:A,loading:f,total:h,selectedIds:y,filterParams:r,loadData:d,onSearchSubmit:b,onSortChange:I,onSelectChange:V,onBatchAction:q}=H({apiFunction:G,idKey:"shippingTypeId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:D.get("pageSize")}}),U=async T=>{await q(T,j)};return d(),(T,a)=>{const v=p("el-button"),x=p("TigInput"),O=p("el-popconfirm"),N=p("el-space"),n=p("el-table-column"),w=p("el-divider"),z=p("el-table"),P=p("a-spin");return u(),m("div",J,[s("div",M,[s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ee,[s("div",te,[o(x,{modelValue:e(r).keyword,"onUpdate:modelValue":a[0]||(a[0]=t=>e(r).keyword=t),name:"keyword",placeholder:"输入配送类型",onKeyup:K(e(b),["enter"]),clearable:"",onClear:e(b)},{append:i(()=>[o(v,{onClick:e(b)},{default:i(()=>a[4]||(a[4]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),s("div",oe,[s("div",ae,[o(e(S),{params:{act:"add"},isDrawer:"",path:"setting/shippingType/Info",title:"添加配送类型",width:"580px",onOkCallback:e(d)},{default:i(()=>[o(v,{type:"primary"},{default:i(()=>a[5]||(a[5]=[c("添加配送方式",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])]),s("div",se,[s("div",ie,[o(N,null,{default:i(()=>[o(O,{title:"您确认要批量删除所选数据吗？",onConfirm:a[1]||(a[1]=t=>U("del"))},{reference:i(()=>[o(v,{disabled:e(y).length===0},{default:i(()=>a[6]||(a[6]=[c("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),e(y).length>0?(u(),m("span",pe,[a[7]||(a[7]=c(" 已选择：",-1)),s("b",null,_(e(y).length),1),a[8]||(a[8]=c(" 项 ",-1))])):k("",!0)]),_:1})])])])])]),s("div",ne,[o(P,{spinning:e(f)},{default:i(()=>[o(z,{data:e(A),loading:e(f),total:e(h),"row-key":"shippingTypeId",onSelectionChange:e(V),onSortChange:e(I)},{empty:i(()=>[s("div",le,[e(f)?k("",!0):(u(),m("div",re,"暂无数据"))])]),default:i(()=>[o(n,{type:"selection",width:"32"}),o(n,{label:"分类名称"},{default:i(({row:t})=>[o(e(C),{"org-value":t.shippingTypeName,"onUpdate:orgValue":l=>t.shippingTypeName=l,max:10,params:{id:t.shippingTypeId,field:"shippingTypeName"},requestApi:e(g),label:"分类名称",type:"input"},{default:i(()=>[s("div",null,_(t.shippingTypeName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(n,{label:"分类描述",prop:"shippingTypeDesc"},{default:i(({row:t})=>[o(e(C),{"org-value":t.shippingTypeDesc,"onUpdate:orgValue":l=>t.shippingTypeDesc=l,max:0,params:{id:t.shippingTypeId,field:"shippingTypeDesc"},requestApi:e(g),label:"分类描述",type:"input"},{default:i(()=>[s("div",null,_(t.shippingTypeDesc),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(n,{label:"默认物流",prop:"logisticsName"}),o(n,{label:"货到付款",prop:"isSupportCod",sortable:"custom"},{default:i(({row:t})=>[o(e(L),{checked:t.isSupportCod,"onUpdate:checked":l=>t.isSupportCod=l,params:{id:t.shippingTypeId,field:"isSupportCod"},requestApi:e(g)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),o(n,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:i(({row:t})=>[o(e(C),{"org-value":t.sortOrder,"onUpdate:orgValue":l=>t.sortOrder=l,params:{id:t.shippingTypeId,field:"sortOrder"},requestApi:e(g),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:i(()=>[s("div",null,_(t.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(n,{width:150,fixed:"right",label:"操作"},{default:i(({row:t})=>[o(e(S),{params:{act:"detail",id:t.shippingTypeId},isDrawer:"",path:"setting/shippingType/Info",title:"编辑配送类型",width:"580px",onOkCallback:e(d)},{default:i(()=>a[9]||(a[9]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[9]},1032,["params","onOkCallback"]),o(w,{direction:"vertical"}),o(e($),{params:{id:t.shippingTypeId},requestApi:e(E),onAfterDelete:e(d)},{default:i(()=>a[10]||(a[10]=[c("删除 ",-1)])),_:2,__:[10]},1032,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(h)>0?(u(),m("div",de,[o(e(R),{page:e(r).page,"onUpdate:page":a[2]||(a[2]=t=>e(r).page=t),size:e(r).size,"onUpdate:size":a[3]||(a[3]=t=>e(r).size=t),total:e(h),onCallback:e(d)},null,8,["page","size","total","onCallback"])])):k("",!0)])])])])}}});export{Se as default};
