import{d as O,v as U,e as i,f as p,g as c,h as e,y as l,l as n,i as t,a0 as S,K as m,k as f,t as b,p as L}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{M}from"./MobileCard-BC3dXj5F.js";import{D as R}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as $}from"./Pagination-Nz0PhK3s.js";import{u as E,i as j}from"./format-CpNC4fsQ.js";import{d as G,b as H,g as J}from"./enquiry-Bc5HzB_x.js";import{u as Q}from"./useListRequest-DIT8yyoo.js";import{_ as W}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const X={class:"container"},Y={class:"content_wrapper"},Z={class:"lyecs-table-list-warp"},tt={class:"list-table-tool lyecs-search-warp"},et={class:"advanced-search-warp list-table-tool-row"},ot={class:"simple-form-warp"},lt={class:"simple-form-field"},st={class:"form-group"},nt={class:"control-container"},at={class:"simple-form-field"},it={class:"form-group"},dt={class:"control-container"},rt={class:"simple-form-field"},pt={class:"form-group"},ct={class:"control-container"},mt={class:"simple-form-warp"},_t={class:"simple-form-field"},ut={class:"control-container"},ft={class:"list-table-tool-row"},bt={class:"list-table-tool-col"},gt={key:0},ht={class:"table-container"},vt={class:"flex"},Ct={key:0,class:"span-pic"},yt=["href"],kt=["src"],St={class:"span-product-con"},wt={class:"span-product-name"},It={key:0,class:"green"},Vt={key:1,class:"gray"},Dt={class:"btn-link"},xt={class:"empty-warp"},zt={key:0,class:"empty-bg"},Kt={key:0,class:"pagination-con"},Et=O({__name:"List",setup(Pt){const w=U(),{listData:I,loading:g,total:h,selectedIds:v,filterParams:a,loadData:_,onSearchSubmit:d,onSortChange:V,onSelectChange:D,onBatchAction:x,resetParams:z}=Q({apiFunction:J,idKey:"id",defaultParams:{page:1,size:w.get("pageSize"),sortField:"",sortOrder:"",status:"",mobile:"",productId:""}}),K=async C=>{await x(C,H)};return _(),(C,o)=>{const y=i("el-option"),P=i("el-select"),k=i("TigInput"),u=i("el-button"),q=i("el-popconfirm"),N=i("el-space"),T=i("el-form"),r=i("el-table-column"),A=i("el-divider"),B=i("el-table"),F=i("a-spin");return c(),p("div",X,[e("div",Y,[e("div",Z,[e("div",tt,[l(T,{model:t(a),onSubmit:L(t(d),["prevent"])},{default:n(()=>[e("div",et,[e("div",ot,[e("div",lt,[e("div",st,[o[6]||(o[6]=e("label",{class:"control-label"},[e("span",null,"状态：")],-1)),e("div",nt,[l(P,{modelValue:t(a).status,"onUpdate:modelValue":o[0]||(o[0]=s=>t(a).status=s),clearable:"",onChange:t(d)},{default:n(()=>[l(y,{value:0,label:"未回复"}),l(y,{value:1,label:"已回复"})]),_:1},8,["modelValue","onChange"])])])]),e("div",at,[e("div",it,[o[7]||(o[7]=e("label",{class:"control-label"},[e("span",null,"商品ID：")],-1)),e("div",dt,[l(k,{modelValue:t(a).productId,"onUpdate:modelValue":o[1]||(o[1]=s=>t(a).productId=s),name:"productId",placeholder:"输入商品ID",onKeyup:S(t(d),["enter"]),clearable:"",onClear:t(d)},null,8,["modelValue","onKeyup","onClear"])])])]),e("div",rt,[e("div",pt,[o[9]||(o[9]=e("label",{class:"control-label"},[e("span",null,"手机号：")],-1)),e("div",ct,[l(k,{modelValue:t(a).mobile,"onUpdate:modelValue":o[2]||(o[2]=s=>t(a).mobile=s),name:"mobile",placeholder:"输入询价人手机号",onKeyup:S(t(d),["enter"]),clearable:"",onClear:t(d)},{append:n(()=>[l(u,{onClick:t(d)},{default:n(()=>o[8]||(o[8]=[e("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[8]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),e("div",mt,[e("div",_t,[o[12]||(o[12]=e("label",{class:"control-label"},null,-1)),e("div",ut,[l(u,{type:"primary",plain:"",onClick:t(d)},{default:n(()=>o[10]||(o[10]=[m("搜索",-1)])),_:1,__:[10]},8,["onClick"]),l(u,{plain:"",onClick:t(z)},{default:n(()=>o[11]||(o[11]=[m("重置",-1)])),_:1,__:[11]},8,["onClick"])])])])])]),e("div",ft,[e("div",bt,[l(N,null,{default:n(()=>[l(q,{title:"您确认要批量删除所选数据吗？",onConfirm:o[3]||(o[3]=s=>K("del"))},{reference:n(()=>[l(u,{disabled:t(v).length===0},{default:n(()=>o[13]||(o[13]=[m("批量删除",-1)])),_:1,__:[13]},8,["disabled"])]),_:1}),t(v).length>0?(c(),p("span",gt,[o[14]||(o[14]=m(" 已选择：",-1)),e("b",null,b(t(v).length),1),o[15]||(o[15]=m(" 项 ",-1))])):f("",!0)]),_:1})])])]),_:1},8,["model","onSubmit"])]),e("div",ht,[l(F,{spinning:t(g)},{default:n(()=>[l(B,{data:t(I),loading:t(g),total:t(h),"row-key":"id",onSelectionChange:t(D),onSortChange:t(V)},{empty:n(()=>[e("div",xt,[t(g)?f("",!0):(c(),p("div",zt,"暂无数据"))])]),default:n(()=>[l(r,{type:"selection",width:"32"}),l(r,{label:"商品名称",prop:"productId",sortable:"custom","min-width":180},{default:n(({row:s})=>[e("div",vt,[s.product.picThumb?(c(),p("div",Ct,[e("a",{href:t(E)({path:"product",sn:s.product.productSn}),target:"_blank"},[e("img",{src:t(j)(s.product.picThumb),height:"40",width:"40",alt:""},null,8,kt)],8,yt)])):f("",!0),e("div",St,[e("div",wt,[e("div",null,"商品名称："+b(s.product.productName),1),e("div",null,"商品SN："+b(s.product.productSn),1)])])])]),_:1}),l(r,{label:"询价内容",prop:"content"}),l(r,{width:100,label:"状态"},{default:n(({row:s})=>[s.status===1?(c(),p("span",It,"已回复")):(c(),p("span",Vt,"未回复"))]),_:1}),l(r,{width:150,label:"联系方式"},{default:n(({row:s})=>[l(M,{mobile:s.mobile},null,8,["mobile"])]),_:1}),l(r,{width:150,label:"创建时间",prop:"createTime"}),l(r,{width:150,fixed:"right",label:"操作"},{default:n(({row:s})=>[l(t(W),{params:{act:"detail",id:s.id},isDrawer:"",showOnOk:!1,path:"product/enquiry/Info",title:s.status===1?"查看":"回复询价",width:"600px",onOkCallback:t(_)},{default:n(()=>[e("a",Dt,b(s.status===1?"详情":"回复"),1)]),_:2},1032,["params","title","onOkCallback"]),l(A,{direction:"vertical"}),l(t(R),{params:{id:s.id},requestApi:t(G),onAfterDelete:t(_)},{default:n(()=>o[16]||(o[16]=[m("删除 ",-1)])),_:2,__:[16]},1032,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),t(h)>0?(c(),p("div",Kt,[l(t($),{page:t(a).page,"onUpdate:page":o[4]||(o[4]=s=>t(a).page=s),size:t(a).size,"onUpdate:size":o[5]||(o[5]=s=>t(a).size=s),total:t(h),onCallback:t(_)},null,8,["page","size","total","onCallback"])])):f("",!0)])])])])}}});export{Et as default};
