import{d as C,a as D,r as c,a2 as N,e as l,f as h,g as x,h as _,y as e,l as r,E as B,K as R,I,J as b}from"./index-BGgofOm4.js";import{c as q}from"./mobileDecorate-Bv89Dc32.js";const L={class:"container"},O={class:"content_wrapper"},E={class:"lyecs-form-table"},K=C({__name:"Info",props:{id:{type:Number,default:0},decorateType:{type:Number,default:1},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(y,{expose:g,emit:v}){const n=v,t=y,d=D().currentRoute.value.query,T=c(t.isDialog?t.act:String(d.act)),w=c(t.isDialog?t.id:Number(d.id)),V=T.value==="add"?"create":"update",m=N(),o=c({}),p=async()=>{await m.value.validate();try{n("update:confirmLoading",!0);const s=await q(V,{id:w.value,decorateType:t.decorateType,...o.value});n("submitCallback",s),b.success("操作成功")}catch(s){b.error(s.message)}finally{n("update:confirmLoading",!1)}};return g({onFormSubmit:()=>{p()}}),(s,a)=>{const f=l("TigInput"),i=l("el-form-item"),S=l("el-button"),k=l("el-form");return x(),h("div",L,[_("div",O,[_("div",E,[e(k,{ref_key:"formRef",ref:m,model:o.value,"label-width":"auto"},{default:r(()=>[e(i,{prop:"decorateTitle",label:"首页装修模板名称",rules:[{required:!0,message:"首页装修模板名称不能为空!"}]},{default:r(()=>[e(f,{classType:"tig-form-input",modelValue:o.value.decorateTitle,"onUpdate:modelValue":a[0]||(a[0]=u=>o.value.decorateTitle=u)},null,8,["modelValue"])]),_:1}),e(i,{prop:"sortOrder",label:"排序"},{default:r(()=>[e(f,{type:"integer",classType:"tig-form-input",modelValue:o.value.sortOrder,"onUpdate:modelValue":a[1]||(a[1]=u=>o.value.sortOrder=u)},null,8,["modelValue"])]),_:1}),B(e(i,{"wrapper-col":{offset:4,span:16}},{default:r(()=>[e(S,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:p},{default:r(()=>a[2]||(a[2]=[R("提交",-1)])),_:1,__:[2]},512)]),_:1},512),[[I,!t.isDialog]])]),_:1},8,["model"])])])])}}});export{K as default};
