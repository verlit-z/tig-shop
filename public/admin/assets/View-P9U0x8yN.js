import{d as E,cR as z,cU as U,r as f,c as P,w as A,f as s,g as a,h as t,k as i,j as N,i as m,b9 as D,l as W,F as C,m as T,a4 as x,t as v,n as K,_ as q}from"./index-BGgofOm4.js";import{i as V,p as R}from"./format-CpNC4fsQ.js";import{a as G}from"./product-DiKWBvyV.js";import{m as H,g as J,j as Q,h as X,b as Y}from"./index-BHii7OAM.js";import{_ as Z}from"./Swiper.vue_vue_type_script_setup_true_lang-B7dX-2dZ.js";import ee from"./View-D8iPUMv5.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-Bsq5Emyt.js";const te={key:0,class:"module-ad-empty empty-image_ad"},oe={class:"goods-ad-warp",style:{}},ae={class:"goods-ad-con"},se={class:"item-con"},ie={class:"item-photo"},de={href:"",title:"",class:"item-image-a"},le=["src"],ne={class:"item-info"},re={class:"item-name"},ce={key:0,href:"",title:"",class:"item-name-a"},ue={key:1,href:"",title:"",class:"item-brief"},pe={key:0,class:"item-action"},me={class:"item-price"},_e={class:"price_format"},ge={class:"item-con"},ve={class:"item-photo"},ye={href:"",title:"",class:"item-image-a"},he=["src"],be={class:"item-info"},fe={class:"item-name"},xe={key:0,href:"",title:"",class:"item-name-a"},Pe={key:1,href:"",title:"",class:"item-brief"},we={key:0,class:"item-action"},ke={class:"item-price"},Be={class:"price_format"},Se={class:"item-buy"},Ne={href:"javascript:;",class:"buy-btn lyecs-buyBtn"},Ce={key:0},Te={key:1},Ve={key:2,class:"iconfont-h5 icon-gouwuche iconh5-style"},Re={key:3,class:"iconfont-h5 icon-gouwuche1 iconh5-style"},$e={key:4,class:"iconfont-h5 icon-jia iconh5-style"},Fe={key:5,class:"iconfont-h5 icon-jia1 iconh5-style"},Me=E({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup($){z(l=>({f41db83c:I.value}));const e=U($,"module"),F=f({style:1,goodsStyle:1,goodsRadioStyle:1,textAlign:1,textWeight:1,goodsNameRow:2,goodsNamePadding:1,showName:1,showBrief:1,showPrice:1,goodsPadding:5,buyBtnStyle:1,backgroundColor:"",boxRadius:0,innerPadding:0,boxPadding:10,boxPaddingTop:5,boxPaddingBottom:5,imgPadding:1,waterfall:0,swiperPageColor:"",frame:Y,title:X,products:Q});H(e.value,F.value);const{frame:M,title:h}=e.value,_=f(),y=P(()=>J(M??{})),r=P(()=>{var l,o,c,u,d,n,g,p;return{backgroundColor:`background-color: ${(l=e==null?void 0:e.value)==null?void 0:l.backgroundColor};`,boxPadding:`margin-left: ${(o=e==null?void 0:e.value)==null?void 0:o.boxPadding}px;margin-right: ${(c=e==null?void 0:e.value)==null?void 0:c.boxPadding}px;`,boxPaddingBottom:`margin-bottom: ${(u=e==null?void 0:e.value)==null?void 0:u.boxPaddingBottom}px;`,boxPaddingTop:`margin-top: ${(d=e==null?void 0:e.value)==null?void 0:d.boxPaddingTop}px;`,boxRadius:`border-radius: ${(n=e==null?void 0:e.value)==null?void 0:n.boxRadius}px;`,innerPadding:`padding: ${(g=e==null?void 0:e.value)==null?void 0:g.innerPadding}px;`,goodsPadding:`padding: ${(p=e==null?void 0:e.value)==null?void 0:p.goodsPadding}px;`}}),j={1:["productIds"],2:["productCategoryId","productNumber"],3:["productTag","productNumber"]},w={productIds:"ids",productCategoryId:"categoryId",productNumber:"size",productTag:"introType"},k=async()=>{let l={};if(typeof e.value.products=="object"&&e.value.products.productSelectType){const o=e.value.products.productSelectType,c=j[o];o===1?l[w[c[0]]]=e.value.products.productIds.join(","):(l.page=1,c.forEach(u=>{l[w[u]]=e.value.products[u]}))}try{const o=await G({productStatus:1,checkStatus:1,...l});_.value=o.records,b.value=[],L()}catch{}finally{}};k();const I=P(()=>e.value.swiperPageColor||"#333"),b=f([]),L=()=>{if(e.value.style===7&&_.value){let l=Math.ceil(_.value.length/3);for(let o=0;o<l;o++)b.value.push(_.value.slice(o*3,(o+1)*3))}};A(()=>{k()});const O=f({autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0}});return(l,o)=>{var c,u;return a(),s("div",{class:K("module-ad-con module-goods_ad ad-style__"+e.value.style+" ad-buy_btn_style__"+e.value.buyBtnStyle+" ad-goods_style__"+e.value.goodsStyle+" ad-goods_radio_style__"+e.value.goodsRadioStyle+" ad-text_align__"+e.value.textAlign+" ad-text_weight__"+e.value.textWeight+" ad-goods_name_row__"+e.value.goodsNameRow+" ad-goods_name_padding__"+e.value.goodsNamePadding+" ad-goods-title_style__"+((c=e.value.title)==null?void 0:c.titleStyle)),style:x(y.value.boxPadding+y.value.boxPaddingTop+y.value.boxPaddingBottom)},[t("div",{class:"module-ad-content",style:x(y.value.backgroundColor+" "+y.value.boxRadius+r.value.backgroundColor+r.value.boxPadding+r.value.boxPaddingBottom+r.value.boxPaddingTop+r.value.boxRadius+r.value.innerPadding)},[!_.value||_.value.length==0?(a(),s("div",te,o[2]||(o[2]=[t("div",{class:"image-empty-goods-bg"},null,-1),t("div",{class:"desc"},"点击添加商品",-1)]))):i("",!0),(u=m(h))!=null&&u.showTitle?(a(),N(m(ee),{key:1,modelValue:m(h),"onUpdate:modelValue":o[0]||(o[0]=d=>D(h)?h.value=d:null)},null,8,["modelValue"])):i("",!0),t("div",oe,[t("div",ae,[e.value.style===7?(a(),N(m(Z),{key:0,swiperOption:O.value,modelValue:b.value,"onUpdate:modelValue":o[1]||(o[1]=d=>b.value=d)},{default:W(({item:d})=>[(a(!0),s(C,null,T(d,(n,g)=>{var p,B,S;return a(),s("div",{class:"goods-ad-item",key:g},[t("div",{class:"item-content",style:x(r.value.goodsPadding)},[t("div",se,[t("div",ie,[t("a",de,[t("img",{src:m(V)(n.picThumb),alt:""},null,8,le)])]),t("div",ne,[t("div",re,[(p=e.value)!=null&&p.showName?(a(),s("a",ce,v(n.productName),1)):i("",!0),(B=e.value)!=null&&B.showBrief?(a(),s("a",ue,v("商品描述"))):i("",!0)]),(S=e.value)!=null&&S.showPrice?(a(),s("div",pe,[t("div",me,[t("b",_e,v(m(R)(Number(n.productPrice))),1)]),o[3]||(o[3]=t("div",{class:"item-buy"},null,-1))])):i("",!0)])])],4)])}),128))]),_:1},8,["swiperOption","modelValue"])):(a(!0),s(C,{key:1},T(_.value,d=>{var n,g,p;return a(),s("div",{class:"goods-ad-item",key:d.productId},[t("div",{class:"item-content",style:x(r.value.goodsPadding)},[t("div",ge,[t("div",ve,[t("a",ye,[t("img",{src:m(V)(d.picThumb),alt:""},null,8,he)])]),t("div",be,[t("div",fe,[(n=e.value)!=null&&n.showName?(a(),s("a",xe,v(d.productName),1)):i("",!0),(g=e.value)!=null&&g.showBrief?(a(),s("a",Pe,v("商品描述"))):i("",!0)]),(p=e.value)!=null&&p.showPrice?(a(),s("div",we,[t("div",ke,[t("b",Be,v(m(R)(Number(d.productPrice))),1)]),t("div",Se,[t("a",Ne,[e.value.buyBtnStyle===5||e.value.buyBtnStyle===6?(a(),s("span",Ce,"购买")):i("",!0),e.value.buyBtnStyle===7||e.value.buyBtnStyle===8?(a(),s("span",Te,"马上抢")):i("",!0),e.value.buyBtnStyle===1?(a(),s("span",Ve)):i("",!0),e.value.buyBtnStyle===2?(a(),s("span",Re)):i("",!0),e.value.buyBtnStyle===3?(a(),s("span",$e)):i("",!0),e.value.buyBtnStyle===4?(a(),s("span",Fe)):i("",!0)])])])):i("",!0)])])],4)])}),128))])])],4)],6)}}}),We=q(Me,[["__scopeId","data-v-05aacaab"]]);export{We as default};
