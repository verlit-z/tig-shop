/* empty css                 */import{d as L,cf as M,r as _,cU as S,Y as N,e as U,f as o,g as d,k as m,h as t,y as a,i,l as r,K as w,t as A,_ as C,o as O,q as D,J as V,U as z,F as j,m as I}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import"./index-BdoKLCH8.js";import{i as u}from"./format-CpNC4fsQ.js";/* empty css                                                                    *//* empty css                                                                              */import{d as Q}from"./vuedraggable.umd-CLczY9wy.js";import{S as $}from"./SelectLink-BgkTQE9W.js";import{_ as g}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_06740008_lang-Cfj1a4LM.js";import"./lodash-Bsq5Emyt.js";import{g as B,u as F}from"./decorateDiscrete-D9ZQOyLB.js";import"./time-BL_Iz6xX.js";import"./index-BS7Hjr9I.js";const E={style:{width:"100%"}},G={key:0,class:"gallery-list-warp"},P={class:"dec-pic-group"},W={class:"dec-pic-group-list"},q={class:"dec-pic-group-item"},J={class:"dec-pic-group-item-con"},Y={class:"item-image"},H={class:"item-image-con"},X=["src"],Z={class:"item-image-con"},K=["src"],R={class:"item-info"},ee={class:"item-info-item item-info-title"},te={class:"item-info-item item-info-link"},se={class:"lyecs-link-select"},ie={key:0,class:"dec-pic-group-item"},le={class:"dec-pic-group-item-con"},ae={class:"item-image"},oe={class:"item-image-con"},de=["src"],ce={class:"item-image-con"},ne=["src"],pe={class:"item-info"},me={class:"item-info-item item-info-title"},re={class:"item-info-item item-info-link"},ue={class:"lyecs-link-select"},ve=["onClick"],ge={class:"dec-pic-group-item"},_e={class:"dec-pic-group-item-con"},he={class:"item-image"},be={class:"item-image-con"},ye=["src"],fe={class:"item-image-con"},ke=["src"],Te={class:"item-info"},xe={class:"item-info-item item-info-title"},Ve={class:"item-info-item item-info-link"},$e={class:"lyecs-link-select"},Ue={key:0,class:"dec-pic-add-con"},Le=L({__name:"NavPicList",props:M({isMultiple:{type:Boolean,default:!1},showDesc:{type:Boolean,default:!1},decorateType:{type:String,default:""}},{photos:{type:Array,default:[]},photosModifiers:{}}),emits:["update:photos"],setup(v){_(null);const k=v,s=S(v,"photos"),{isMultiple:h}=N(k),p=(c,e)=>{Object.assign(s.value[e.index],c[0])},b=(c,e)=>{s.value[e.index].picActiveThumb=c[0].picThumb,s.value[e.index].picActiveUrl=c[0].picUrl},x=()=>{s.value.splice(s.value.length-1,0,{picTitle:"",picThumb:"",picUrl:"",picActiveThumb:"",picActiveUrl:"",picLink:""})},T=c=>{s.value.splice(c,1)};return(c,e)=>{const y=U("TigInput");return d(),o("div",E,[s.value.length>0?(d(),o("div",G,[t("div",P,[t("div",W,[t("div",q,[t("div",J,[t("div",Y,[t("div",H,[s.value[0].picActiveThumb?(d(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[0].picActiveThumb)},null,8,X)):m("",!0),a(i(g),{type:"gallery",class:"",onOkCallback:b,params:{isMultiple:!1},data:{index:0}},{default:r(()=>e[6]||(e[6]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1,__:[6]}),e[7]||(e[7]=t("div",{class:"item-text"},"选中",-1))]),t("div",Z,[s.value[0].picThumb?(d(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[0].picThumb)},null,8,K)):m("",!0),a(i(g),{type:"gallery",class:"",onOkCallback:p,params:{isMultiple:!1},data:{index:0}},{default:r(()=>e[8]||(e[8]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1,__:[8]}),e[9]||(e[9]=t("div",{class:"item-text"},"未选中",-1))])]),t("div",R,[t("div",ee,[e[10]||(e[10]=t("span",{class:"lable"},"标题",-1)),a(y,{width:"100%",placeholder:"建议10个字以内，可不填",modelValue:s.value[0].picTitle,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value[0].picTitle=l)},null,8,["modelValue"])]),t("div",te,[e[11]||(e[11]=t("span",{class:"lable"},"链接",-1)),t("div",se,[a(i($),{modelValue:s.value[0].picLink,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value[0].picLink=l),disabled:"",decorateType:v.decorateType},null,8,["modelValue","decorateType"])])])])])]),a(i(Q),{class:"gallery-list-ul","item-key":"",list:s.value,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:e[2]||(e[2]=()=>{}),onEnd:e[3]||(e[3]=()=>{})},{item:r(({element:l,index:n})=>[n!==0&&n!==s.value.length-1?(d(),o("div",ie,[t("div",le,[t("div",ae,[t("div",oe,[l.picActiveThumb?(d(),o("img",{key:0,class:"item-image-src",src:i(u)(l.picActiveThumb)},null,8,de)):m("",!0),a(i(g),{type:"gallery",class:"",onOkCallback:b,params:{isMultiple:!1},data:{index:n}},{default:r(()=>e[12]||(e[12]=[t("span",{class:"change-image"},"更换图片",-1)])),_:2,__:[12]},1032,["data"]),e[13]||(e[13]=t("div",{class:"item-text"},"选中",-1))]),t("div",ce,[l.picThumb?(d(),o("img",{key:0,class:"item-image-src",src:i(u)(l.picThumb)},null,8,ne)):m("",!0),a(i(g),{type:"gallery",class:"",onOkCallback:p,params:{isMultiple:!1},data:{index:n}},{default:r(()=>e[14]||(e[14]=[t("span",{class:"change-image"},"更换图片",-1)])),_:2,__:[14]},1032,["data"]),e[15]||(e[15]=t("div",{class:"item-text"},"未选中",-1))])]),t("div",pe,[t("div",me,[e[16]||(e[16]=t("span",{class:"lable"},"标题",-1)),a(y,{width:"100%",placeholder:"建议10个字以内，可不填",modelValue:l.picTitle,"onUpdate:modelValue":f=>l.picTitle=f},null,8,["modelValue","onUpdate:modelValue"])]),t("div",re,[e[17]||(e[17]=t("span",{class:"lable"},"链接",-1)),t("div",ue,[a(i($),{modelValue:l.picLink,"onUpdate:modelValue":f=>l.picLink=f,disabled:n==0,decorateType:v.decorateType},null,8,["modelValue","onUpdate:modelValue","disabled","decorateType"])])])]),i(h)==!0?(d(),o("div",{key:0,class:"del-item",onClick:f=>T(n)},e[18]||(e[18]=[t("i",{class:"ico-decorate icon-dec-cha"},null,-1)]),8,ve)):m("",!0)])])):m("",!0)]),_:1},8,["list"]),t("div",ge,[t("div",_e,[t("div",he,[t("div",be,[s.value[s.value.length-1].picActiveThumb?(d(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[s.value.length-1].picActiveThumb)},null,8,ye)):m("",!0),a(i(g),{type:"gallery",class:"",onOkCallback:b,params:{isMultiple:!1},data:{index:s.value.length-1}},{default:r(()=>e[19]||(e[19]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1,__:[19]},8,["data"]),e[20]||(e[20]=t("div",{class:"item-text"},"选中",-1))]),t("div",fe,[s.value[s.value.length-1].picThumb?(d(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[s.value.length-1].picThumb)},null,8,ke)):m("",!0),a(i(g),{type:"gallery",class:"",onOkCallback:p,params:{isMultiple:!1},data:{index:s.value.length-1}},{default:r(()=>e[21]||(e[21]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1,__:[21]},8,["data"]),e[22]||(e[22]=t("div",{class:"item-text"},"未选中",-1))])]),t("div",Te,[t("div",xe,[e[23]||(e[23]=t("span",{class:"lable"},"标题",-1)),a(y,{width:"100%",placeholder:"建议10个字以内，可不填",modelValue:s.value[s.value.length-1].picTitle,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value[s.value.length-1].picTitle=l)},null,8,["modelValue"])]),t("div",Ve,[e[24]||(e[24]=t("span",{class:"lable"},"链接",-1)),t("div",$e,[a(i($),{modelValue:s.value[s.value.length-1].picLink,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value[s.value.length-1].picLink=l),disabled:"",decorateType:v.decorateType},null,8,["modelValue","decorateType"])])])])])])]),s.value.length<5?(d(),o("div",Ue,[t("a",{class:"dec-pic-add-btn",onClick:x},[e[25]||(e[25]=t("i",{class:"ico-decorate icon-dec-jia"},null,-1)),w("添加导航 "+A(s.value.length)+"/5",1)])])):m("",!0)])])):m("",!0)])}}}),we=C(Le,[["__scopeId","data-v-eba65437"]]),Ae={class:"container"},Ce={class:"content_wrapper decoratePgaeWrap"},Me={class:"flex box-wrapper"},Se={class:"tab-box"},Ne={class:"flex"},Oe={class:"decorateWrap"},De={class:"decorate-page-window",style:{"background-position":"center top",height:"700px","margin-top":"10px"}},ze={class:"theme-modules-warp"},je={class:"list-item modules-item modules-item-bottom_nav module-item-active"},Ie={class:"module-ad-con"},Qe={class:"bottom-nav-con"},Be={class:"bottom-nav-item"},Fe={class:"item-content"},Ee={class:"item-img-a"},Ge=["src"],Pe={class:"item-text-a"},We={class:"item-text"},qe={class:"right-box-warp",style:{width:"510px"}},Je={class:"dec-edit-group dec-edit-group-block"},Ye={class:"dec-edit-group-con"},He={class:"dec-edit-save"},Xe=L({__name:"Nav",setup(v){const k=_("mobileNav"),s=_(!0),h=_(!1),p=_({navList:[]}),b=_([{picTitle:"首页",picThumb:"img/gallery/demo/1680247587QG2y44h7a7f0M1dx9T!!pic200x200.png",picUrl:"img/gallery/demo/1680247587QG2y44h7a7f0M1dx9T!!pic.png",picActiveThumb:"img/gallery/demo/16802475870v7jHejQtgFvn7Yd6e!!pic200x200.png",picActiveUrl:"img/gallery/demo/16802475870v7jHejQtgFvn7Yd6e!!pic.png",picLink:{path:"base",label:"商城首页",name:"商城首页",link:"/"},picId:583,picName:"ico_1"},{picTitle:"我的",picThumb:"img/gallery/demo/1680247679vqWSO1Ci9sAGJCzzZa!!pic200x200.png",picUrl:"img/gallery/demo/1680247679vqWSO1Ci9sAGJCzzZa!!pic.png",picActiveThumb:"img/gallery/demo/1680247682VX4iwQSO82hyzUedDz!!pic200x200.png",picActiveUrl:"img/gallery/demo/1680247682VX4iwQSO82hyzUedDz!!pic.png",picLink:{path:"base",label:"会员中心",name:"会员中心",link:"member"},picId:589,picName:"ico_4"}]);O(()=>{x()});const x=async()=>{try{const c=await B({decorateSn:k.value});Object.assign(p.value,c.data),D(()=>{p.value.navList.length<=0&&(p.value.navList=b.value,T(1))})}catch(c){V.error(c.message)}finally{s.value=!1}},T=async c=>{try{h.value=!0;const e=await F({decorateSn:k.value,data:p.value});c!==1&&V.success("操作成功")}catch(e){V.error(e.message)}finally{h.value=!1}};return(c,e)=>{const y=U("a-spin"),l=U("a-button");return d(),o("div",Ae,[t("div",Ce,[t("div",Me,[t("div",Se,[t("div",Ne,[t("div",Oe,[t("div",De,[t("div",ze,[e[1]||(e[1]=z('<div class="list-item modules-item modules-item-topbar" draggable="false" data-v-a7242c7b><div class="module-ad-con module-topbar-warp" data-v-a7242c7b><div class="module-topbar-con" data-v-a7242c7b><div class="module-topbar-title-con" data-v-a7242c7b><div class="title-item" style="" data-v-a7242c7b>页面标题</div></div></div></div></div>',1)),t("div",je,[t("div",Ie,[t("div",Qe,[(d(!0),o(j,null,I(p.value.navList,(n,f)=>(d(),o("div",Be,[t("div",Fe,[t("a",Ee,[n.picUrl?(d(),o("img",{key:0,class:"item-img",src:i(u)(n.picUrl)},null,8,Ge)):m("",!0)]),t("a",Pe,[t("span",We,A(n.picTitle),1)])])]))),256))])])])])])]),t("div",qe,[e[4]||(e[4]=t("div",{class:"dec-spread-title"},[t("div",{class:"title"},"底部导航设置")],-1)),a(y,{spinning:s.value},{default:r(()=>[t("div",Je,[e[2]||(e[2]=t("div",{class:"dec-edit-group-title"},[t("div",{class:"title"},"添加图片")],-1)),t("div",Ye,[a(i(we),{isMultiple:!0,photos:p.value.navList,"onUpdate:photos":e[0]||(e[0]=n=>p.value.navList=n),decorateType:"mobile"},null,8,["photos"])])])]),_:1},8,["spinning"]),t("div",He,[a(l,{loading:h.value,onClick:T,type:"primary",size:"large",class:"save-btn"},{default:r(()=>e[3]||(e[3]=[w("保存",-1)])),_:1,__:[3]},8,["loading"])])])])])])])])}}}),rt=C(Xe,[["__scopeId","data-v-a7242c7b"]]);export{rt as default};
