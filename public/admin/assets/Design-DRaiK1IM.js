import{d as is,v as us,r as g,a as vs,c as ps,o as _s,e as y,f as t,g as e,h as o,k as a,y as S,F as n,l as I,m as b,j as B,n as d,t as i,J as D,_ as ys}from"./index-BGgofOm4.js";import{b as bs,u as ks}from"./receiptPrint--8LpdTMO.js";const gs={class:"container"},hs={class:"content_wrapper"},fs={class:"lyecs-form-table"},ws={class:"letf-wrap"},xs={class:"right-wrap"},Cs={class:"receipt-preview"},Ss={class:"receipt-content"},Vs={key:0,class:"wrap head-wrap"},Is={key:0,class:"txt op-1"},Bs={key:1,class:"txt op-1"},Ds={class:"value"},Ts={class:"content"},Ls={key:0,class:"sn"},Ns={class:"table"},Fs={class:"item"},Ps={class:"item"},Us={class:"content"},$s={key:0,class:"sn"},js={class:"total"},qs={class:"price"},Rs={key:0,class:"txt"},zs={class:"value"},As={class:"txt"},Es={class:"value"},Gs={key:0,class:"detail"},Js={class:"item"},Ms={class:"item"},Os={class:"item"},Hs={key:1,class:"total"},Ks={key:0,class:"txt op-1"},Qs={key:1,class:"txt op-1"},Ws={class:"value"},Xs={key:2,class:"txt op-1"},Ys={key:0,class:"txt op-1"},Zs={key:1,class:"txt op-1"},ms={key:0,class:"txt op-1"},so={key:1,class:"txt op-1"},oo={key:2,class:"txt op-1"},lo={key:0,class:"txt op-1"},eo={class:"code"},to=is({__name:"Design",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(Q,{expose:W,emit:X}){const h=X,f=Q,Y=us(),w=g(!0),T=vs().currentRoute.value.query,Z=g(f.isDialog?f.act:String(T.act)),m=g(f.isDialog?f.id:Number(T.id)),L=g(),x=g({}),ss=g(["配送方式","商配&同城-收货信息","买家备注","商品基础信息","运费","优惠总计","实收金额","支付方式","第三方支付单号","支付时间"]),os=async()=>{try{const r=await bs({printId:m.value});Object.assign(x.value,r),L.value=r.id}catch(r){D.error(r.message),h("close")}finally{w.value=!1}},v=ps(()=>Y.config.dollarSign),c=r=>r==null?void 0:r.some(l=>l.choose);_s(()=>{Z.value==="detail"?os():w.value=!1});const ls=async()=>{try{h("update:confirmLoading",!0);let{template:r}=x.value;const l=await ks({id:L.value,template:r});h("submitCallback",l),D.success("操作成功")}catch(r){D.error(r.message)}finally{h("update:confirmLoading",!1)}};return W({onFormSubmit:()=>{ls()}}),(r,l)=>{const es=y("el-checkbox"),ts=y("TigInput"),as=y("el-form-item"),ns=y("el-form"),ds=y("SvgIcon"),rs=y("el-scrollbar"),cs=y("a-spin");return e(),t("div",gs,[o("div",hs,[o("div",fs,[w.value?a("",!0):(e(),t(n,{key:0},[o("div",ws,[S(ns,{"label-width":"auto"},{default:I(()=>[(e(!0),t(n,null,b(x.value.template,(s,V)=>(e(),B(as,{key:V,label:s.title},{default:I(()=>[(e(!0),t(n,null,b(s.options,(p,C)=>(e(),t(n,{key:C},[S(es,{label:p.chooseTitle,modelValue:p.choose,"onUpdate:modelValue":k=>p.choose=k,disabled:ss.value.includes(p.chooseTitle)},null,8,["label","modelValue","onUpdate:modelValue","disabled"]),s.title=="底部公告"?(e(),B(ts,{key:0,classType:"tig-form-input",modelValue:p.value,"onUpdate:modelValue":k=>p.value=k,row:3,type:"textarea"},null,8,["modelValue","onUpdate:modelValue"])):a("",!0)],64))),128))]),_:2},1032,["label"]))),128))]),_:1})]),o("div",xs,[l[24]||(l[24]=o("div",{class:"tab"},"58mm",-1)),o("div",Cs,[l[22]||(l[22]=o("div",{class:"line"},null,-1)),S(rs,{height:"100%",class:"scrollbar",always:""},{default:I(()=>[o("div",Ss,[(e(!0),t(n,null,b(x.value.template,(s,V)=>{var p,C,k,N,F,P,U,$,j,q,R,z,A,E,G,J,M,O,H,K;return e(),t(n,{key:V},[s.title=="小票头部"?(e(),t("div",Vs,[(e(!0),t(n,null,b(s.options,(_,u)=>(e(),t(n,{key:u},[_.choose?(e(),t("div",{key:0,class:d(["txt",`op-${u}`])},l[0]||(l[0]=[o("div",{class:"label"},"TigShop",-1)]),2)):a("",!0)],64))),128))])):a("",!0),s.title=="配送信息"?(e(),t("div",{key:1,class:d(["wrap delivery-wrap",c(s.options)?"border":"none"])},[(p=s==null?void 0:s.options)!=null&&p[0].choose?(e(),t("div",Is,l[1]||(l[1]=[o("div",{class:"label"},"配送方式:",-1),o("div",{class:"value"},"普通快递",-1)]))):a("",!0),(C=s==null?void 0:s.options)!=null&&C[1].choose?(e(),t("div",Bs,[l[2]||(l[2]=o("div",{class:"label"},"收货信息:",-1)),o("div",Ds,"收货人姓名，"+i((k=s==null?void 0:s.options)!=null&&k[2].choose?"131****0000":"13100000000")+"，南昌市青山湖区世纪大道1888号B座202室",1)])):a("",!0)],2)):a("",!0),s.title=="买家备注"?(e(),t("div",{key:2,class:d(["wrap remarks-wrap",c(s.options)?"border":"none"])},[(e(!0),t(n,null,b(s.options,(_,u)=>(e(),t(n,{key:u},[_.choose?(e(),t("div",{key:0,class:d(["txt",`op-${u}`])},l[3]||(l[3]=[o("div",{class:"label"},"买家备注:",-1),o("div",{class:"value"},"买家备注信息买家备注信息买家备注信息买家备注信息买家备注信息买家备注信息",-1)]),2)):a("",!0)],64))),128))],2)):a("",!0),s.title=="商品信息"?(e(),t(n,{key:3},[(N=s==null?void 0:s.options)!=null&&N[0].choose?(e(),t("div",{key:0,class:d(["wrap goods-wrap",c(s.options)?"border":"none"])},l[4]||(l[4]=[o("div",{class:"title"},"商品",-1),o("div",{class:"table"},[o("div",{class:"item"},"单价"),o("div",{class:"item"},"数量"),o("div",{class:"item"},"小计")],-1)]),2)):a("",!0),(F=s==null?void 0:s.options)!=null&&F[0].choose?(e(),t("div",{key:1,class:d(["wrap goods-wrap",c(s.options)?"border":"none"])},[o("div",Ts,[l[6]||(l[6]=o("div",{class:"good-name"},"商品名称商品名称商品名称商品名称商品名称商品名称（规格1/规格2）",-1)),(P=s==null?void 0:s.options)!=null&&P[1].choose?(e(),t("div",Ls,"商品编码：123-456-787634566")):a("",!0),o("div",Ns,[o("div",Fs,i(v.value)+"100",1),l[5]||(l[5]=o("div",{class:"item"},"2",-1)),o("div",Ps,i(v.value)+"200",1)])]),o("div",Us,[l[7]||(l[7]=o("div",{class:"good-name"},"【会员价】商品名称商品名称商品名称商品名称商品名称商品名称",-1)),(U=s==null?void 0:s.options)!=null&&U[1].choose?(e(),t("div",$s,"商品编码：123-456-787634566")):a("",!0),l[8]||(l[8]=o("div",{class:"table"},[o("div",{class:"item"},"￥100"),o("div",{class:"item"},"1"),o("div",{class:"item"},"￥100")],-1))])],2)):a("",!0),($=s==null?void 0:s.options)!=null&&$[0].choose?(e(),t("div",{key:2,class:d(["wrap goods-wrap",c(s.options)?"border":"none"])},[o("div",js,[l[9]||(l[9]=o("div",{class:"num"},"共3件",-1)),o("div",qs,"合计："+i(v.value)+"300.00",1)])],2)):a("",!0)],64)):a("",!0),s.title=="运费信息"?(e(),t("div",{key:4,class:d(["wrap freight-wrap",c(s.options)?"border":"none"])},[(e(!0),t(n,null,b(s.options,(_,u)=>(e(),t(n,{key:u},[_.choose?(e(),t("div",Rs,[l[10]||(l[10]=o("div",{class:"label"},"运费",-1)),o("div",zs,i(v.value)+"0.00",1)])):a("",!0)],64))),128))],2)):a("",!0),s.title=="优惠信息"?(e(),t("div",{key:5,class:d(["wrap discounts-wrap",c(s.options)?"border":"none"])},[o("div",As,[l[11]||(l[11]=o("div",{class:"label"},"优惠",-1)),o("div",Es,[(j=s==null?void 0:s.options)!=null&&j[0].choose?(e(),t("div",Gs,[o("div",Js,"优惠券：-"+i(v.value)+"1.00",1),o("div",Ms,"积分抵扣：-"+i(v.value)+"3.00",1),o("div",Os,"活动优惠：-"+i(v.value)+"20.00",1)])):a("",!0),(q=s==null?void 0:s.options)!=null&&q[1].choose?(e(),t("div",Hs,"总计：-"+i(v.value)+"24.00",1)):a("",!0)])])],2)):a("",!0),s.title=="支付信息"?(e(),t("div",{key:6,class:d(["wrap pay-wrap",c(s.options)?"border":"none"])},[(R=s==null?void 0:s.options)!=null&&R[1].choose?(e(),t("div",Ks,l[12]||(l[12]=[o("div",{class:"label"},"支付方式:",-1),o("div",{class:"value"},"余额支付",-1)]))):a("",!0),(z=s==null?void 0:s.options)!=null&&z[0].choose?(e(),t("div",Qs,[l[13]||(l[13]=o("div",{class:"label"},"实收金额:",-1)),o("div",Ws,i(v.value)+"276.00",1)])):a("",!0),(A=s==null?void 0:s.options)!=null&&A[2].choose?(e(),t("div",Xs,l[14]||(l[14]=[o("div",{class:"label"},"第三方支付单号:",-1),o("div",{class:"value"},"123456789012345678",-1)]))):a("",!0)],2)):a("",!0),s.title=="客户信息"?(e(),t("div",{key:7,class:d(["wrap customer-wrap",c(s.options)?"border":"none"])},[(E=s==null?void 0:s.options)!=null&&E[0].choose?(e(),t("div",Ys,l[15]||(l[15]=[o("div",{class:"label"},"客户姓名:",-1),o("div",{class:"value"},"132*****123",-1)]))):a("",!0),(G=s==null?void 0:s.options)!=null&&G[0].choose?(e(),t("div",Zs,l[16]||(l[16]=[o("div",{class:"label"},"手机号:",-1),o("div",{class:"value"},"132*****123",-1)]))):a("",!0)],2)):a("",!0),s.title=="其他订单信息"?(e(),t("div",{key:8,class:d(["wrap other-order-wrap",c(s.options)?"border":"none"])},[(J=s==null?void 0:s.options)!=null&&J[0].choose?(e(),t("div",ms,l[17]||(l[17]=[o("div",{class:"label"},"下单时间:",-1),o("div",{class:"value"},"2025-07-01 13:00:01",-1)]))):a("",!0),(M=s==null?void 0:s.options)!=null&&M[1].choose?(e(),t("div",so,l[18]||(l[18]=[o("div",{class:"label"},"支付时间:",-1),o("div",{class:"value"},"2025-07-01 13:10:01",-1)]))):a("",!0),(O=s==null?void 0:s.options)!=null&&O[2].choose?(e(),t("div",oo,l[19]||(l[19]=[o("div",{class:"label"},"渠道类型:",-1),o("div",{class:"value"},"PC",-1)]))):a("",!0)],2)):a("",!0),s.title=="二维码"?(e(),t("div",{key:9,class:d(["wrap barcode-wrap",c(s.options)?"":"none"])},[(H=s==null?void 0:s.options)!=null&&H[0].choose?(e(),t("div",lo,l[20]||(l[20]=[o("div",{class:"label"},"订单编号:",-1),o("div",{class:"value"},"20250725183102646765",-1)]))):a("",!0),o("div",eo,[(K=s==null?void 0:s.options)!=null&&K[0].choose?(e(),B(ds,{key:0,name:"setting-barcode",width:"100%",height:"50px"})):a("",!0),l[21]||(l[21]=o("div",{class:"code-txt"},"20250725183102646765",-1))])],2)):a("",!0),s.title=="底部公告"?(e(),t("div",{key:10,class:d(["wrap notice-wrap",c(s.options)?"":"none"])},[(e(!0),t(n,null,b(s.options,(_,u)=>(e(),t(n,{key:u},[_.choose?(e(),t("div",{key:0,class:d(["txt",`op-${u}`])},i(_.value),3)):a("",!0)],64))),128))],2)):a("",!0)],64)}),128))])]),_:1}),l[23]||(l[23]=o("div",{class:"foot"},null,-1))])])],64)),S(cs,{spinning:w.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}}),co=ys(to,[["__scopeId","data-v-80128333"]]);export{co as default};
