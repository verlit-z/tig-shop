import{d as S,r as s,a as R,o as V,e as p,f as q,g as i,j as f,k as c,l as a,y as n,E as L,h as g,K as v,i as k,I as E,J as C}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import{_ as I}from"./SelectCategory.vue_vue_type_script_setup_true_lang-DH07CGtZ.js";import"./index-BdoKLCH8.js";/* empty css                                                                    *//* empty css                                                                              */import{m as F}from"./category-0ZzOrTFu.js";import"./time-BL_Iz6xX.js";import"./index-BS7Hjr9I.js";const H=S({__name:"Move",props:{id:{type:Number,required:!0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(x,{expose:w,emit:N}){const r=s(!0),o=x,y=s(),_=R().currentRoute.value.query;s(o.isDialog?o.id:Number(_.id));const t=s({id:o.isDialog?o.id:Number(_.id),targetCatId:0}),u=N;V(async()=>{r.value=!1});const b=async()=>{await y.value.validate();try{u("update:confirmLoading",!0),console.log(t.value);const l=await F({...t.value});u("submitCallback",l),C.success("操作成功")}catch(l){C.error(l.message)}finally{u("update:confirmLoading",!1)}};return w({onFormSubmit:()=>{b()}}),(l,e)=>{const m=p("el-form-item"),B=p("el-button"),D=p("el-form");return i(),q("div",null,[r.value?c("",!0):(i(),f(D,{key:0,ref_key:"formRef",ref:y,model:t.value,"label-width":"auto"},{default:a(()=>[n(m,null,{default:a(()=>e[2]||(e[2]=[g("div",{class:"extra"},[v(" 什么是转移商品分类? "),g("br"),v(" 如果需要对商品的分类进行变更,那么你可以通过此功能,正确管理你的商品分类。 ")],-1)])),_:1,__:[2]}),n(m,{label:"",prop:"id"},{default:a(()=>[r.value?c("",!0):(i(),f(k(I),{key:0,categoryId:t.value.id,"onUpdate:categoryId":e[0]||(e[0]=d=>t.value.id=d),multiple:!1,disabled:""},null,8,["categoryId"])),e[3]||(e[3]=g("div",{class:"extra",style:{margin:"0 20px"}},"转移至",-1)),r.value?c("",!0):(i(),f(k(I),{key:1,categoryId:t.value.targetCatId,"onUpdate:categoryId":e[1]||(e[1]=d=>t.value.targetCatId=d),multiple:!1},null,8,["categoryId"]))]),_:1,__:[3]}),L(n(m,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[n(B,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:b},{default:a(()=>e[4]||(e[4]=[v("提交 ",-1)])),_:1,__:[4]},512)]),_:1},512),[[E,!o.isDialog]])]),_:1},8,["model"]))])}}});export{H as default};
