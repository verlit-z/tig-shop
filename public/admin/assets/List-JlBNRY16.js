import{d as U,v as K,e as n,f as i,g as r,h as o,y as a,l,i as t,K as p,k,t as h,p as R,F as y,m as w,_ as $}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{P as E}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-DhDNvZWl.js";import{D as M}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as j}from"./Pagination-Nz0PhK3s.js";import{u as G,d as H,b as J,g as Q}from"./productAttributesTpl-BtbeavO4.js";import{u as W}from"./useListRequest-DIT8yyoo.js";import{_ as S}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const X={class:"container"},Y={class:"content_wrapper"},Z={class:"lyecs-table-list-warp"},tt={class:"list-table-tool lyecs-search-warp"},et={class:"list-table-tool-row"},ot={class:"simple-form-warp"},at={class:"simple-form-field"},lt={class:"form-group"},st={class:"control-container"},nt={class:"simple-form-field"},it={class:"form-group"},rt={class:"simple-form-field"},dt={class:"form-group"},pt={key:0},mt={class:"table-container"},_t={style:{position:"relative"}},ct={class:"tpl-data-con"},ut={class:"empty-warp"},ft={key:0,class:"empty-bg"},gt={key:0,class:"pagination-con"},bt=U({__name:"List",setup(vt){const A=K(),{listData:I,loading:c,total:u,selectedIds:f,filterParams:d,loadData:m,onSearchSubmit:g,onSortChange:x,onSelectChange:D,onBatchAction:N}=W({apiFunction:Q,idKey:"tplId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:A.get("pageSize")}}),P=async C=>{await N(C,J)};return m(),(C,e)=>{const b=n("el-button"),V=n("TigInput"),T=n("el-popconfirm"),z=n("el-space"),F=n("el-form"),_=n("el-table-column"),q=n("el-divider"),B=n("el-table"),L=n("a-spin");return r(),i("div",X,[o("div",Y,[o("div",Z,[o("div",tt,[a(F,{model:t(d),onSubmit:R(t(g),["prevent"])},{default:l(()=>[o("div",et,[o("div",ot,[o("div",at,[o("div",lt,[o("div",st,[a(V,{modelValue:t(d).keyword,"onUpdate:modelValue":e[0]||(e[0]=s=>t(d).keyword=s),name:"keyword",placeholder:"输入属性模板名称",clearable:"",onClear:t(g)},{append:l(()=>[a(b,{onClick:t(g)},{default:l(()=>e[4]||(e[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),o("div",nt,[o("div",it,[a(t(S),{params:{act:"add"},isDrawer:"",path:"product/productAttributesTpl/Info",title:"添加属性模板",width:"600px",onOkCallback:t(m)},{default:l(()=>[a(b,{type:"primary"},{default:l(()=>e[5]||(e[5]=[p("添加属性模板",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])]),o("div",rt,[o("div",dt,[a(z,null,{default:l(()=>[a(T,{title:"您确认要批量删除所选数据吗？",onConfirm:e[1]||(e[1]=s=>P("del"))},{reference:l(()=>[a(b,{disabled:t(f).length===0},{default:l(()=>e[6]||(e[6]=[p("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),t(f).length>0?(r(),i("span",pt,[e[7]||(e[7]=p(" 已选择：",-1)),o("b",null,h(t(f).length),1),e[8]||(e[8]=p(" 项 ",-1))])):k("",!0)]),_:1})])])])])]),_:1},8,["model","onSubmit"])]),o("div",mt,[a(L,{spinning:t(c)},{default:l(()=>[a(B,{data:t(I),loading:t(c),total:t(u),"row-key":"tplId",onSelectionChange:t(D),onSortChange:t(x)},{empty:l(()=>[o("div",ut,[t(c)?k("",!0):(r(),i("div",ft,"暂无数据"))])]),default:l(()=>[a(_,{type:"selection",width:"32"}),a(_,{label:"属性模板名称",sortable:"custom",width:"200"},{default:l(({row:s})=>[o("div",_t,[a(t(E),{"org-value":s.tplName,"onUpdate:orgValue":v=>s.tplName=v,max:50,params:{id:s.tplId,field:"tplName"},requestApi:t(G),label:"属性模板名称",type:"textarea"},{default:l(()=>[o("div",null,h(s.tplName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])])]),_:1}),a(_,{label:"属性名称列表"},{default:l(({row:s})=>[o("div",ct,[(r(!0),i(y,null,w(s.tplData,v=>(r(),i(y,null,[(r(!0),i(y,null,w(v,O=>(r(),i("span",null,[p(h(O.attrName),1),e[9]||(e[9]=o("em",null,"，",-1))]))),256))],64))),256))])]),_:1}),a(_,{width:150,fixed:"right",label:"操作"},{default:l(({row:s})=>[a(t(S),{params:{act:"detail",id:s.tplId},isDrawer:"",path:"product/productAttributesTpl/Info",title:"编辑属性模板",width:"600px",onOkCallback:t(m)},{default:l(()=>e[10]||(e[10]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[10]},1032,["params","onOkCallback"]),a(q,{direction:"vertical"}),a(t(M),{params:{id:s.tplId},requestApi:t(H),onAfterDelete:t(m)},{default:l(()=>e[11]||(e[11]=[p("删除",-1)])),_:2,__:[11]},1032,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),t(u)>0?(r(),i("div",gt,[a(t(j),{page:t(d).page,"onUpdate:page":e[2]||(e[2]=s=>t(d).page=s),size:t(d).size,"onUpdate:size":e[3]||(e[3]=s=>t(d).size=s),total:t(u),onCallback:t(m)},null,8,["page","size","total","onCallback"])])):k("",!0)])])])])}}}),Pt=$(bt,[["__scopeId","data-v-10480e80"]]);export{Pt as default};
