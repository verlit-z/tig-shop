/* empty css             */import"./index-BdoKLCH8.js";import{d as K,Q as T,a2 as U,r as v,o as k,dL as I,J as _,e as u,f as M,g as W,h as s,y as l,l as t,K as i,t as P,i as S,a4 as R,F as B,dM as F,_ as z}from"./index-BGgofOm4.js";import{c as D}from"./format-CpNC4fsQ.js";import{u as L}from"./theme-B1rnHTnX.js";import{_ as O}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const j={class:"container"},q={class:"content_wrapper"},J={class:"flex flex-align-center",style:{gap:"10px"}},Q={class:"secret-txt line1",style:{"max-width":"380px"}},$={class:"content_wrapper"},A={class:"selected-action"},V=1,G=K({__name:"NoticeSettings",setup(H){const{themeInfo:x}=L();T();const b=U(),f=v(!1),a=v({smsKeyId:"",smsKeySecret:"",smsSignName:"",smsShopMobile:"",serviceEmail:"",sendConfirmEmail:void 0,orderPayEmail:void 0,sendServiceEmail:void 0,sendShipEmail:void 0});k(async()=>{await E()});const y=v(!0),E=async()=>{try{const r=await I();Object.assign(a.value,D(r))}catch(r){_.error(r.message)}finally{y.value=!1}},w=async()=>{f.value=!0;try{const r=await F(a.value);_.success("修改成功")}catch(r){_.error(r.message)}finally{f.value=!1}};return(r,e)=>{const d=u("el-radio"),m=u("el-radio-group"),n=u("el-form-item"),p=u("TigInput"),g=u("el-button"),C=u("el-form"),N=u("a-spin");return W(),M(B,null,[s("div",j,[l(N,{spinning:y.value},{default:t(()=>[l(C,{ref_key:"formRef",ref:b,model:a.value,"label-width":"140px"},{default:t(()=>[s("div",q,[e[16]||(e[16]=s("div",{class:"title"},"短信设置",-1)),l(n,{label:"服务商",required:""},{default:t(()=>[s("div",null,[l(m,{modelValue:V,"onUpdate:modelValue":e[0]||(e[0]=o=>V=o),class:"itemWidth"},{default:t(()=>[l(d,{value:1},{default:t(()=>e[10]||(e[10]=[i("阿里云",-1)])),_:1,__:[10]})]),_:1})])]),_:1}),l(n,{label:"短信帐户用户名",prop:"smsKeyId"},{default:t(()=>[s("div",null,[l(p,{classType:"tig-form-input",modelValue:a.value.smsKeyId,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.smsKeyId=o)},null,8,["modelValue"]),e[11]||(e[11]=s("div",{class:"extra"},"您所申请的短信服务用户名，不填则表示不开通",-1))])]),_:1}),l(n,{label:"短信帐户密码",prop:"smsKeySecret"},{default:t(()=>[s("div",null,[s("div",J,[s("div",Q,P(a.value.smsKeySecret),1),l(S(O),{maskClose:!1,isDrawer:!1,params:{title:"短信帐户密码",content:a.value.smsKeySecret},path:"setting/config/src/EditSecret",title:"短信帐户密码",width:"600px",onOkCallback:e[2]||(e[2]=o=>a.value.smsKeySecret=o)},{default:t(()=>[l(g,{style:{"margin-top":"3px"},link:"",type:"primary"},{default:t(()=>e[12]||(e[12]=[i(" 编辑 ",-1)])),_:1,__:[12]})]),_:1},8,["params"])]),e[13]||(e[13]=s("div",{class:"extra"},"您所申请的短信服务密码，编辑完成后，点击下方提交按钮确认修改，请确保填写正确的短信帐户密码",-1))])]),_:1}),l(n,{label:"短信签名",prop:"smsSignName"},{default:t(()=>[s("div",null,[l(p,{classType:"tig-form-input",modelValue:a.value.smsSignName,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.smsSignName=o)},null,8,["modelValue"]),e[14]||(e[14]=s("div",{class:"extra"},"阿里短信这里填短信签名，其它的根据具体短信接口填写",-1))])]),_:1}),l(n,{label:"商家短信号码",prop:"smsShopMobile"},{default:t(()=>[s("div",null,[l(p,{classType:"tig-form-input",type:"integer",modelValue:a.value.smsShopMobile,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.smsShopMobile=o)},null,8,["modelValue"]),e[15]||(e[15]=s("div",{class:"extra"},"用于接收会员订单等信息",-1))])]),_:1})]),s("div",$,[e[30]||(e[30]=s("div",{class:"title"},"邮箱通知",-1)),l(n,{label:"客服收件地址",prop:"serviceEmail"},{default:t(()=>[s("div",null,[l(p,{classType:"tig-form-input",modelValue:a.value.serviceEmail,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.serviceEmail=o)},null,8,["modelValue"]),e[17]||(e[17]=s("div",{class:"extra"},"该客服邮件地址可用于接收下面所设置的通知",-1))])]),_:1}),l(n,{label:"提交订单发送邮件",prop:"sendConfirmEmail"},{default:t(()=>[l(m,{modelValue:a.value.sendConfirmEmail,"onUpdate:modelValue":e[6]||(e[6]=o=>a.value.sendConfirmEmail=o),class:"itemWidth"},{default:t(()=>[l(d,{value:1},{default:t(()=>e[18]||(e[18]=[i("是",-1)])),_:1,__:[18]}),l(d,{value:0},{default:t(()=>e[19]||(e[19]=[i("否",-1)])),_:1,__:[19]})]),_:1},8,["modelValue"]),e[20]||(e[20]=s("div",{class:"extra"},"订单提交后发送（未支付），建议选“否”",-1))]),_:1,__:[20]}),l(n,{label:"订单支付发送邮件",prop:"orderPayEmail"},{default:t(()=>[l(m,{modelValue:a.value.orderPayEmail,"onUpdate:modelValue":e[7]||(e[7]=o=>a.value.orderPayEmail=o),class:"itemWidth"},{default:t(()=>[l(d,{value:1},{default:t(()=>e[21]||(e[21]=[i("是",-1)])),_:1,__:[21]}),l(d,{value:0},{default:t(()=>e[22]||(e[22]=[i("否",-1)])),_:1,__:[22]})]),_:1},8,["modelValue"]),e[23]||(e[23]=s("div",{class:"extra"},"会员支付订单成功时，是否给会员发送邮件",-1))]),_:1,__:[23]}),l(n,{label:"下单给客服发邮件",prop:"sendServiceEmail"},{default:t(()=>[l(m,{modelValue:a.value.sendServiceEmail,"onUpdate:modelValue":e[8]||(e[8]=o=>a.value.sendServiceEmail=o),class:"itemWidth"},{default:t(()=>[l(d,{value:1},{default:t(()=>e[24]||(e[24]=[i("是",-1)])),_:1,__:[24]}),l(d,{value:0},{default:t(()=>e[25]||(e[25]=[i("否",-1)])),_:1,__:[25]})]),_:1},8,["modelValue"]),e[26]||(e[26]=s("div",{class:"extra"},"提示：此处为发送给客服，商城信息中的客服邮件地址不为空时，该选项有效",-1))]),_:1,__:[26]}),l(n,{label:"发货时发送邮件",prop:"sendShipEmail"},{default:t(()=>[l(m,{modelValue:a.value.sendShipEmail,"onUpdate:modelValue":e[9]||(e[9]=o=>a.value.sendShipEmail=o),class:"itemWidth"},{default:t(()=>[l(d,{value:1},{default:t(()=>e[27]||(e[27]=[i("是",-1)])),_:1,__:[27]}),l(d,{value:0},{default:t(()=>e[28]||(e[28]=[i("否",-1)])),_:1,__:[28]})]),_:1},8,["modelValue"]),e[29]||(e[29]=s("div",{class:"extra"},"提示：该邮件是发给客户",-1))]),_:1,__:[29]})])]),_:1},8,["model"]),e[31]||(e[31]=s("div",{style:{height:"20px"}},null,-1))]),_:1,__:[31]},8,["spinning"])]),s("div",{class:"selected-action-warp selected-warp-left",style:R({left:S(x).layout!=="topMenu"?"369px":"270px"})},[s("div",A,[l(g,{loading:f.value,class:"form-submit-btn",size:"large",type:"primary",onClick:w},{default:t(()=>e[32]||(e[32]=[i("提 交",-1)])),_:1,__:[32]},8,["loading"])])],4)],64)}}}),te=z(G,[["__scopeId","data-v-0b239a4c"]]);export{te as default};
