/* empty css             */import{d as R,Q as S,v as G,a2 as U,r as f,o as k,dA as M,J as g,e as d,f as L,g as T,y as t,l as o,h as l,K as r,a4 as W,i as B,dB as I,_ as N}from"./index-BGgofOm4.js";import{c as A}from"./format-CpNC4fsQ.js";import{u as j}from"./theme-B1rnHTnX.js";const z="/admin/assets/isPlatformCancelPaidOrder-Da0F1ZAZ.png",E="/admin/assets/isPlatformCancelDeliverOrder-DWP-jAPe.png",F={class:"container"},Z={class:"content_wrapper"},q={class:"flex"},J={class:"flex"},K={class:"flex"},Q={class:"itemWidth flex"},H={class:"extra"},X={class:"extra"},Y={class:"selected-action"},$=R({__name:"OrderSettings",setup(c){const{themeInfo:D}=j();S();const V=G(),y=U(),p=f(!1),a=f({autoDeliveryDays:void 0,autoReturnGoods:void 0,autoReturnGoodsDays:void 0,afterSalesLimitDays:void 0,autoCancelOrderMinute:void 0,isPlatformCancelPaidOrder:void 0,isPlatformCancelDeliverOrder:void 0,isShopCancelDeliverOrder:void 0});k(async()=>{await C()});const _=f(!0),C=async()=>{try{const n=await M();Object.assign(a.value,A(n))}catch(n){g.error(n.message)}finally{_.value=!1}},O=async()=>{await y.value.validate(),p.value=!0;try{const n=await I(a.value);g.success("修改成功"),V.updateConfig()}catch(n){g.error(n.message)}finally{p.value=!1}};return(n,e)=>{const m=d("TigInput"),i=d("el-form-item"),u=d("el-radio"),v=d("el-radio-group"),x=d("el-popover"),w=d("el-form"),P=d("el-button"),b=d("a-spin");return T(),L("div",F,[t(b,{spinning:_.value},{default:o(()=>[t(w,{ref_key:"formRef",ref:y,model:a.value,"label-width":"180px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:o(()=>[l("div",Z,[e[30]||(e[30]=l("div",{class:"title"},"基础设置",-1)),t(i,{label:"发货后自动确认收货时间",prop:"autoDeliveryDays"},{default:o(()=>[l("div",null,[l("div",q,[e[7]||(e[7]=l("p",{class:"mr10"},"卖家发货后",-1)),t(m,{type:"integer",modelValue:a.value.autoDeliveryDays,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.autoDeliveryDays=s),width:"110px"},null,8,["modelValue"]),e[8]||(e[8]=l("p",{class:"ml10"},"天，自动确认收货",-1))]),e[9]||(e[9]=l("div",{class:"extra"},"修改后将对新产生的订单立即生效，已产生的订单自动确认收货时间将以发货时的设置为准。",-1))])]),_:1}),t(i,{label:"自动同意退货申请",prop:"autoReturnGoods"},{default:o(()=>[l("div",null,[l("div",null,[t(v,{modelValue:a.value.autoReturnGoods,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.autoReturnGoods=s),class:"itemWidth"},{default:o(()=>[t(u,{value:1},{default:o(()=>e[10]||(e[10]=[r("开启",-1)])),_:1,__:[10]}),t(u,{value:0},{default:o(()=>e[11]||(e[11]=[r("关闭",-1)])),_:1,__:[11]})]),_:1},8,["modelValue"])]),t(i,{label:"",prop:"autoReturnGoodsDays",rules:[{required:a.value.autoReturnGoods==1,message:"请输入卖家自动同意售后天数"}]},{default:o(()=>[l("div",J,[e[12]||(e[12]=l("p",{class:"mr10"},"买家申请",-1)),t(m,{type:"integer",modelValue:a.value.autoReturnGoodsDays,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.autoReturnGoodsDays=s),width:"110px",disabled:a.value.autoReturnGoods==0},null,8,["modelValue","disabled"]),e[13]||(e[13]=l("p",{class:"ml10"},"天后，自动同意客户售后申请",-1))])]),_:1},8,["rules"])])]),_:1}),t(i,{label:"买家申请售后限制",prop:"afterSalesLimitDays"},{default:o(()=>[l("div",null,[l("div",K,[e[14]||(e[14]=l("p",{class:"mr10"},"买家确认收货",-1)),t(m,{type:"integer",modelValue:a.value.afterSalesLimitDays,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.afterSalesLimitDays=s),width:"110px"},null,8,["modelValue"]),e[15]||(e[15]=l("p",{class:"ml10"},"天后，不支持买家申请售后",-1))]),e[16]||(e[16]=l("div",{class:"extra"},"注：不适用虚拟商品、卡密商品、付费内容等特殊类型订单。",-1))])]),_:1}),t(i,{label:"未付款订单",prop:"autoCancelOrderMinute"},{default:o(()=>[l("div",Q,[e[17]||(e[17]=l("span",{class:"mr8"},"订单超",-1)),t(m,{type:"integer",modelValue:a.value.autoCancelOrderMinute,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.autoCancelOrderMinute=s),width:"60px"},null,8,["modelValue"]),e[18]||(e[18]=l("span",{class:"ml8"},"分钟未支付自动取消",-1))]),e[19]||(e[19]=l("div",{class:"extra"},"未支付的订单会自动取消，请填写分钟，比如10则代表10分钟未付款则取消订单，为0或空则不限制",-1))]),_:1,__:[19]}),e[31]||(e[31]=l("div",{class:"title"},"平台管理订单流转设置",-1)),t(i,{label:"已支付订单可取消订单",prop:"isPlatformCancelPaidOrder"},{default:o(()=>[l("div",null,[l("div",null,[t(v,{modelValue:a.value.isPlatformCancelPaidOrder,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.isPlatformCancelPaidOrder=s),class:"itemWidth"},{default:o(()=>[t(u,{value:1},{default:o(()=>e[20]||(e[20]=[r("开启",-1)])),_:1,__:[20]}),t(u,{value:0},{default:o(()=>e[21]||(e[21]=[r("关闭",-1)])),_:1,__:[21]})]),_:1},8,["modelValue"])]),l("div",H,[e[24]||(e[24]=r(" 开启后，客户已支付的订单（待备货/待发货状态），管理员可以操作取消支付，已付款金额会流转至财务退款售后处理 ",-1)),t(x,{width:540,placement:"right-end",trigger:"click"},{reference:o(()=>e[22]||(e[22]=[l("a",null,"查看示例",-1)])),default:o(()=>e[23]||(e[23]=[l("img",{src:z,style:{width:"500px"}},null,-1)])),_:1})])])]),_:1}),t(i,{label:"已发货订单可取消发货",prop:"isPlatformCancelDeliverOrder"},{default:o(()=>[l("div",null,[l("div",null,[t(v,{modelValue:a.value.isPlatformCancelDeliverOrder,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.isPlatformCancelDeliverOrder=s),class:"itemWidth"},{default:o(()=>[t(u,{value:1},{default:o(()=>e[25]||(e[25]=[r("开启",-1)])),_:1,__:[25]}),t(u,{value:0},{default:o(()=>e[26]||(e[26]=[r("关闭",-1)])),_:1,__:[26]})]),_:1},8,["modelValue"])]),l("div",X,[e[29]||(e[29]=r(" 开启后，已发货订单平台管理员可取消发货，已填写的物流信息将会清空 ",-1)),t(x,{width:540,placement:"right-end",trigger:"click"},{reference:o(()=>e[27]||(e[27]=[l("a",null,"查看示例",-1)])),default:o(()=>e[28]||(e[28]=[l("img",{src:E,style:{width:"500px"}},null,-1)])),_:1})])])]),_:1})])]),_:1},8,["model"]),e[33]||(e[33]=l("div",{style:{height:"20px"}},null,-1)),l("div",{class:"selected-action-warp selected-warp-left",style:W({left:B(D).layout!=="topMenu"?"369px":"270px"})},[l("div",Y,[t(P,{loading:p.value,class:"form-submit-btn",size:"large",type:"primary",onClick:O},{default:o(()=>e[32]||(e[32]=[r("提 交",-1)])),_:1,__:[32]},8,["loading"])])],4)]),_:1,__:[33]},8,["spinning"])])}}}),oe=N($,[["__scopeId","data-v-75d9c499"]]);export{oe as default};
