/* empty css             */import{a as C,b as V}from"./productBatch-i1ezdOn8.js";import{r as B}from"./export-BTRfiJpP.js";import{d as S,a2 as k,a9 as A,r as R,e as i,f as D,g as U,h as a,y as l,l as t,K as d,ae as E,J as c,_ as F}from"./index-BGgofOm4.js";const N={class:"container"},P={class:"content_wrapper"},j={class:"lyecs-table-list-warp"},q={class:"list-table-tool lyecs-search-warp"},I={class:"lyecs-form-table"},L=S({__name:"List",setup(T){const f=k(),o=A({isAutoCat:0,isAutoBrand:0,isChangePic:0,isUpload:1,file:""}),p=R(),v=s=>{p.value.clearFiles();const e=s[0];e.uid=E(),p.value.handleStart(e)},b=s=>{let e=new FormData;e.append("file",s.raw),o.file=e.get("file")},w=async()=>{const s=await C();B(s,"模板文件")},g=async()=>{await f.value.validate();try{const s=await V({...o});c.success("操作成功")}catch(s){c.error(s.message)}};return(s,e)=>{const n=i("el-form-item"),_=i("el-button"),y=i("el-upload"),r=i("el-radio"),m=i("el-radio-group"),x=i("el-form");return U(),D("div",N,[a("div",P,[a("div",j,[a("div",q,[e[14]||(e[14]=a("div",{class:"notice-warp"},[a("p",null,"提示："),a("p",null,"1、请先下载模板文件，然后通过上传导入商品"),a("p",null," 2、商品相册：请先将图片上传至服务器站点目录（推荐上传至OSS或站点根目录/img/upload/” 下的目录），比如图片完整路径为：“/www/web/public/img/upload/2022/1.jpg”，填写时请省略public/在内的前面的路径，直接填写“img/upload/2022/1.jpg”即可；多张图请用符号|分隔，第一张图片会作为商品主图 "),a("p",null,"3、商品分类：请按分类级别依次填写名称，使用|分隔，比如：家用电器|电视|平板电视，如果分类不存在时想自动创建，可钩选自动创建分类"),a("p",null,"4、商品品牌：填写品牌名称，如果品牌名称不存在时想自动创建，可钩选自动创建品牌"),a("p",null,"5、关键词：请用空格分隔"),a("p",null,"6、是否上架：填1代表上架，0代表下架"),a("p",{class:"red"},"提示：提交后请勿刷新或关闭页面！")],-1)),a("div",I,[l(x,{ref_key:"formRef",ref:f,model:o,"label-width":"auto"},{default:t(()=>[l(n,{label:"下载模板文件"},{default:t(()=>[a("a",{href:"#",onClick:w},"商品导入模板文件")]),_:1}),l(n,{rules:[{required:!0,message:"请选择文件!"}],label:"上传文件"},{default:t(()=>[l(y,{ref_key:"uploadRef",ref:p,"auto-upload":!1,limit:1,"on-change":b,"on-exceed":v,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",class:"upload-demo"},{trigger:t(()=>[l(_,{type:"primary"},{default:t(()=>e[4]||(e[4]=[d("选择文件",-1)])),_:1,__:[4]})]),_:1},512)]),_:1}),l(n,{label:"是否自动添加分类"},{default:t(()=>[l(m,{modelValue:o.isAutoCat,"onUpdate:modelValue":e[0]||(e[0]=u=>o.isAutoCat=u),class:"width100"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[5]||(e[5]=[d("是",-1)])),_:1,__:[5]}),l(r,{value:0},{default:t(()=>e[6]||(e[6]=[d("否",-1)])),_:1,__:[6]})]),_:1},8,["modelValue"]),e[7]||(e[7]=a("div",{class:"extra"},"如果选指否，则分类不存在时会输出错误；如果选指是，则会自动新建分类！",-1))]),_:1,__:[7]}),l(n,{label:"是否自动添加品牌"},{default:t(()=>[l(m,{modelValue:o.isAutoBrand,"onUpdate:modelValue":e[1]||(e[1]=u=>o.isAutoBrand=u)},{default:t(()=>[l(r,{value:1},{default:t(()=>e[8]||(e[8]=[d("是",-1)])),_:1,__:[8]}),l(r,{value:0},{default:t(()=>e[9]||(e[9]=[d("否",-1)])),_:1,__:[9]})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"是否修改商品相册"},{default:t(()=>[l(m,{modelValue:o.isChangePic,"onUpdate:modelValue":e[2]||(e[2]=u=>o.isChangePic=u),class:"width100"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[10]||(e[10]=[d("是",-1)])),_:1,__:[10]}),l(r,{value:0},{default:t(()=>e[11]||(e[11]=[d("否",-1)])),_:1,__:[11]})]),_:1},8,["modelValue"]),e[12]||(e[12]=a("div",{class:"extra"},"为防止误操作，默认不会对文件中的商品相册字段进行修改，如果需要修改，请钩选此项为“是”",-1))]),_:1,__:[12]}),l(n,{label:" "},{default:t(()=>[l(_,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:e[3]||(e[3]=u=>g())},{default:t(()=>e[13]||(e[13]=[d("提交 ",-1)])),_:1,__:[13]},512)]),_:1})]),_:1},8,["model"])])])])])])}}}),$=F(L,[["__scopeId","data-v-2415faac"]]);export{$ as default};
