import{d as E,v as M,r as G,e as r,f as k,g as f,h as a,y as l,l as s,i as t,a0 as J,K as i,j as x,k as I,t as g}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{P as q}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-DhDNvZWl.js";import{_ as T}from"./Switch.vue_vue_type_script_setup_true_lang-BQY033uH.js";import{D as Q}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as W}from"./Pagination-Nz0PhK3s.js";import{u as C,d as X,b as Y,g as Z}from"./article-BXudWWKl.js";import{S as ee}from"./SelectArticleCategory-BZqt2_5P.js";import{u as te}from"./useListRequest-DIT8yyoo.js";import{_ as A}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";import"./articleCategory-CLgK1IN2.js";/* empty css                                                                              */const le={class:"container"},oe={class:"content_wrapper"},ae={class:"lyecs-table-list-warp"},se={class:"list-table-tool lyecs-search-warp"},ie={class:"advanced-search-warp list-table-tool-row"},ne={class:"simple-form-warp"},re={class:"simple-form-field"},de={class:"form-group"},pe={class:"control-container"},ce={class:"simple-form-field"},me={class:"form-group"},ue={class:"control-container"},_e={class:"simple-form-field"},fe={class:"form-group"},be={class:"control-container"},ge={class:"simple-form-field"},ve={class:"form-group"},ke={class:"control-container"},Ce={class:"simple-form-warp"},ye={class:"simple-form-field"},he={class:"control-container"},we={class:"list-table-tool-row"},Se={class:"list-table-tool-col"},Ie={key:2},Ae={class:"table-container"},Ve={style:{position:"relative"}},Ue={class:"empty-warp"},xe={key:0,class:"empty-bg"},qe={key:0,class:"pagination-con"},Ge=E({__name:"List",setup(Te){const D=M(),{listData:O,loading:y,total:h,selectedIds:c,filterParams:n,loadData:_,onSearchSubmit:m,onSortChange:z,onSelectChange:H,onBatchAction:P,resetParams:B}=te({apiFunction:Z,idKey:"articleId",defaultParams:{sortField:"",sortOrder:"",keyword:"",articleCategoryId:"",isHot:"",isShow:"",page:1,size:D.get("pageSize")}}),w=async b=>{await P(b,Y)};_();const V=G([]),F=b=>{n.articleCategoryId=Array.isArray(b)?b.join(","):"",m()};return(b,e)=>{const p=r("el-button"),K=r("TigInput"),v=r("el-option"),U=r("el-select"),S=r("el-popconfirm"),N=r("el-space"),$=r("el-form"),d=r("el-table-column"),L=r("el-divider"),j=r("el-table"),R=r("a-spin");return f(),k("div",le,[a("div",oe,[a("div",ae,[a("div",se,[l($,{model:t(n),name:"form"},{default:s(()=>[a("div",ie,[a("div",ne,[a("div",re,[a("div",de,[e[10]||(e[10]=a("label",{class:"control-label"},[a("span",null,"文章名称：")],-1)),a("div",pe,[l(K,{modelValue:t(n).keyword,"onUpdate:modelValue":e[0]||(e[0]=o=>t(n).keyword=o),name:"keyword",placeholder:"输入文章名称",onKeyup:J(t(m),["enter"]),clearable:"",onClear:t(m)},{append:s(()=>[l(p,{onClick:t(m)},{default:s(()=>e[9]||(e[9]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[9]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),a("div",ce,[a("div",me,[e[11]||(e[11]=a("label",{class:"control-label"},[a("span",null,"全部分类：")],-1)),a("div",ue,[l(ee,{articeCategoryId:V.value,"onUpdate:articeCategoryId":e[1]||(e[1]=o=>V.value=o),onOnChange:F},null,8,["articeCategoryId"])])])]),a("div",_e,[a("div",fe,[e[12]||(e[12]=a("label",{class:"control-label"},[a("span",null,"是否显示：")],-1)),a("div",be,[l(U,{modelValue:t(n).isShow,"onUpdate:modelValue":e[2]||(e[2]=o=>t(n).isShow=o),clearable:"",onChange:t(m)},{default:s(()=>[l(v,{value:0,label:"不显示"}),l(v,{value:1,label:"显示"})]),_:1},8,["modelValue","onChange"])])])]),a("div",ge,[a("div",ve,[e[13]||(e[13]=a("label",{class:"control-label"},[a("span",null,"是否热门：")],-1)),a("div",ke,[l(U,{"fit-input-width":!1,modelValue:t(n).isHot,"onUpdate:modelValue":e[3]||(e[3]=o=>t(n).isHot=o),clearable:"",onChange:t(m)},{default:s(()=>[l(v,{value:0,label:"不热门"}),l(v,{value:1,label:"热门"})]),_:1},8,["modelValue","onChange"])])])])]),a("div",Ce,[a("div",ye,[e[16]||(e[16]=a("label",{class:"control-label"},null,-1)),a("div",he,[l(p,{type:"primary",plain:"",onClick:t(m)},{default:s(()=>e[14]||(e[14]=[i("搜索",-1)])),_:1,__:[14]},8,["onClick"]),l(p,{plain:"",onClick:t(B)},{default:s(()=>e[15]||(e[15]=[i("重置",-1)])),_:1,__:[15]},8,["onClick"])])])])]),a("div",we,[a("div",Se,[l(N,null,{default:s(()=>[l(t(A),{isDrawer:"",onOkCallback:t(_),title:"添加文章",width:"580px",path:"content/article/Info",params:{act:"add"}},{default:s(()=>[l(p,{type:"primary"},{default:s(()=>e[17]||(e[17]=[i("添加文章",-1)])),_:1,__:[17]})]),_:1},8,["onOkCallback"]),l(S,{title:"您确认要批量删除所选数据吗？",onConfirm:e[4]||(e[4]=o=>w("del"))},{reference:s(()=>[l(p,{disabled:t(c).length===0},{default:s(()=>e[18]||(e[18]=[i("批量删除",-1)])),_:1,__:[18]},8,["disabled"])]),_:1}),l(S,{title:"您确认要批量显示所选数据吗？",onConfirm:e[5]||(e[5]=o=>w("show"))},{reference:s(()=>[l(p,{disabled:t(c).length===0},{default:s(()=>e[19]||(e[19]=[i("批量显示",-1)])),_:1,__:[19]},8,["disabled"])]),_:1}),l(S,{title:"您确认要批量隐藏所选数据吗？",onConfirm:e[6]||(e[6]=o=>w("hide"))},{reference:s(()=>[l(p,{disabled:t(c).length===0},{default:s(()=>e[20]||(e[20]=[i("批量隐藏",-1)])),_:1,__:[20]},8,["disabled"])]),_:1}),t(c).length==0?(f(),x(p,{key:0,disabled:t(c).length===0},{default:s(()=>e[21]||(e[21]=[i("批量转移分类",-1)])),_:1,__:[21]},8,["disabled"])):(f(),x(t(A),{key:1,isDrawer:"",onOkCallback:t(_),title:"批量转移分类",width:"600px",path:"content/article/Move",params:{ids:t(c)}},{default:s(()=>[l(p,null,{default:s(()=>e[22]||(e[22]=[i("批量转移分类",-1)])),_:1,__:[22]})]),_:1},8,["onOkCallback","params"])),t(c).length>0?(f(),k("span",Ie,[e[23]||(e[23]=i(" 已选择：",-1)),a("b",null,g(t(c).length),1),e[24]||(e[24]=i(" 项 ",-1))])):I("",!0)]),_:1})])])]),_:1},8,["model"])]),a("div",Ae,[l(R,{spinning:t(y)},{default:s(()=>[l(j,{data:t(O),"row-key":"articleId",onSelectionChange:t(H),total:t(h),onSortChange:t(z),loading:t(y)},{empty:s(()=>[a("div",Ue,[t(y)?I("",!0):(f(),k("div",xe,"暂无数据"))])]),default:s(()=>[l(d,{type:"selection",width:"32"}),l(d,{label:"文章标题",prop:"articleId",sortable:"custom",width:300},{default:s(({row:o})=>[a("div",Ve,[l(t(q),{label:"文章标题",type:"textarea",requestApi:t(C),"org-value":o.articleTitle,"onUpdate:orgValue":u=>o.articleTitle=u,params:{id:o.articleId,field:"articleTitle"},max:50},{default:s(()=>[a("div",null,g(o.articleTitle),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])])]),_:1}),l(d,{label:"文章编号"},{default:s(({row:o})=>[l(t(q),{label:"文章编号",type:"input",requestApi:t(C),"org-value":o.articleSn,"onUpdate:orgValue":u=>o.articleSn=u,params:{id:o.articleId,field:"articleSn"},max:10},{default:s(()=>[a("div",null,g(o.articleSn||"-"),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])]),_:1}),l(d,{label:"文章分类",prop:"articleCategoryName"}),l(d,{label:"文章类型",prop:"articleTypeText"}),l(d,{width:"100",label:"文章重要性"},{default:s(({row:o})=>[i(g(o.isTop==0?"普通":"置顶"),1)]),_:1}),l(d,{width:"160",label:"发布时间"},{default:s(({row:o})=>[i(g(o.addTime),1)]),_:1}),l(d,{label:"是否热门",prop:"isHot",sortable:"custom",width:120},{default:s(({row:o})=>[l(t(T),{checked:o.isHot,"onUpdate:checked":u=>o.isHot=u,requestApi:t(C),params:{id:o.articleId,field:"isHot"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),l(d,{label:"是否显示",prop:"isShow",sortable:"custom",width:120},{default:s(({row:o})=>[l(t(T),{checked:o.isShow,"onUpdate:checked":u=>o.isShow=u,requestApi:t(C),params:{id:o.articleId,field:"isShow"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),l(d,{label:"操作",fixed:"right",width:110},{default:s(({row:o})=>[l(t(A),{isDrawer:"",onOkCallback:t(_),title:"编辑文章",width:"580px",path:"content/article/Info",params:{act:"detail",id:o.articleId}},{default:s(()=>e[25]||(e[25]=[a("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[25]},1032,["onOkCallback","params"]),l(L,{direction:"vertical"}),l(t(Q),{onAfterDelete:t(_),requestApi:t(X),params:{id:o.articleId}},{default:s(()=>e[26]||(e[26]=[i("删除",-1)])),_:2,__:[26]},1032,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),t(h)>0?(f(),k("div",qe,[l(t(W),{page:t(n).page,"onUpdate:page":e[7]||(e[7]=o=>t(n).page=o),size:t(n).size,"onUpdate:size":e[8]||(e[8]=o=>t(n).size=o),total:t(h),onCallback:t(_)},null,8,["page","size","total","onCallback"])])):I("",!0)])])])])}}});export{Ge as default};
