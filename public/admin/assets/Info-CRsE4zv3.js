import{d as O,r as f,a as R,a2 as q,o as I,e as r,f as P,g as S,h as i,j,k as E,y as l,l as a,E as F,K as g,I as J,J as V}from"./index-BGgofOm4.js";import{c as K,e as M}from"./logisticsCompany-6jh7zrIw.js";const z={class:"container"},A={class:"content_wrapper"},G={class:"lyecs-form-table"},X=O({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(x,{expose:C,emit:T}){const m=T,d=x,p=f(!0),c=R().currentRoute.value.query,v=f(d.isDialog?d.act:String(c.act)),y=f(d.isDialog?d.id:Number(c.id)),N=v.value==="add"?"create":"update",_=q(),o=f({sortOrder:50,isShow:1}),U=async()=>{try{const n=await K(v.value,{id:y.value});Object.assign(o.value,n)}catch(n){V.error(n.message),m("close")}finally{p.value=!1}};I(()=>{v.value==="detail"?U():p.value=!1});const b=async()=>{await _.value.validate();try{m("update:confirmLoading",!0);const n=await M(N,{id:y.value,...o.value});m("submitCallback",n),V.success("操作成功")}catch(n){V.error(n.message)}finally{m("update:confirmLoading",!1)}};return C({onFormSubmit:()=>{b()}}),(n,e)=>{const u=r("TigInput"),s=r("el-form-item"),w=r("el-radio"),k=r("el-radio-group"),D=r("el-button"),B=r("el-form"),L=r("a-spin");return S(),P("div",z,[i("div",A,[i("div",G,[p.value?E("",!0):(S(),j(B,{key:0,ref_key:"formRef",ref:_,model:o.value,"label-width":"auto"},{default:a(()=>[l(s,{rules:[{required:!0,message:"物流公司名称不能为空!"}],label:"物流公司名称",prop:"logisticsName"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.logisticsName,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.logisticsName=t)},null,8,["modelValue"])]),_:1}),l(s,{rules:[{required:!0,message:"物流代号不能为空!"}],label:"物流代号",prop:"logisticsCode"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.logisticsCode,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.logisticsCode=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"物流公司描述",prop:"logisticsDesc"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.logisticsDesc,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.logisticsDesc=t),row:3,type:"textarea"},null,8,["modelValue"])]),_:1}),l(s,{label:"客户编码",prop:"customerName"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.customerName,"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.customerName=t)},null,8,["modelValue"]),e[11]||(e[11]=i("div",{class:"extra"},"请联系合作快递网点获取客户编码，允许为空。",-1))]),_:1,__:[11]}),l(s,{label:"密码",prop:"customerPwd"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.customerPwd,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.customerPwd=t)},null,8,["modelValue"]),e[12]||(e[12]=i("div",{class:"extra"},"请联系合作快递网点获取密码",-1))]),_:1,__:[12]}),l(s,{label:"月结号",prop:"monthCode"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.monthCode,"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.monthCode=t)},null,8,["modelValue"]),e[13]||(e[13]=i("div",{class:"extra"},"请联系合作快递网点获取月结号",-1))]),_:1,__:[13]}),l(s,{label:"网点编码",prop:"sendSite"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.sendSite,"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.sendSite=t)},null,8,["modelValue"]),e[14]||(e[14]=i("div",{class:"extra"},"请联系合作快递网点获取网点编码",-1))]),_:1,__:[14]}),l(s,{label:"网点名称",prop:"sendStaff"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.sendStaff,"onUpdate:modelValue":e[7]||(e[7]=t=>o.value.sendStaff=t)},null,8,["modelValue"]),e[15]||(e[15]=i("div",{class:"extra"},"请联系合作快递网点获取网点名称",-1))]),_:1,__:[15]}),l(s,{label:"快递业务类型",prop:"expType"},{default:a(()=>[l(u,{classType:"tig-form-input",modelValue:o.value.expType,"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.expType=t),type:"number"},null,8,["modelValue"]),e[16]||(e[16]=i("div",{class:"extra"},"请联系合作快递网点获取快递业务类型,（例如：顺丰特快填1，顺丰标快填2）",-1))]),_:1,__:[16]}),l(s,{label:"排序",prop:"sortOrder"},{default:a(()=>[l(u,{classType:"tig-form-input",type:"integer",modelValue:o.value.sortOrder,"onUpdate:modelValue":e[9]||(e[9]=t=>o.value.sortOrder=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"是否显示",prop:"isShow"},{default:a(()=>[l(k,{modelValue:o.value.isShow,"onUpdate:modelValue":e[10]||(e[10]=t=>o.value.isShow=t)},{default:a(()=>[l(w,{value:1},{default:a(()=>e[17]||(e[17]=[g("是",-1)])),_:1,__:[17]}),l(w,{value:0},{default:a(()=>e[18]||(e[18]=[g("否",-1)])),_:1,__:[18]})]),_:1},8,["modelValue"])]),_:1}),F(l(s,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[l(D,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:b},{default:a(()=>e[19]||(e[19]=[g("提交 ",-1)])),_:1,__:[19]},512)]),_:1},512),[[J,!d.isDialog]])]),_:1},8,["model"])),l(L,{spinning:p.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{X as default};
