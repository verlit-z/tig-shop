import{d as I,r as n,a as V,a2 as x,o as R,e as r,f as D,g as p,h as f,j as N,k as q,y as e,l as i,E as L,i as E,K as F,I as j,J as _}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import"./index-BdoKLCH8.js";/* empty css                                                                    */import{_ as A}from"./SelectRankList.vue_vue_type_script_setup_true_lang-w0arOoGG.js";/* empty css                                                                              */import{c as J}from"./user-DX0YfmVA.js";import"./time-BL_Iz6xX.js";import"./index-BS7Hjr9I.js";import"./userRank-BYo4ZadJ.js";const K={class:"container"},M={class:"content_wrapper"},T={class:"lyecs-form-table"},Z=I({__name:"BatchRank",props:{ids:{type:Array,default:[]},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(v,{expose:b,emit:k}){const l=k,t=v,m=n(!0),g=V().currentRoute.value.query,y=n(t.isDialog?t.act:String(g.act)),h=n(t.ids),c=x(),o=n({rankId:""});R(()=>{m.value=!1});const u=async()=>{await c.value.validate();try{l("update:confirmLoading",!0);const a=await J(y.value,{ids:h.value,rankId:o.value.rankId});l("submitCallback",a),_.success("操作成功")}catch(a){_.error(a.message)}finally{l("update:confirmLoading",!1)}};return b({onFormSubmit:()=>{u()}}),(a,s)=>{const d=r("el-form-item"),w=r("el-button"),S=r("el-form"),B=r("a-spin");return p(),D("div",K,[f("div",M,[f("div",T,[m.value?q("",!0):(p(),N(S,{key:0,ref_key:"formRef",ref:c,model:o.value,"label-width":"auto"},{default:i(()=>[e(d,{label:"会员等级",prop:"rankId",rules:[{required:!0,message:"请选择会员等级!"}]},{default:i(()=>[e(E(A),{modelValue:o.value.rankId,"onUpdate:modelValue":s[0]||(s[0]=C=>o.value.rankId=C)},null,8,["modelValue"])]),_:1}),L(e(d,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[e(w,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:u},{default:i(()=>s[1]||(s[1]=[F("提交",-1)])),_:1,__:[1]},512)]),_:1},512),[[j,!t.isDialog]])]),_:1},8,["model"])),e(B,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{Z as default};
