import{d as U}from"./vuedraggable.umd-CLczY9wy.js";import{d as L,cf as w,r as V,cU as S,o as I,f as c,g as a,y as d,i as u,l as r,h as o,J as P,e as _,k as m,K as f,t as C,_ as B}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import"./index-BdoKLCH8.js";/* empty css                                                                    *//* empty css                                                                              */import{S as N}from"./SelectLink-BgkTQE9W.js";import{_ as D}from"./SelectColor.vue_vue_type_script_setup_true_lang-CwwgaVpn.js";import{_ as x}from"./PicList.vue_vue_type_script_setup_true_lang-MtEFb9dU.js";import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_06740008_lang-Cfj1a4LM.js";import{P as E}from"./PicSelect-Cgsc9hKX.js";import"./lodash-Bsq5Emyt.js";import{u as A,i as j}from"./format-CpNC4fsQ.js";import{a as G}from"./product-DiKWBvyV.js";import{_ as F}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./time-BL_Iz6xX.js";import"./index-BS7Hjr9I.js";const z={class:"dec-goods-group-item dec-tip dec-goods-group-item-goods"},J={class:"dec-goods-group-item-con"},K={class:"item-goods-con"},O=["href","title"],q=["src"],H=["onClick"],Q=L({__name:"ProductInfoSelect",props:w({isMultiple:{type:Boolean,default:!1},maxSelection:{type:Number,default:0}},{productList:{},productListModifiers:{}}),emits:["update:productList"],setup(i){V(null);const g=i,h=V([]),n=S(i,"productList");I(()=>{});const y=async p=>{try{const e=await G({ids:p.join(","),size:100,page:1});console.log(e.records),e.records.forEach(l=>{let v={productId:l.productId,productSn:l.productSn,productName:l.productName,productDesc:l.productDesc,productPrice:l.productPrice,marketPrice:l.marketPrice,picThumb:l.picThumb}}),n.value.push(...e.records),console.log(n.value)}catch(e){P.error(e.message)}},k=p=>{n.value.splice(p,1),h.value=n.value.filter(e=>e.productId!==0).map(e=>e.productId)};return(p,e)=>(a(),c("div",null,[d(u(U),{class:"dec-goods-group-list","item-key":"prodcutId",list:n.value,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:e[0]||(e[0]=()=>{}),onEnd:e[1]||(e[1]=()=>{})},{item:r(({element:l,index:v})=>[o("div",z,[o("div",J,[o("div",K,[o("a",{href:u(A)({path:"product",id:l.productId}),target:"_blank",title:l.productName},[o("img",{class:"item-goods-img",src:u(j)(l.picThumb)},null,8,q)],8,O)]),o("div",{class:"del-item",onClick:T=>k(v)},e[2]||(e[2]=[o("i",{class:"ico-decorate icon-dec-cha"},null,-1)]),8,H)])])]),footer:r(()=>[d(u(F),{isDrawer:"",onOkCallback:y,title:"选择商品",width:"600px",path:"product/product/src/SelectProduct",params:{selectedIds:h.value,isMultiple:g.isMultiple,maxSelection:g.maxSelection}},{default:r(()=>e[3]||(e[3]=[o("div",{class:"dec-goods-group-item dec-goods-group-add dec-tip","data-title":"添加商品"},[o("div",{class:"dec-goods-group-item-con"},[o("div",{class:"item-goods-con"},[o("a",{href:"javascript:;"},[o("i",{class:"ico-decorate icon-dec-jia"})])])])],-1)])),_:1,__:[3]},8,["params"])]),_:1},8,["list"])]))}}),R={class:"demo-collapse"},W={class:"collapse-item"},X={key:0,class:"dec-edit-group"},Y={class:"dec-edit-group-con"},Z={class:"dec-pic-group dec-picSingle-group"},oo={class:"dec-edit-group"},eo={class:"dec-edit-group-con"},to={class:"dec-input-group"},so={class:"dec-edit-group"},lo={class:"dec-edit-group-con"},io={class:"dec-input-group"},co={key:1,class:"dec-edit-group"},ao={class:"dec-edit-group-con"},ro={class:"dec-input-group"},uo={key:2,class:"dec-edit-group"},po={class:"dec-edit-group-con"},no={class:"dec-color-group"},mo={class:"dec-color-button"},go=["onClick"],vo={class:"dec-edit-group"},_o={class:"dec-edit-group-con"},fo={class:"dec-link-group"},ho={class:"lyecs-link-select"},yo={key:3,class:"dec-edit-group"},ko={class:"dec-edit-group-con"},bo={key:4,class:"dec-edit-group"},Vo={style:{width:"100%"}},To={key:5,class:"dec-edit-group dec-edit-group-block"},Co={class:"dec-edit-group-con"},Uo={class:"dec-goods-group"},Lo=["onClick"],wo={key:0,class:"cobot-btn"},So=L({__name:"Edit",props:w({title:{type:String,default:""},isMultiple:{type:Boolean,default:!1},showTitlePic:{type:Boolean,default:!0},showDesc:{type:Boolean,default:!0},showColor:{type:Boolean,default:!0},showGroupType:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},showAdd:{type:Boolean,default:!0},activeNames:{type:Array,default:()=>[1]}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const g=S(i,"modelValue"),n=V(i.activeNames),y=()=>{let p={titleImage:{picUrl:"",picThumb:""},groupTitle:"",groupSubTitle:"",groupDesc:"",groupColor:"",groupType:"image",picList:[],pruductList:[],moreLink:{link:{link:"",title:""},linkTitle:""}};g.value.push(p)},k=p=>{g.value.splice(p,1)};return(p,e)=>{const l=_("el-input"),v=_("el-radio-button"),T=_("el-radio-group"),M=_("el-collapse-item"),$=_("el-collapse");return a(),c("div",R,[d($,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t)},{default:r(()=>[d(u(U),{"item-key":"",list:g.value,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:e[0]||(e[0]=()=>{}),onEnd:e[1]||(e[1]=()=>{})},{item:r(({element:t,index:b})=>[o("div",W,[d(M,{name:b+1},{title:r(()=>[f(" 第【"+C(b+1)+"】组 ",1)]),default:r(()=>[i.showTitlePic?(a(),c("div",X,[e[3]||(e[3]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"标题头图：宽150内,高30"),o("div",{class:"value"})],-1)),o("div",Y,[o("div",Z,[d(u(E),{photo:t.titleImage,"onUpdate:photo":s=>t.titleImage=s},null,8,["photo","onUpdate:photo"])])])])):m("",!0),o("div",oo,[e[4]||(e[4]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"分组大标题")],-1)),o("div",eo,[o("div",to,[d(l,{modelValue:t.groupTitle,"onUpdate:modelValue":s=>t.groupTitle=s,placeholder:"请输入标题内容"},null,8,["modelValue","onUpdate:modelValue"])])])]),o("div",so,[e[5]||(e[5]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"分组小标题")],-1)),o("div",lo,[o("div",io,[d(l,{modelValue:t.groupSubTitle,"onUpdate:modelValue":s=>t.groupSubTitle=s,placeholder:"请输入标题内容"},null,8,["modelValue","onUpdate:modelValue"])])])]),i.showDesc?(a(),c("div",co,[e[6]||(e[6]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"分组描述")],-1)),o("div",ao,[o("div",ro,[d(l,{modelValue:t.groupDesc,"onUpdate:modelValue":s=>t.groupDesc=s,placeholder:"请输入描述内容"},null,8,["modelValue","onUpdate:modelValue"])])])])):m("",!0),i.showColor?(a(),c("div",uo,[e[7]||(e[7]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"分组颜色"),o("div",{class:"value"})],-1)),o("div",po,[o("div",no,[o("div",mo,[o("a",{class:"dec-color-reset",onClick:s=>t.groupColor=""},"重置",8,go),d(u(D),{color:t.groupColor,"onUpdate:color":s=>t.groupColor=s},null,8,["color","onUpdate:color"])])])])])):m("",!0),o("div",vo,[e[8]||(e[8]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"查看更多链接")],-1)),o("div",_o,[o("div",fo,[o("div",ho,[d(u(N),{modelValue:t.moreLink,"onUpdate:modelValue":s=>t.moreLink=s,decorateType:"mobile"},null,8,["modelValue","onUpdate:modelValue"])])])])]),i.showGroupType?(a(),c("div",yo,[e[11]||(e[11]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"分组内容"),o("div",{class:"value"})],-1)),o("div",ko,[d(T,{class:"dec-radio-group",modelValue:t.groupType,"onUpdate:modelValue":s=>t.groupType=s},{default:r(()=>[d(v,{value:"image"},{default:r(()=>e[9]||(e[9]=[f("图片",-1)])),_:1,__:[9]}),d(v,{value:"product"},{default:r(()=>e[10]||(e[10]=[f("商品",-1)])),_:1,__:[10]})]),_:2},1032,["modelValue","onUpdate:modelValue"])])])):m("",!0),t.groupType=="image"?(a(),c("div",bo,[o("div",Vo,[e[12]||(e[12]=o("div",{class:"tips"},"轮播图片: 宽300, 高180",-1)),d(u(x),{isMultiple:!0,photos:t.picList,"onUpdate:photos":s=>t.picList=s,title:"添加图片",decorateType:"mobile"},null,8,["photos","onUpdate:photos"])])])):m("",!0),t.groupType=="product"?(a(),c("div",To,[e[13]||(e[13]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"选择商品")],-1)),o("div",Co,[o("div",Uo,[d(u(Q),{productList:t.pruductList,"onUpdate:productList":s=>t.pruductList=s,isMultiple:!0},null,8,["productList","onUpdate:productList"])])]),e[14]||(e[14]=o("div",{class:"dec-edit-group-desc"},[o("div",null,"提示：您可以通过拖拽进行商品排序")],-1))])):m("",!0)]),_:2},1032,["name"]),i.isMultiple==!0&&i.showClose?(a(),c("div",{key:0,class:"del-item",onClick:s=>k(b)},e[15]||(e[15]=[o("i",{class:"ico-decorate icon-dec-cha"},null,-1)]),8,Lo)):m("",!0)])]),_:1},8,["list"])]),_:1},8,["modelValue"]),i.isMultiple==!0&&i.showAdd?(a(),c("div",wo,[o("a",{onClick:y,class:"dec-pic-add-btn"},[e[16]||(e[16]=o("i",{class:"ico-decorate icon-dec-jia"},null,-1)),f(C(i.title),1)])])):m("",!0)])}}}),qo=B(So,[["__scopeId","data-v-b31d5bd4"]]);export{qo as default};
