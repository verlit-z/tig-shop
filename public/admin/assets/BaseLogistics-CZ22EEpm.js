/* empty css             */import"./index-BdoKLCH8.js";import{Z as k,d as A,r as m,a2 as B,o as C,e as d,f as _,g as x,y as l,l as o,h as s,k as U,t as P,i as V,K as b,a4 as D,J as f,_ as E}from"./index-BGgofOm4.js";import{c as F}from"./format-CpNC4fsQ.js";import{u as R}from"./theme-B1rnHTnX.js";import{_ as q}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const z=()=>k({url:"setting/config/shippingSettings",method:"get"}),M=g=>k({url:"setting/config/saveShipping",method:"post",data:g}),O={class:"container"},j={class:"content_wrapper"},J={class:"content_wrapper"},W={class:"flex flex-align-center",style:{gap:"10px"}},Z={class:"secret-txt line1",style:{"max-width":"380px"}},$={class:"content_wrapper"},G={class:"selected-action"},H=A({__name:"BaseLogistics",emits:["submitCallback","update:confirmLoading","close"],setup(g,{expose:N,emit:w}){const{themeInfo:S}=R(),u=w,I=m(!1),p=m(!0),c=B(),t=m({defaultLogisticsName:"",kdniaoApiKey:"",kdniaoBusinessId:"",mobile:"",provinceName:"",cityName:"",areaName:"",address:"",sender:""}),T=async()=>{try{const n=await z();Object.assign(t.value,F(n))}catch(n){f.error(n.message)}finally{p.value=!1}};C(()=>{T()});const v=async()=>{await c.value.validate();try{u("update:confirmLoading",!0);const n=await M(t.value);u("submitCallback",n),f.success("保存成功")}catch(n){f.error(n.message)}finally{u("update:confirmLoading",!1)}};return N({onFormSubmit:()=>{v()}}),(n,e)=>{const r=d("TigInput"),i=d("el-form-item"),y=d("el-button"),L=d("el-form"),K=d("a-spin");return x(),_("div",O,[l(K,{spinning:p.value},{default:o(()=>[l(L,{ref_key:"formRef",ref:c,model:t.value,"label-width":"auto",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:o(()=>[s("div",j,[e[10]||(e[10]=s("div",{class:"title"},"快递发货设置",-1)),l(i,{label:"自定义名称",prop:"defaultLogisticsName",rules:[{required:!0,message:"自定义名称不能为空"}]},{default:o(()=>[s("div",null,[l(r,{width:"260px",modelValue:t.value.defaultLogisticsName,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.defaultLogisticsName=a),maxlength:10,showWordLimit:""},null,8,["modelValue"]),e[9]||(e[9]=s("div",{class:"extra"},"该名称会显示在买家可选择的配送方式中，默认名称“商家配送”",-1))])]),_:1})]),s("div",J,[e[13]||(e[13]=s("div",{class:"title"},"快递接口设置",-1)),l(i,{label:"快递鸟API Key",prop:"kdniaoApiKey"},{default:o(()=>[s("div",null,[s("div",W,[s("div",Z,P(t.value.kdniaoApiKey),1),l(V(q),{maskClose:!1,isDrawer:!1,params:{title:"快递鸟API Key",content:t.value.kdniaoApiKey},path:"setting/config/src/EditSecret",title:"快递鸟API Key",width:"600px",onOkCallback:e[1]||(e[1]=a=>t.value.kdniaoApiKey=a)},{default:o(()=>[l(y,{style:{"margin-top":"3px"},link:"",type:"primary"},{default:o(()=>e[11]||(e[11]=[b(" 编辑 ",-1)])),_:1,__:[11]})]),_:1},8,["params"])]),e[12]||(e[12]=s("div",{class:"extra"},"编辑完成后，点击下方提交按钮确认修改，请确保填写正确的API Key",-1))])]),_:1}),l(i,{label:"快递鸟服务ID",prop:"kdniaoBusinessId"},{default:o(()=>[l(r,{classType:"tig-form-input",modelValue:t.value.kdniaoBusinessId,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.kdniaoBusinessId=a),type:"text"},null,8,["modelValue"])]),_:1})]),s("div",$,[e[14]||(e[14]=s("div",{class:"title"},"发货信息设置",-1)),l(i,{label:"发货人",prop:"sender"},{default:o(()=>[l(r,{classType:"tig-form-input",modelValue:t.value.sender,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.sender=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货人联系方式",prop:"mobile"},{default:o(()=>[l(r,{classType:"tig-form-input",modelValue:t.value.mobile,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.mobile=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货地省份",prop:"provinceName"},{default:o(()=>[l(r,{classType:"tig-form-input",modelValue:t.value.provinceName,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.provinceName=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货城市",prop:"cityName"},{default:o(()=>[l(r,{classType:"tig-form-input",modelValue:t.value.cityName,"onUpdate:modelValue":e[6]||(e[6]=a=>t.value.cityName=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货地区",prop:"areaName"},{default:o(()=>[l(r,{classType:"tig-form-input",modelValue:t.value.areaName,"onUpdate:modelValue":e[7]||(e[7]=a=>t.value.areaName=a),type:"text"},null,8,["modelValue"])]),_:1}),l(i,{label:"发货详细地址",prop:"address"},{default:o(()=>[l(r,{classType:"tig-form-input",modelValue:t.value.address,"onUpdate:modelValue":e[8]||(e[8]=a=>t.value.address=a),type:"text"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model"]),e[16]||(e[16]=s("div",{style:{height:"20px"}},null,-1)),p.value?U("",!0):(x(),_("div",{key:0,class:"selected-action-warp selected-warp-left",style:D({left:V(S).layout!=="topMenu"?"369px":"270px"})},[s("div",G,[l(y,{loading:I.value,class:"form-submit-btn",size:"large",type:"primary",onClick:v},{default:o(()=>e[15]||(e[15]=[b("提 交",-1)])),_:1,__:[15]},8,["loading"])])],4))]),_:1,__:[16]},8,["spinning"])])}}}),oe=E(H,[["__scopeId","data-v-6422e81f"]]);export{oe as default};
