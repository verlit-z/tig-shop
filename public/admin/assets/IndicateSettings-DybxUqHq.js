/* empty css             */import{d as W,Q as B,v as P,a2 as U,r as d,o as D,eo as O,J as g,e as i,j as y,g as f,l as t,y as l,h as s,K as p,k as T,i as H,f as j,F,m as E,ep as z,_ as J}from"./index-BGgofOm4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-CdQ8MEGg.js";import"./index-BdoKLCH8.js";import{c as K}from"./format-CpNC4fsQ.js";/* empty css                                                                    *//* empty css                                                                              */import{S as M}from"./SelectRegion-Bxd6ZG6M.js";import"./time-BL_Iz6xX.js";import"./index-BS7Hjr9I.js";import"./region-Dqu2emUz.js";import"./region-BHgAbnXc.js";const Q={class:"itemWidth"},q={class:"selected-action-warp selected-warp-left"},A={class:"selected-action",style:{"padding-left":"80px"}},G=W({__name:"IndicateSettings",setup(X){B();const S=P(),c=U(),u=d([]),v=d(!1),a=d({msgHackWord:"",isOpenPscws:"",selfStoreName:"",shopDefaultRegions:"",defaultCountry:0,showCatLevel:0}),V=d([]);D(async()=>{await x()});const _=d(!0),x=async()=>{try{const n=await O();n.shopDefaultRegions&&(u.value=n.shopDefaultRegions.split(",").map(Number)),Object.assign(a.value,K(n)),V.value=n.countries||[]}catch(n){g.error(n.message)}finally{_.value=!1}},k=async()=>{v.value=!0,u.value.length>0&&(a.value.shopDefaultRegions=u.value.join(","));try{const n=await z(a.value);g.success("修改成功"),S.updateConfig()}catch(n){g.error(n.message)}finally{v.value=!1}};return(n,e)=>{const w=i("TigInput"),r=i("el-form-item"),m=i("el-radio"),C=i("el-radio-group"),b=i("el-option"),N=i("el-select"),R=i("el-form"),I=i("el-button"),L=i("a-spin");return f(),y(L,{spinning:_.value},{default:t(()=>[l(R,{ref_key:"formRef",ref:c,model:a.value,"label-width":"140px",style:{"margin-left":"22px"}},{default:t(()=>[e[16]||(e[16]=s("div",{class:"title",id:"generalSetup"},"通用设置",-1)),l(r,{label:"敏感词屏蔽",prop:"msgHackWord"},{default:t(()=>[l(w,{width:"100%",modelValue:a.value.msgHackWord,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.msgHackWord=o)},null,8,["modelValue"]),e[6]||(e[6]=s("div",{class:"extra"},"设置后留言中出现的字符会提示非法，请用“,”号隔开，",-1))]),_:1,__:[6]}),l(r,{label:"搜索关键词分词",prop:"isOpenPscws"},{default:t(()=>[l(C,{modelValue:a.value.isOpenPscws,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.isOpenPscws=o),class:"itemWidth"},{default:t(()=>[l(m,{value:1},{default:t(()=>e[7]||(e[7]=[p("开启",-1)])),_:1,__:[7]}),l(m,{value:0},{default:t(()=>e[8]||(e[8]=[p("关闭",-1)])),_:1,__:[8]})]),_:1},8,["modelValue"]),e[9]||(e[9]=s("div",{class:"extra"},"开启后将自动分词，比如：儿童机器人，分拆分为：儿童、机器人（会降低搜索结果精准度）",-1))]),_:1,__:[9]}),l(r,{label:"自营名称",prop:"selfStoreName"},{default:t(()=>[l(w,{width:"100%",modelValue:a.value.selfStoreName,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.selfStoreName=o)},null,8,["modelValue"]),e[10]||(e[10]=s("div",{class:"extra"},"比如：官方自营、Tigshop自营，仅对B2B2C多商户版本有效",-1))]),_:1,__:[10]}),e[17]||(e[17]=s("div",{class:"title",id:"regionalSettings"},"地区设置",-1)),l(r,{label:"商城默认地区",prop:"shopCountry"},{default:t(()=>[s("div",Q,[_.value?T("",!0):(f(),y(H(M),{key:0,modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o)},null,8,["modelValue"]))]),e[11]||(e[11]=s("div",{class:"extra"},"此地区会在系统未判断出用户IP所在地域时，默认定位地区（仅影响PC端右上角送货地址）",-1))]),_:1,__:[11]}),l(r,{label:"默认国家",prop:"defaultCountry"},{default:t(()=>[l(N,{modelValue:a.value.defaultCountry,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.defaultCountry=o),style:{width:"100%"}},{default:t(()=>[l(b,{value:"0",label:"不选择"}),(f(!0),j(F,null,E(V.value,o=>(f(),y(b,{key:o.regionId,value:o.regionId,label:o.regionName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),e[12]||(e[12]=s("div",{class:"extra"}," 如果选择了默认国家，则会员在选择地址时默认会显示该国家下的省份或地区，不再显示国家选择（修改设置对已经添加的会员地址不生效） ",-1))]),_:1,__:[12]}),e[18]||(e[18]=s("div",{class:"title",id:"categoryDisplay"},"分类显示",-1)),l(r,{label:"商城分类级数",prop:"showCatLevel"},{default:t(()=>[l(C,{modelValue:a.value.showCatLevel,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.showCatLevel=o),class:"itemWidth"},{default:t(()=>[l(m,{value:1},{default:t(()=>e[13]||(e[13]=[p("二级",-1)])),_:1,__:[13]}),l(m,{value:0},{default:t(()=>e[14]||(e[14]=[p("三级或以上",-1)])),_:1,__:[14]})]),_:1},8,["modelValue"]),e[15]||(e[15]=s("div",{class:"extra"},"根据商城情况，选择最多有多少分类级别，会影响到手机端分类展示方式（不推荐只设置一级分类）",-1))]),_:1,__:[15]})]),_:1,__:[16,17,18]},8,["model"]),e[20]||(e[20]=s("div",{style:{height:"20px"}},null,-1)),s("div",q,[s("div",A,[l(I,{loading:v.value,class:"form-submit-btn",size:"large",type:"primary",onClick:k},{default:t(()=>e[19]||(e[19]=[p("提 交",-1)])),_:1,__:[19]},8,["loading"])])])]),_:1,__:[20]},8,["spinning"])}}}),re=J(G,[["__scopeId","data-v-5267230f"]]);export{re as default};
