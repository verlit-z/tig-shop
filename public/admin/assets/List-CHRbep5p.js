import{d as N,v as O,e as l,f as c,g as _,h as s,y as e,l as a,i as t,K as p,k as v,t as T,p as q}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{D as F}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as L}from"./Pagination-Nz0PhK3s.js";import{u as U}from"./useListRequest-DIT8yyoo.js";import{d as K,b as R,g as $}from"./productGroup-DT5Tex1G.js";import{_ as k}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const E={class:"container"},M={class:"content_wrapper"},j={class:"lyecs-table-list-warp"},H={class:"list-table-tool lyecs-search-warp"},J={class:"list-table-tool-row"},Q={class:"simple-form-warp"},W={class:"simple-form-field"},X={class:"form-group"},Y={class:"control-container"},Z={class:"simple-form-field"},tt={class:"form-group"},ot={class:"simple-form-field"},et={class:"form-group"},st={key:0},at={class:"table-container"},nt={style:{position:"relative"}},lt={class:"empty-warp"},it={key:0,class:"empty-bg"},rt={key:0,class:"pagination-con"},kt=N({__name:"List",setup(dt){const C=O(),{listData:w,loading:m,total:u,selectedIds:f,filterParams:i,loadData:d,onSearchSubmit:g,onSortChange:y,onSelectChange:S,onBatchAction:G}=U({apiFunction:$,idKey:"productGroupId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:C.get("pageSize")}}),D=async h=>{await G(h,R)};return d(),(h,o)=>{const b=l("el-button"),I=l("TigInput"),x=l("el-popconfirm"),z=l("el-space"),V=l("el-form"),r=l("el-table-column"),P=l("el-divider"),A=l("el-table"),B=l("a-spin");return _(),c("div",E,[s("div",M,[s("div",j,[s("div",H,[e(V,{model:t(i),onSubmit:q(t(g),["prevent"])},{default:a(()=>[s("div",J,[s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[e(I,{modelValue:t(i).keyword,"onUpdate:modelValue":o[0]||(o[0]=n=>t(i).keyword=n),name:"keyword",placeholder:"输入分组名称",clearable:"",onClear:t(g)},{append:a(()=>[e(b,{onClick:t(g)},{default:a(()=>o[4]||(o[4]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),s("div",Z,[s("div",tt,[e(t(k),{params:{act:"add"},isDrawer:"",path:"product/productGroup/Info",title:"添加分组",width:"600px",onOkCallback:t(d)},{default:a(()=>[e(b,{type:"primary"},{default:a(()=>o[5]||(o[5]=[p("添加分组",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])]),s("div",ot,[s("div",et,[e(z,null,{default:a(()=>[e(x,{title:"您确认要批量删除所选数据吗？",onConfirm:o[1]||(o[1]=n=>D("del"))},{reference:a(()=>[e(b,{disabled:t(f).length===0},{default:a(()=>o[6]||(o[6]=[p("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),t(f).length>0?(_(),c("span",st,[o[7]||(o[7]=p(" 已选择：",-1)),s("b",null,T(t(f).length),1),o[8]||(o[8]=p(" 项 ",-1))])):v("",!0)]),_:1})])])])])]),_:1},8,["model","onSubmit"])]),s("div",at,[e(B,{spinning:t(m)},{default:a(()=>[e(A,{data:t(w),loading:t(m),total:t(u),"row-key":"productGroupId",onSelectionChange:t(S),"show-overflow-tooltip":"",onSortChange:t(y)},{empty:a(()=>[s("div",lt,[t(m)?v("",!0):(_(),c("div",it,"暂无数据"))])]),default:a(()=>[e(r,{type:"selection",width:"32"}),e(r,{label:"分组名称",prop:"productGroupName"}),e(r,{label:"分组别名",prop:"productGroupSn"}),e(r,{prop:"productGroupDescription",label:"分组描述"}),e(r,{label:"添加时间",prop:"addTime",sortable:"custom"}),e(r,{width:150,fixed:"right",label:"操作"},{default:a(({row:n})=>[s("div",nt,[e(t(k),{params:{act:"detail",id:n.productGroupId},isDrawer:"",path:"product/productGroup/Info",title:"编辑分组",width:"600px",onOkCallback:t(d)},{default:a(()=>o[9]||(o[9]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[9]},1032,["params","onOkCallback"]),e(P,{direction:"vertical"}),e(t(F),{params:{id:n.productGroupId},requestApi:t(K),onAfterDelete:t(d)},{default:a(()=>o[10]||(o[10]=[p("删除",-1)])),_:2,__:[10]},1032,["params","requestApi","onAfterDelete"])])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),t(u)>0?(_(),c("div",rt,[e(t(L),{page:t(i).page,"onUpdate:page":o[2]||(o[2]=n=>t(i).page=n),size:t(i).size,"onUpdate:size":o[3]||(o[3]=n=>t(i).size=n),total:t(u),onCallback:t(d)},null,8,["page","size","total","onCallback"])])):v("",!0)])])])])}}});export{kt as default};
