import{d as R,v as j,r as E,c as G,e as n,f as u,g as c,h as l,y as t,j as H,l as s,i as e,a0 as J,K as f,t as w,k as S}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{P as M}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-DhDNvZWl.js";import{_ as V}from"./Switch.vue_vue_type_script_setup_true_lang-BQY033uH.js";import{D as Q}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as W}from"./Pagination-Nz0PhK3s.js";import{u as N,d as X,b as Y,g as Z}from"./pcNavigation-DqUcvWs5.js";import{_ as ee}from"./Tree.vue_vue_type_style_index_0_lang-B8r8JBQs.js";import{u as te}from"./useListRequest-DIT8yyoo.js";import{_ as A}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const ae={class:"container"},oe={class:"content_wrapper"},le={key:0,class:"container"},se={class:"lyecs-table-list-warp"},ne={class:"list-table-tool lyecs-search-warp"},ie={class:"list-table-tool-row"},de={class:"simple-form-warp"},re={class:"simple-form-field"},pe={class:"form-group"},ce={class:"control-container"},me={class:"simple-form-field"},_e={class:"form-group"},ue={class:"simple-form-field"},fe={class:"form-group"},ge={key:0},be={class:"table-container"},ve={class:"empty-warp"},he={key:0,class:"empty-bg"},ke={key:0,class:"pagination-con"},ze=R({__name:"List",setup(ye){const O=j(),i=E(1),g=G(()=>i.value===1?"主导航":i.value===2?"顶部小导航":i.value===3?"底部导航":"侧边导航"),U=m=>{d.type=m,d.page=1,m!=2&&p()},{listData:q,loading:v,total:h,selectedIds:k,filterParams:d,loadData:p,onSearchSubmit:y,onSortChange:B,onSelectChange:D,onBatchAction:P}=te({apiFunction:Z,idKey:"id",defaultParams:{page:1,size:O.get("pageSize"),sortField:"",sortOrder:"",keyword:"",type:1}}),x=async m=>{await P(m,Y)};return p(),(m,o)=>{const b=n("el-tab-pane"),z=n("el-tabs"),C=n("el-button"),K=n("TigInput"),F=n("el-popconfirm"),I=n("el-space"),r=n("el-table-column"),T=n("el-divider"),$=n("el-table"),L=n("a-spin");return c(),u("div",ae,[l("div",oe,[t(z,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),class:"lyecs-tabs","tab-position":"top",onTabChange:U},{default:s(()=>[t(b,{name:1,label:"主导航"}),t(b,{name:2,label:"顶部小导航"}),t(b,{name:3,label:"底部导航"}),t(b,{name:4,label:"侧边导航"})]),_:1},8,["modelValue"]),i.value!=null&&i.value!=2?(c(),u("div",le,[l("div",se,[l("div",ne,[l("div",ie,[l("div",de,[l("div",re,[l("div",pe,[l("div",ce,[t(K,{modelValue:e(d).keyword,"onUpdate:modelValue":o[1]||(o[1]=a=>e(d).keyword=a),name:"keyword",placeholder:"输入导航栏名称",onKeyup:J(e(y),["enter"]),clearable:"",onClear:e(y)},{append:s(()=>[t(C,{onClick:e(y)},{default:s(()=>o[5]||(o[5]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[5]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),l("div",me,[l("div",_e,[t(e(A),{params:{act:"add",type:i.value,typeName:g.value},title:"添加"+g.value,isDrawer:"",path:"decorate/pcNavigation/Info",width:"560px",onOkCallback:e(p)},{default:s(()=>[t(C,{type:"primary"},{default:s(()=>[f(w("添加"+g.value),1)]),_:1})]),_:1},8,["params","title","onOkCallback"])])]),l("div",ue,[l("div",fe,[t(I,null,{default:s(()=>[t(F,{title:"您确认要批量删除所选数据吗？",onConfirm:o[2]||(o[2]=a=>x("del"))},{reference:s(()=>[t(C,{disabled:e(k).length===0},{default:s(()=>o[6]||(o[6]=[f("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),e(k).length>0?(c(),u("span",ge,[o[7]||(o[7]=f(" 已选择：",-1)),l("b",null,w(e(k).length),1),o[8]||(o[8]=f(" 项 ",-1))])):S("",!0)]),_:1})])])])])]),l("div",be,[t(L,{spinning:e(v)},{default:s(()=>[t($,{data:e(q),loading:e(v),total:e(h),"row-key":"id",onSelectionChange:e(D),onSortChange:e(B)},{empty:s(()=>[l("div",ve,[e(v)?S("",!0):(c(),u("div",he,"暂无数据"))])]),default:s(()=>[t(r,{type:"selection",width:"32"}),t(r,{width:200,label:"名称",prop:"title"}),t(r,{width:100,label:"位置",prop:"typeName"}),t(r,{label:"是否显示",prop:"isShow"},{default:s(({row:a})=>[t(e(V),{checked:a.isShow,"onUpdate:checked":_=>a.isShow=_,params:{id:a.id,field:"isShow"},requestApi:e(N)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(r,{label:"是否新窗口"},{default:s(({row:a})=>[t(e(V),{checked:a.isBlank,"onUpdate:checked":_=>a.isBlank=_,params:{id:a.id,field:"isBlank"},requestApi:e(N)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(r,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:s(({row:a})=>[t(e(M),{"org-value":a.sortOrder,"onUpdate:orgValue":_=>a.sortOrder=_,params:{id:a.id,field:"sortOrder"},requestApi:e(N),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:s(()=>[l("div",null,w(a.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(r,{width:150,fixed:"right",label:"操作"},{default:s(({row:a})=>[t(e(A),{params:{act:"detail",type:i.value,id:a.id},title:"编辑商城"+g.value+"导航栏",isDrawer:"",path:"decorate/pcNavigation/Info",width:"560px",onOkCallback:e(p)},{default:s(()=>o[9]||(o[9]=[l("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[9]},1032,["params","title","onOkCallback"]),t(T,{direction:"vertical"}),t(e(Q),{params:{id:a.id},requestApi:e(X),onAfterDelete:e(p)},{default:s(()=>o[10]||(o[10]=[f("删除 ",-1)])),_:2,__:[10]},1032,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(h)>0?(c(),u("div",ke,[t(e(W),{page:e(d).page,"onUpdate:page":o[3]||(o[3]=a=>e(d).page=a),size:e(d).size,"onUpdate:size":o[4]||(o[4]=a=>e(d).size=a),total:e(h),onCallback:e(p)},null,8,["page","size","total","onCallback"])])):S("",!0)])])])):(c(),H(ee,{key:1}))])])}}});export{ze as default};
