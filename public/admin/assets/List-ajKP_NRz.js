import{Z as S,d as z,v as P,e as n,f as _,g as m,h as a,y as t,l,i as e,a0 as V,k as b}from"./index-BGgofOm4.js";/* empty css             *//* empty css                                                                    */import{P as L}from"./Pagination-Nz0PhK3s.js";import{u as K}from"./useListRequest-DIT8yyoo.js";const T=u=>S({url:"authority/adminLog/list",method:"get",params:u}),x={class:"container"},B={class:"content_wrapper"},F={class:"lyecs-table-list-warp"},N={class:"list-table-tool lyecs-search-warp"},U={class:"list-table-tool-row"},q={class:"list-table-tool-col"},A={class:"table-container"},D={class:"empty-warp"},E={key:0,class:"empty-bg"},O={key:0,class:"pagination-con"},M=z({__name:"List",setup(u){const f=P(),{listData:y,loading:d,total:p,filterParams:s,loadData:g,onSearchSubmit:c,onSortChange:h}=K({apiFunction:T,idKey:"articleId",defaultParams:{page:1,size:f.get("pageSize"),sortField:"logTime",sortOrder:"desc",keyword:""}});return g(),(R,o)=>{const k=n("el-button"),C=n("TigInput"),w=n("el-space"),i=n("el-table-column"),v=n("el-table"),I=n("a-spin");return m(),_("div",x,[a("div",B,[a("div",F,[a("div",N,[a("div",U,[a("div",q,[t(w,null,{default:l(()=>[t(C,{modelValue:e(s).keyword,"onUpdate:modelValue":o[0]||(o[0]=r=>e(s).keyword=r),class:"width240",name:"keyword",placeholder:"输入关键词或IP地址",onKeyup:V(e(c),["enter"]),clearable:"",onClear:e(c)},{append:l(()=>[t(k,{onClick:e(c)},{default:l(()=>o[3]||(o[3]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[3]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])]),_:1})])])]),a("div",A,[t(I,{spinning:e(d)},{default:l(()=>[t(v,{data:e(y),loading:e(d),total:e(p),"row-key":"logId",onSortChange:e(h)},{empty:l(()=>[a("div",D,[e(d)?b("",!0):(m(),_("div",E,"暂无数据"))])]),default:l(()=>[t(i,{label:"编号",prop:"logId"}),t(i,{label:"操作者",prop:"username"}),t(i,{label:"IP地址",prop:"ipAddress"}),t(i,{label:"操作日期",prop:"logTime",sortable:"custom"}),t(i,{label:"操作记录",prop:"logInfo"})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),e(p)>0?(m(),_("div",O,[t(e(L),{page:e(s).page,"onUpdate:page":o[1]||(o[1]=r=>e(s).page=r),size:e(s).size,"onUpdate:size":o[2]||(o[2]=r=>e(s).size=r),total:e(p),onCallback:e(g)},null,8,["page","size","total","onCallback"])])):b("",!0)])])])])}}});export{M as default};
