/* empty css             */import{d as y,v as x,a2 as h,r as u,o as b,eq as A,J as m,e as i,j as I,g as k,l as r,y as a,h as o,K as C,er as T,_ as U}from"./index-BGgofOm4.js";import{c as N}from"./format-CpNC4fsQ.js";const q={class:"selected-action-warp selected-warp-left"},B={class:"selected-action",style:{"padding-left":"80px"}},R=y({__name:"InterfactSettings",setup(j){const f=x(),v=h(),p=u(!1),t=u({wechatOauth:0,wechatAppId:"",wechatAppSecret:"",wechatServerUrl:"",wechatServerToken:"",wechatServerSecret:""});b(async()=>{await w()});const c=u(!0),w=async()=>{try{const n=await A();Object.assign(t.value,N(n))}catch(n){m.error(n.message)}finally{c.value=!1}},_=async()=>{p.value=!0;try{const n=await T(t.value);m.success("修改成功"),f.updateConfig()}catch(n){m.error(n.message)}finally{p.value=!1}};return(n,e)=>{const s=i("TigInput"),d=i("el-form-item"),S=i("el-form"),g=i("el-button"),V=i("a-spin");return k(),I(V,{spinning:c.value},{default:r(()=>[a(S,{ref_key:"formRef",ref:v,model:t.value,"label-width":"145px",style:{"margin-left":"22px"}},{default:r(()=>[e[10]||(e[10]=o("div",{class:"title",id:"weChatofficialaccount"},"微信公众号",-1)),a(d,{label:"微信APPID",prop:"wechatAppId"},{default:r(()=>[a(s,{width:"100%",modelValue:t.value.wechatAppId,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.wechatAppId=l)},null,8,["modelValue"]),e[5]||(e[5]=o("div",{class:"extra"},"请从微信公众号后台获取，链接：https://mp.weixin.qq.com",-1))]),_:1,__:[5]}),a(d,{label:"微信AppSecret",prop:"wechatAppSecret"},{default:r(()=>[a(s,{width:"100%",modelValue:t.value.wechatAppSecret,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.wechatAppSecret=l)},null,8,["modelValue"]),e[6]||(e[6]=o("div",{class:"extra"},"请从微信公众号后台获取",-1))]),_:1,__:[6]}),a(d,{label:"微信服务器接口地址",prop:"wechatServerUrl"},{default:r(()=>[a(s,{width:"100%",modelValue:t.value.wechatServerUrl,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.wechatServerUrl=l),readonly:""},null,8,["modelValue"]),e[7]||(e[7]=o("div",{class:"extra"},"系统默认项目，配置公众号服务器地址时请带项目访问域名",-1))]),_:1,__:[7]}),a(d,{label:"微信服务器Token",prop:"wechatServerToken"},{default:r(()=>[a(s,{width:"100%",modelValue:t.value.wechatServerToken,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.wechatServerToken=l)},null,8,["modelValue"]),e[8]||(e[8]=o("div",{class:"extra"},"请从微信公众号后台获取",-1))]),_:1,__:[8]}),a(d,{label:"微信服务器消息加密密钥",prop:"wechatServerSecret"},{default:r(()=>[a(s,{width:"100%",modelValue:t.value.wechatServerSecret,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.wechatServerSecret=l)},null,8,["modelValue"]),e[9]||(e[9]=o("div",{class:"extra"},"请从微信公众号后台获取",-1))]),_:1,__:[9]})]),_:1,__:[10]},8,["model"]),e[12]||(e[12]=o("div",{style:{height:"20px"}},null,-1)),o("div",q,[o("div",B,[a(g,{loading:p.value,class:"form-submit-btn",size:"large",type:"primary",onClick:_},{default:r(()=>e[11]||(e[11]=[C("提 交",-1)])),_:1,__:[11]},8,["loading"])])])]),_:1,__:[12]},8,["spinning"])}}}),D=U(R,[["__scopeId","data-v-529b3a72"]]);export{D as default};
