import{Z as cs,d as us,P as vs,r as _,A as ts,a as ms,a8 as _s,o as fs,q as ps,x as ys,e as D,f as n,g as o,h as s,y,l as f,j as es,k as b,t as a,i as r,n as p,K as x,J as xs,_ as gs}from"./index-BGgofOm4.js";import{i as is}from"./index-Bb6yjXMn.js";const bs=()=>cs({url:"panel/panel/index",method:"get"}),ws={class:"container"},Ds={class:""},hs={style:{display:"flex",gap:"12px","flex-direction":"column"}},ks={class:"content_wrapper tig-table-list bar-top-item"},Ts={class:"data_box"},As={class:"count"},Rs={class:"data_box"},Ss={class:"count"},Ns={class:"data_box"},Gs={class:"count"},zs={class:"data_box"},Cs={class:"count"},Os={class:"data_box"},$s={class:"count"},Vs={class:"content_wrapper tig-table-list tig-table-list-admin"},Ys={class:"store-data-con"},Bs={class:"header"},js={class:"title"},Is={class:"content"},Ms={class:"live-wrapper"},Ps={class:"index-detail"},Es={class:"detail-left"},Hs={class:"live-counter"},Ls={class:"oui-counter-digit"},Fs={class:"detail-right"},qs={class:"yesterday-data clearfix"},Js={class:"yesterday-value num"},Ks={class:"live-counter"},Us={class:"oui-counter-digit f12"},Ws={key:0,class:"admin-iconfont up red f12"},Zs={key:1,class:"admin-iconfont green f12"},Qs={class:"live-wrapper"},Xs={class:"index-detail"},st={class:"detail-left"},tt={class:"live-counter"},et={class:"oui-counter-digit"},it={class:"detail-right"},at={class:"yesterday-data clearfix"},ot={class:"yesterday-value num"},lt={class:"live-counter"},nt={class:"oui-counter-digit f12"},dt={key:0,class:"admin-iconfont up red f12"},rt={key:1,class:"admin-iconfont green f12"},ct={class:"live-wrapper"},ut={class:"index-detail"},vt={class:"detail-left"},mt={class:"live-counter"},_t={class:"oui-counter-digit"},ft={class:"detail-right"},pt={class:"yesterday-data clearfix"},yt={class:"yesterday-value num"},xt={class:"live-counter"},gt={class:"oui-counter-digit f12"},bt={key:0,class:"admin-iconfont up red f12"},wt={key:1,class:"admin-iconfont green f12"},Dt={class:"live-wrapper"},ht={class:"index-detail"},kt={class:"detail-left"},Tt={class:"live-counter"},At={class:"oui-counter-digit"},Rt={class:"detail-right"},St={class:"yesterday-data clearfix"},Nt={class:"yesterday-value num"},Gt={class:"live-counter"},zt={class:"oui-counter-digit f12"},Ct={key:0,class:"admin-iconfont up red f12"},Ot={key:1,class:"admin-iconfont green f12"},$t={class:"live-wrapper"},Vt={class:"index-detail"},Yt={class:"detail-left"},Bt={class:"live-counter"},jt={class:"oui-counter-digit"},It={class:"detail-right"},Mt={class:"yesterday-data clearfix"},Pt={class:"yesterday-value num"},Et={class:"live-counter"},Ht={class:"oui-counter-digit f12"},Lt={key:0,class:"admin-iconfont up red f12"},Ft={key:1,class:"admin-iconfont green f12"},qt={class:"chart-menu content_wrapper"},Jt=us({__name:"Index",setup(Kt){const l=vs(),h=_(!1),k=_(ts().format("YYYY-MM-DD HH:mm:ss")),as=ms(),T=_(!1),e=_(),A=_(),R=_();let d,u;const w=_({title:{text:"访问趋势",left:"left",textStyle:{color:"#222",fontSize:16}},grid:{right:"2.5%"},tooltip:{trigger:"axis"},legend:{data:["访问量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[0]},yAxis:{type:"value"},series:[{name:"访问量",data:[0],type:"line",smooth:!0,lineStyle:{color:"#1456f0"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#ECF5FF"},{offset:1,color:"#ffffff"}],global:!1}},color:"#1456f0",emphasis:{scale:!1}}]}),os=()=>{h.value=!0,k.value=ts().format("YYYY-MM-DD HH:mm:ss"),S(),setTimeout(()=>{h.value=!1,xs.success("刷新成功")},500)},g=_({title:{text:"交易趋势",left:"left",textStyle:{color:"#222",fontSize:16}},grid:{right:"5.5%"},tooltip:{trigger:"axis"},legend:{data:["订单金额","订单数量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"",splitLine:{show:!0}},{type:"value",name:"",splitLine:{show:!1}}],series:[{name:"订单金额",data:[],type:"bar",barWidth:"50%",itemStyle:{color:"#1456f0"},emphasis:{scale:!1},yAxisIndex:0},{name:"订单数量",data:[],type:"line",smooth:!0,lineStyle:{color:"#fac858"},itemStyle:{color:"#fac858"},emphasis:{scale:!1},yAxisIndex:1}]}),S=async()=>{try{const c=await bs();e.value=c,w.value.xAxis.data=c.panelStatisticalData.horizontalAxis,w.value.series[0].data=c.panelStatisticalData.longitudinalAxisAccess,d&&d.setOption(w.value);const t=c.panelStatisticalData.longitudinalAxisOrderNum.map(m=>m===0?0:m);g.value.xAxis.data=c.panelStatisticalData.horizontalAxis,g.value.series[0].data=c.panelStatisticalData.longitudinalAxisOrderAmount,g.value.series[1].data=t,u&&u.setOption(g.value)}catch(c){console.error(c)}T.value=!1},N=()=>{d==null||d.resize(),u==null||u.resize()},ls=()=>{l==="admin"&&(d=is(A.value),d.setOption(w.value)),u=is(R.value),u.setOption(g.value),window.addEventListener("resize",N)},v=(c,t)=>{as.push({path:c,query:t})};return _s(()=>{S()}),fs(()=>{ps(()=>{ls()}),window.onresize=()=>{d==null||d.resize()}}),ys(()=>{d==null||d.dispose(),u==null||u.dispose(),window.removeEventListener("resize",N)}),(c,t)=>{const m=D("el-col"),ns=D("el-row"),ds=D("router-link"),rs=D("a-spin");return o(),n("div",ws,[s("div",Ds,[y(rs,{spinning:T.value},{default:f(()=>{var G,z,C,O,$,V,Y,B,j,I,M,P,E,H,L,F,q,J,K,U,W,Z,Q,X,ss;return[s("div",hs,[s("div",ks,[t[20]||(t[20]=s("div",{class:"box-header"},[s("div",{class:"title"},"待办事项")],-1)),y(ns,{gutter:15},{default:f(()=>[y(m,{lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:t[0]||(t[0]=i=>v("/order/list",{status:0}))},{default:f(()=>{var i;return[t[11]||(t[11]=s("div",{class:"bar_panel panel-bar-left"},[s("i",{class:"main_pel_m iconfont-admin icon-base-daifukuan"})],-1)),s("div",Ts,[t[10]||(t[10]=s("div",{class:"title"},"待付款订单",-1)),s("div",As,a(((i=e.value)==null?void 0:i.consoleData.awaitPay)??0),1)])]}),_:1,__:[11]}),y(m,{lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:t[1]||(t[1]=i=>v("/order/list",{status:1}))},{default:f(()=>{var i;return[t[13]||(t[13]=s("div",{class:"bar_panel panel-bar-left"},[s("em",{class:"main_pel_m iconfont-admin icon-base-daifahuo"})],-1)),s("div",Rs,[t[12]||(t[12]=s("div",{class:"title"},"待发货订单",-1)),s("div",Ss,a(((i=e.value)==null?void 0:i.consoleData.awaitShip)??0),1)])]}),_:1,__:[13]}),y(m,{lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:t[2]||(t[2]=i=>v("/order/aftersales/list",{status:1}))},{default:f(()=>{var i;return[t[15]||(t[15]=s("div",{class:"bar_panel panel-bar-left"},[s("em",{class:"main_pel_m iconfont-admin icon-base-tuihuanhuo"})],-1)),s("div",Ns,[t[14]||(t[14]=s("div",{class:"title"},"待售后订单",-1)),s("div",Gs,a(((i=e.value)==null?void 0:i.consoleData.awaitAfterSale)??0),1)])]}),_:1,__:[15]}),r(l)==="admin"?(o(),es(m,{key:0,lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:t[3]||(t[3]=i=>v("/user/feedback/list",{type:"5,6",status:0}))},{default:f(()=>{var i;return[t[17]||(t[17]=s("div",{class:"bar_panel panel-bar-left"},[s("em",{class:"main_pel_m iconfont-admin icon-base-daipingjia"})],-1)),s("div",zs,[t[16]||(t[16]=s("div",{class:"title"},"待回复订单",-1)),s("div",Cs,a(((i=e.value)==null?void 0:i.consoleData.awaitComment)??0),1)])]}),_:1,__:[17]})):b("",!0),r(l)==="shop"?(o(),es(m,{key:1,lg:6,md:6,sm:12,xs:12,class:"itme-box",onClick:t[4]||(t[4]=i=>v("/comment/list",{status:0}))},{default:f(()=>{var i;return[t[19]||(t[19]=s("div",{class:"bar_panel panel-bar-left"},[s("em",{class:"main_pel_m iconfont-admin icon-base-daipingjia"})],-1)),s("div",Os,[t[18]||(t[18]=s("div",{class:"title"},"待回复订单",-1)),s("div",$s,a(((i=e.value)==null?void 0:i.consoleData.awaitComment)??0),1)])]}),_:1,__:[19]})):b("",!0)]),_:1})]),s("div",Vs,[s("div",Ys,[s("div",Bs,[s("div",js,[t[21]||(t[21]=s("div",null,"实时数据",-1)),s("div",{class:"time",onClick:os},[s("div",null,"更新时间："+a(k.value),1),s("i",{class:p(["iconfont-admin icon-shuaxin1",{"rotate-animation":h.value}])},null,2)])])]),s("div",Is,[s("div",{class:p(["index-cell index-cell-0",{linetwo:r(l)!=="admin"}]),onClick:t[5]||(t[5]=i=>v("/statistics-order/list/",{}))},[s("div",Ms,[t[25]||(t[25]=s("i",{class:"oui-icon iconfont-admin icon-base-basezhifujine"},null,-1)),s("div",Ps,[s("div",Es,[t[22]||(t[22]=s("div",{class:"name sans-serif"},"支付金额",-1)),s("div",Hs,[s("span",Ls,a((G=e.value)==null?void 0:G.realTimeData.todayOrderAmount),1)])]),s("div",Fs,[s("div",qs,[t[23]||(t[23]=s("div",{class:"name"},"昨日全天",-1)),s("div",Js,a(((z=e.value)==null?void 0:z.realTimeData.yesterdayOrderAmount)??"0"),1)]),s("div",Ks,[s("span",Us,[t[24]||(t[24]=x("日环比 ",-1)),s("span",null,a(((C=e.value)==null?void 0:C.realTimeData.orderAmountGrowthRate)??0)+"%",1),((O=e.value)==null?void 0:O.realTimeData.orderAmountGrowthRate.toString())!=="--"&&Number(($=e.value)==null?void 0:$.realTimeData.orderAmountGrowthRate)>0?(o(),n("i",Ws,"")):(o(),n("i",Zs,""))])])])])])],2),r(l)==="admin"?(o(),n("div",{key:0,class:p(["index-cell index-cell-1",{linetwo:r(l)!=="admin"}]),onClick:t[6]||(t[6]=i=>v("/statistics-access/list/",{}))},[s("div",Qs,[t[29]||(t[29]=s("i",{class:"oui-icon iconfont-admin icon-base-zuji"},null,-1)),s("div",Xs,[s("div",st,[t[26]||(t[26]=s("div",{class:"name sans-serif"},"访客数",-1)),s("div",tt,[s("span",et,a(((V=e.value)==null?void 0:V.realTimeData.todayVisitNum)??"0"),1)])]),s("div",it,[s("div",at,[t[27]||(t[27]=s("div",{class:"name"},"昨日全天",-1)),s("div",ot,a(((Y=e.value)==null?void 0:Y.realTimeData.yesterdayVisitNum)??"0"),1)]),s("div",lt,[s("span",nt,[t[28]||(t[28]=x("日环比 ",-1)),s("span",null,a(((B=e.value)==null?void 0:B.realTimeData.visitGrowthRate)??0)+"%",1),((j=e.value)==null?void 0:j.realTimeData.visitGrowthRate.toString())!=="--"&&Number((I=e.value)==null?void 0:I.realTimeData.visitGrowthRate)>0?(o(),n("i",dt,"")):(o(),n("i",rt,""))])])])])])],2)):b("",!0),s("div",{class:p(["index-cell index-cell-2",{linetwo:r(l)!=="admin"}]),onClick:t[7]||(t[7]=i=>r(l)=="admin"?v("/statistics-user/list/",{}):"")},[s("div",ct,[t[33]||(t[33]=s("i",{class:"oui-icon iconfont-admin icon-base-tuandui"},null,-1)),s("div",ut,[s("div",vt,[t[30]||(t[30]=s("div",{class:"name sans-serif"},"支付买家数",-1)),s("div",mt,[s("span",_t,a(((M=e.value)==null?void 0:M.realTimeData.todayBuyerNum)??"0"),1)])]),s("div",ft,[s("div",pt,[t[31]||(t[31]=s("div",{class:"name"},"昨日全天",-1)),s("div",yt,a(((P=e.value)==null?void 0:P.realTimeData.yesterdayBuyerNum)??"0"),1)]),s("div",xt,[s("span",gt,[t[32]||(t[32]=x("日环比 ",-1)),s("span",null,a(((E=e.value)==null?void 0:E.realTimeData.buyerGrowthRate)??0)+"%",1),((H=e.value)==null?void 0:H.realTimeData.buyerGrowthRate.toString())!=="--"&&Number((L=e.value)==null?void 0:L.realTimeData.buyerGrowthRate)>0?(o(),n("i",bt,"")):(o(),n("i",wt,""))])])])])])],2),r(l)==="admin"?(o(),n("div",{key:1,class:p(["index-cell index-cell-3",{linetwo:r(l)!=="admin"}]),onClick:t[8]||(t[8]=i=>v("/statistics-access/list/",{}))},[s("div",Dt,[t[37]||(t[37]=s("i",{class:"oui-icon iconfont-admin icon-base-liulan"},null,-1)),s("div",ht,[s("div",kt,[t[34]||(t[34]=s("div",{class:"name sans-serif"},"浏览量",-1)),s("div",Tt,[s("span",At,a(((F=e.value)==null?void 0:F.realTimeData.todayViewNum)??"0"),1)])]),s("div",Rt,[s("div",St,[t[35]||(t[35]=s("div",{class:"name"},"昨日全天",-1)),s("div",Nt,a(((q=e.value)==null?void 0:q.realTimeData.yesterdayViewNum)??"0"),1)]),s("div",Gt,[s("span",zt,[t[36]||(t[36]=x("日环比 ",-1)),s("span",null,a(((J=e.value)==null?void 0:J.realTimeData.viewGrowthRate)??0)+"%",1),((K=e.value)==null?void 0:K.realTimeData.viewGrowthRate.toString())!=="--"&&Number((U=e.value)==null?void 0:U.realTimeData.viewGrowthRate)>0?(o(),n("i",Ct,"")):(o(),n("i",Ot,""))])])])])])],2)):b("",!0),s("div",{class:p(["index-cell index-cell-4",{linetwo:r(l)!=="admin"}]),onClick:t[9]||(t[9]=i=>v("/statistics-sale/list/",{}))},[s("div",$t,[t[41]||(t[41]=s("i",{class:"oui-icon iconfont-admin icon-base-dingdan"},null,-1)),s("div",Vt,[s("div",Yt,[t[38]||(t[38]=s("div",{class:"name sans-serif"},"支付订单数",-1)),s("div",Bt,[s("span",jt,a((W=e.value)==null?void 0:W.realTimeData.todayOrderNum),1)])]),s("div",It,[s("div",Mt,[t[39]||(t[39]=s("div",{class:"name"},"昨日全天",-1)),s("div",Pt,a(((Z=e.value)==null?void 0:Z.realTimeData.yesterdayOrderNum)??"0"),1)]),s("div",Et,[s("span",Ht,[t[40]||(t[40]=x("日环比 ",-1)),s("span",null,a(((Q=e.value)==null?void 0:Q.realTimeData.orderGrowthRate)??0)+"%",1),((X=e.value)==null?void 0:X.realTimeData.orderGrowthRate.toString())!=="--"&&Number((ss=e.value)==null?void 0:ss.realTimeData.orderGrowthRate)>0?(o(),n("i",Lt,"")):(o(),n("i",Ft,""))])])])])])],2),s("div",{class:p(["index-cell index-cell-5",{linetwo:r(l)!=="admin"}])},[y(ds,{to:{path:"/statistics-sale/list"},class:"check-more tig-openPage"},{default:f(()=>t[42]||(t[42]=[x(" 查看更多销售统计 ",-1)])),_:1,__:[42]})],2)])]),t[43]||(t[43]=s("div",{class:"clearfix"},null,-1))]),s("div",qt,[r(l)==="admin"?(o(),n("div",{key:0,ref_key:"accessStatisticsRef",ref:A,class:"chart-menu-item"},null,512)):b("",!0),s("div",{ref_key:"ordersReceivedStatisticsRef",ref:R,class:p(["chart-menu-item",{full:r(l)!=="admin"}])},null,2)])])]}),_:1},8,["spinning"])])])}}}),Zt=gs(Jt,[["__scopeId","data-v-ed820927"]]);export{Zt as default};
