import{d as V,Y as j,r as M,e as w,f as o,g as a,k as c,h as t,i as e,n as S,j as y,l as i,y as p,aH as E,ds as F,E as N,I as O,_ as $}from"./index-BGgofOm4.js";import"./index-BdoKLCH8.js";import{d as A}from"./vuedraggable.umd-CLczY9wy.js";import{_ as v}from"./Image.vue_vue_type_script_setup_true_lang-oDjiJjwB.js";import{i as b}from"./format-CpNC4fsQ.js";import{B as G}from"./BusinessImg-Dt_2PeVb.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";const z={class:"gallery-pic"},D={class:"item-img add-photo-btn"},H={key:2,class:"remove-btn"},P={key:0,class:"item-action"},R={key:1,class:"gallery-list-warp"},Y={class:"item","data-id":"img.imgId"},q={class:"img flex flex-justify-center"},J={class:"lyecs-dialogImage"},K={key:1,class:"lyecs-dialogImage"},L=["onClick"],Q={key:0},W={class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},X=V({__name:"FormAddGallery",props:{photo:{type:String,default:""},photos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1},pageType:{type:String,default:""}},emits:["update:photo","update:photos"],setup(r,{emit:B}){const u=r,{photo:n,photos:_,isMultiple:k,disabled:f}=j(u),g=B,m=d=>{if(k.value==!0){let s=_.value||[];g("update:photos",s.concat(d))}else g("update:photo",d[0].picUrl)},C=d=>{let s=_.value;s.splice(d,1),g("update:photos",s)},x=()=>{g("update:photo","")};return M(!1),M(""),(d,s)=>{const T=w("el-icon");return a(),o("div",z,[!e(k)&&r.type==1?(a(),o("div",{key:0,class:S("gallery-pic-select "+(e(n)?"have_image":""))},[t("div",D,[e(n)?(a(),y(e(v),{key:0,class:"gallery-img",src:e(b)(e(n))},null,8,["src"])):c("",!0),e(n)?c("",!0):(a(),y(e(h),{key:1,type:"gallery",class:"item-bg",onOkCallback:m,params:{isMultiple:u.isMultiple}},{default:i(()=>s[2]||(s[2]=[t("div",{class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},[t("i",{class:"iconfont icon-tianjiatupian"}),t("span",null,"添加图片")],-1)])),_:1,__:[2]},8,["params"])),e(n)&&!e(f)?(a(),o("p",H,[t("i",{onClick:x,class:"iconfont icon-cha"})])):c("",!0)]),e(n)&&r.type==1&&!e(f)?(a(),o("div",P,[p(e(h),{type:"gallery",class:"item item-edit",onOkCallback:m,params:{isMultiple:u.isMultiple}},{default:i(()=>s[3]||(s[3]=[t("span",{class:"iconfont icon-bianji1"},null,-1)])),_:1,__:[3]},8,["params"]),t("span",{onClick:x,class:"item item-remove iconfont icon-shanchu"})])):c("",!0)],2)):c("",!0),t("div",null,[r.type==2?(a(),y(e(h),{key:0,type:"gallery",onOkCallback:m,params:{isMultiple:u.isMultiple}},{default:i(()=>[t("div",null,[E(d.$slots,"default",{},void 0,!0)])]),_:3},8,["params"])):c("",!0)]),e(k)?(a(),o("div",R,[t("div",null,[p(e(A),{class:"gallery-list-ul","item-key":"picId",list:e(_),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:s[0]||(s[0]=()=>{}),onEnd:s[1]||(s[1]=()=>{})},{item:i(({element:l,index:U})=>[t("div",Y,[t("div",q,[r.pageType=="product"?(a(),y(G,{key:0,modelValue:l.picUrl,"onUpdate:modelValue":I=>l.picUrl=I,picThumb:l.picThumb,dataId:l.picId,dataType:7,onEdit:m,onDelete:C},{default:i(()=>[t("a",J,[p(e(v),{class:"gallery-img",big:l.picUrl,src:e(b)(l.picThumb)},null,8,["big","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","picThumb","dataId"])):(a(),o("a",K,[p(e(v),{class:"gallery-img",big:l.picUrl,src:e(b)(l.picThumb)},null,8,["big","src"])])),N(t("i",{onClick:I=>C(U),class:"btn-del iconfont icon-cha"},null,8,L),[[O,!e(f)]])])])]),footer:i(()=>[e(f)?(a(),o("div",Q)):(a(),y(e(h),{key:1,type:"gallery",class:"",onOkCallback:m,params:{isMultiple:u.isMultiple}},{default:i(()=>[t("div",W,[p(T,{size:"25"},{default:i(()=>[p(e(F))]),_:1})])]),_:1},8,["params"]))]),_:1},8,["list"])])])):c("",!0)])}}}),oe=$(X,[["__scopeId","data-v-2125e9fb"]]);export{oe as F};
