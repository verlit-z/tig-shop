/* empty css             */import"./index-BdoKLCH8.js";import{P as A}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-DhDNvZWl.js";import{d as J,v as K,r as _,a9 as M,o as R,e as r,f,g as v,h as l,k as h,y as t,l as o,i as n,K as p,n as j,t as w,J as S}from"./index-BGgofOm4.js";import{_ as G}from"./Switch.vue_vue_type_script_setup_true_lang-BQY033uH.js";import{D as H}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as Q}from"./Pagination-Nz0PhK3s.js";import{_ as W}from"./Image.vue_vue_type_script_setup_true_lang-oDjiJjwB.js";import{a as C,d as X,b as Y,c as Z}from"./example-Ds-ocjVN.js";import{_ as O}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";import"./format-CpNC4fsQ.js";const ee={class:"container"},te={class:"content_wrapper"},ae={class:"lyecs-table-list-warp"},le={class:"list-table-tool lyecs-search-warp"},oe={class:"list-table-tool-row"},se={class:"list-table-tool-col"},ne={key:0,class:"advanced-search-warp list-table-tool-row"},ie={class:"simple-form-warp"},re={class:"simple-form-field"},de={class:"form-group"},pe={class:"control-container"},me={class:"simple-form-field"},ce={class:"table-container"},ue={style:{position:"relative"}},_e={class:"empty-warp"},fe={key:0,class:"empty-bg"},ve={key:0,class:"pagination-con"},ge={key:0,class:"selected-action-warp selected-warp-left"},be={class:"selected-action"},Ne=J({__name:"List",setup(xe){const q=K(),V=_(),c=_(!0),g=_(0),b=_([]),x=_(!1),s=M({page:1,size:q.get("pageSize"),sortField:"",sortOrder:"",keyword:"",isShow:-1}),d=async()=>{c.value=!0;try{const i=await Y({...s});V.value=i.records,g.value=i.total}catch(i){S.error(i.message)}finally{c.value=!1}};R(()=>{d()});const I=()=>{d()},z=({prop:i,order:e})=>{s.sortField=i,s.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",d()},N=async i=>{try{const e=await Z(i,{ids:b.value});S.success("操作成功"),d()}catch(e){S.error(e.message)}},D=i=>{b.value=i.map(e=>e.exampleId)};return(i,e)=>{const y=r("el-button"),F=r("TigInput"),U=r("el-space"),k=r("el-option"),P=r("el-select"),$=r("el-form"),m=r("el-table-column"),B=r("el-divider"),E=r("el-table"),L=r("a-spin"),T=r("el-popconfirm");return v(),f("div",ee,[l("div",te,[l("div",ae,[l("div",le,[t($,{model:s},{default:o(()=>[l("div",oe,[l("div",se,[t(U,null,{default:o(()=>[t(n(O),{isDrawer:"",onOkCallback:d,title:"添加示例模板",width:"600px",path:"product/example/Info",params:{act:"add"}},{default:o(()=>[t(y,{type:"primary"},{default:o(()=>e[6]||(e[6]=[p("添加示例模板",-1)])),_:1,__:[6]})]),_:1}),t(F,{name:"keyword",modelValue:s.keyword,"onUpdate:modelValue":e[0]||(e[0]=a=>s.keyword=a),placeholder:"输入示例模板名称"},{append:o(()=>[t(y,{onClick:I},{default:o(()=>e[7]||(e[7]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[7]})]),_:1},8,["modelValue"]),l("a",{class:j("advanced-search-btn ml18 "+(x.value?"active":"")),onClick:e[1]||(e[1]=a=>x.value=!x.value)},e[8]||(e[8]=[p("高级搜索",-1),l("i",{class:"iconfont icon-xia"},null,-1)]),2)]),_:1})]),e[9]||(e[9]=l("div",{class:"list-table-tool-col"},null,-1))]),x.value?(v(),f("div",ne,[l("div",ie,[l("div",re,[l("div",de,[e[10]||(e[10]=l("label",{class:"control-label"},[l("span",null,"是否显示：")],-1)),l("div",pe,[t(P,{modelValue:s.isShow,"onUpdate:modelValue":e[2]||(e[2]=a=>s.isShow=a)},{default:o(()=>[t(k,{value:-1,label:"请选择..."}),t(k,{value:0,label:"不显示"}),t(k,{value:1,label:"显示"})]),_:1},8,["modelValue"])])])]),l("div",me,[t(y,{type:"primary",onClick:I},{default:o(()=>e[11]||(e[11]=[p("搜索",-1)])),_:1,__:[11]})])])])):h("",!0)]),_:1},8,["model"])]),l("div",ce,[t(L,{spinning:c.value},{default:o(()=>[t(E,{data:V.value,"row-key":"exampleId",onSelectionChange:D,total:g.value,onSortChange:z,loading:c.value},{empty:o(()=>[l("div",_e,[c.value?h("",!0):(v(),f("div",fe,"暂无数据"))])]),default:o(()=>[t(m,{type:"selection",width:"32"}),t(m,{label:"示例模板名称",prop:"exampleId",sortable:"custom",width:200},{default:o(({row:a})=>[l("div",ue,[t(n(A),{label:"示例模板名称",type:"textarea",requestApi:n(C),"org-value":a.exampleName,"onUpdate:orgValue":u=>a.exampleName=u,params:{id:a.exampleId,field:"exampleName"},max:50},{default:o(()=>[l("div",null,w(a.exampleName),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])])]),_:1}),t(m,{label:"示例模板缩略图"},{default:o(({row:a})=>[t(n(W),{style:{height:"25px",width:"60px"},src:a.exampleLogo,fit:"contain"},null,8,["src"])]),_:1}),t(m,{label:"是否显示",prop:"isShow",sortable:"custom"},{default:o(({row:a})=>[t(n(G),{checked:a.isShow,"onUpdate:checked":u=>a.isShow=u,requestApi:n(C),params:{id:a.exampleId,field:"isShow"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),t(m,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:o(({row:a})=>[t(n(A),{label:"排序",type:"input",requestApi:n(C),"org-value":a.sortOrder,"onUpdate:orgValue":u=>a.sortOrder=u,params:{id:a.exampleId,field:"sortOrder"},extra:"默认值为50，数值越小，排序越靠前"},{default:o(()=>[l("div",null,w(a.sortOrder),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])]),_:1}),t(m,{label:"操作",fixed:"right",width:150},{default:o(({row:a})=>[t(n(O),{isDrawer:"",onOkCallback:d,title:"编辑示例模板",width:"600px",path:"product/example/Info",params:{act:"edit",id:a.exampleId}},{default:o(()=>e[12]||(e[12]=[l("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[12]},1032,["params"]),t(B,{direction:"vertical"}),t(n(H),{onAfterDelete:d,requestApi:n(X),params:{id:a.exampleId}},{default:o(()=>e[13]||(e[13]=[p("删除",-1)])),_:2,__:[13]},1032,["requestApi","params"])]),_:1})]),_:1},8,["data","total","loading"])]),_:1},8,["spinning"]),g.value>0?(v(),f("div",ve,[t(n(Q),{page:s.page,"onUpdate:page":e[3]||(e[3]=a=>s.page=a),size:s.size,"onUpdate:size":e[4]||(e[4]=a=>s.size=a),total:g.value,onCallback:d},null,8,["page","size","total"])])):h("",!0)]),b.value.length>0?(v(),f("div",ge,[l("div",be,[t(U,null,{default:o(()=>[l("span",null,[e[14]||(e[14]=p("已选择：",-1)),l("b",null,w(b.value.length),1),e[15]||(e[15]=p(" 项",-1))]),t(T,{title:"您确认要批量删除所选数据吗？",onConfirm:e[5]||(e[5]=a=>N("del"))},{reference:o(()=>[t(y,null,{default:o(()=>e[16]||(e[16]=[p("批量删除",-1)])),_:1,__:[16]})]),_:1})]),_:1})])])):h("",!0)])])])}}});export{Ne as default};
