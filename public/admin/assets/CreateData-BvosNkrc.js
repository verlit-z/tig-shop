import{u as R}from"./install-B8Fg-OVL.js";import{d as q,a2 as U,r as c,c as y,o as x,e as r,f as D,g as C,h as i,y as o,l as d,K as f,J as b,_ as N}from"./index-BGgofOm4.js";const S={class:"create-container"},k={class:"content"},B=q({__name:"CreateData",emits:["onDisabled"],setup(E,{expose:v,emit:V}){const p=V,m=U(),l=c({sql:0,dbhost:"127.0.0.1",dbname:"tigshop",dbport:"3306",dbuser:"root",dbpwd:"",redispwd:"",redishost:"127.0.0.1",redisport:"6379",redisselect:""});y(()=>!!Object.values(l.value).every(e=>e!==""));const _=async()=>{await m.value.validate();try{const u=await R(l.value);b.success("操作成功"),p("onDisabled","over")}catch(u){b.error(u.message)}};return x(()=>{p("onDisabled",!0)}),v({onSubmit:_}),(u,e)=>{const n=r("el-radio"),w=r("el-radio-group"),t=r("el-form-item"),s=r("el-input"),g=r("el-form");return C(),D("div",S,[e[12]||(e[12]=i("h2",{class:"tit"},"创建数据",-1)),i("div",k,[o(g,{model:l.value,"label-width":"auto",size:"large",ref_key:"formRef",ref:m},{default:d(()=>[o(t,{label:"数据库类型：",rules:[{required:!0,message:"请选择数据库类型!"}]},{default:d(()=>[o(w,{modelValue:l.value.sql,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.sql=a)},{default:d(()=>[o(n,{value:0},{default:d(()=>e[10]||(e[10]=[f("带演示数据",-1)])),_:1,__:[10]}),o(n,{value:1},{default:d(()=>e[11]||(e[11]=[f("纯净版(无演示数据)",-1)])),_:1,__:[11]})]),_:1},8,["modelValue"])]),_:1}),o(t,{label:"数据库地址：",prop:"dbhost",rules:[{required:!0,message:"请输入数据库地址!"}]},{default:d(()=>[o(s,{modelValue:l.value.dbhost,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.dbhost=a),placeholder:"请输入数据库地址"},null,8,["modelValue"])]),_:1}),o(t,{label:"数据库名称：",prop:"dbname",rules:[{required:!0,message:"请输入数据库名称!"}]},{default:d(()=>[o(s,{modelValue:l.value.dbname,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.dbname=a),placeholder:"请输入数据库名称"},null,8,["modelValue"])]),_:1}),o(t,{label:"数据库端口：",prop:"dbport",rules:[{required:!0,message:"请输入数据库端口!"}]},{default:d(()=>[o(s,{modelValue:l.value.dbport,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.dbport=a),placeholder:"请输入数据库端口"},null,8,["modelValue"])]),_:1}),o(t,{label:"数据库用户名：",prop:"dbuser",rules:[{required:!0,message:"请输入数据库用户名!"}]},{default:d(()=>[o(s,{modelValue:l.value.dbuser,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.dbuser=a),placeholder:"请输入数据库用户名"},null,8,["modelValue"])]),_:1}),o(t,{label:"数据库密码：",prop:"dbpwd"},{default:d(()=>[o(s,{type:"password",modelValue:l.value.dbpwd,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.dbpwd=a),placeholder:"请输入数据库密码"},null,8,["modelValue"])]),_:1}),o(t,{label:"Redis地址：",prop:"redishost",rules:[{required:!0,message:"请输入Redis地址!"}]},{default:d(()=>[o(s,{modelValue:l.value.redishost,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.redishost=a),placeholder:"请输入Redis地址"},null,8,["modelValue"])]),_:1}),o(t,{label:"Redis端口：",prop:"redisport",rules:[{required:!0,message:"请输入Redis端口!"}]},{default:d(()=>[o(s,{modelValue:l.value.redisport,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.redisport=a),placeholder:"请输入Redis端口"},null,8,["modelValue"])]),_:1}),o(t,{label:"Redis密码：",prop:"redispwd"},{default:d(()=>[o(s,{type:"password",modelValue:l.value.redispwd,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.redispwd=a),placeholder:"请输入Redis密码"},null,8,["modelValue"])]),_:1}),o(t,{label:"RedisSelect库：",prop:"redisselect"},{default:d(()=>[o(s,{modelValue:l.value.redisselect,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.redisselect=a),placeholder:"请输入RedisSelect库"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])}}}),j=N(B,[["__scopeId","data-v-a5af1406"]]);export{j as default};
