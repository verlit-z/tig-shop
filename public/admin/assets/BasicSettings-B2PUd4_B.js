/* empty css             */import{_ as q}from"./Image.vue_vue_type_script_setup_true_lang-oDjiJjwB.js";import{d as F,Q as z,C as G,R as M,v as j,a2 as K,r as C,o as Q,dt as W,J as B,e as i,f as T,g as u,y as l,l as t,h as a,i as f,K as d,j as g,k as m,a4 as J,du as X,dv as $,_ as H}from"./index-BGgofOm4.js";import{B as S}from"./BusinessData-Dur53bjV.js";import{c as Y}from"./format-CpNC4fsQ.js";import{F as L}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-CloSefEz.js";import"./index-BdoKLCH8.js";import"./vuedraggable.umd-CLczY9wy.js";import{u as Z}from"./theme-B1rnHTnX.js";import"./BusinessImg-Dt_2PeVb.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const ee="/admin/assets/shopLogo_demo-BrXd9ym-.png",oe="/admin/assets/copyright-KRf6MBQ2.png",le="/admin/assets/default_tech_support-BnzeVpkk.png",te="/admin/assets/powered_guide-e9PVShEI.png",ae={class:"container"},se={class:"content_wrapper"},de={class:"extra"},pe={class:"wechat-config"},ne={class:"flex flex-align-center",style:{gap:"10px"}},re={class:"extra"},ue={class:"wechat-config mt10"},ie={class:"flex",style:{gap:"10px"}},me={class:"extra"},fe={class:"extra"},ge={key:0},ve={key:1,class:"extra"},ye={class:"content_wrapper"},_e={class:"content_wrapper"},we={class:"selected-action"},Ve=F({__name:"BasicSettings",setup(Ce){const{themeInfo:U}=Z(),c=z(),_=G(),R=window.location.origin+"/",O=n=>n.includes("http")?n:R+n;M(()=>c.query.point,()=>{const{scrollToElement:n}=$(c.query.point||"storeInformation","scrollContainer","storeInformation");n()},{immediate:!0});const N=j();N.config;const w=K(),k=C(!1),o=C({shopCompany:void 0,shopCompanyTxt:"",defaultTechSupport:"",defaultCopyright:"Copyright © 2024 Tigshop. All Rights Reserved",poweredBy:void 0,poweredByLogo:"",poweredByStatus:void 0,shopName:"",kefuAddress:"",shopLogo:"",shopIcpNo:"",shopIcpNoUrl:"",shop110No:"",shop110Link:"",shopRegClosed:0,closeOrder:0}),D=()=>{o.value.defaultCopyright=o.value.shopCompanyTxt,x()},A=()=>{o.value.defaultTechSupport=o.value.poweredByLogo,x()};Q(async()=>{await E()});const I=C(!0),E=async()=>{try{const n=await W();Object.assign(o.value,Y(n))}catch(n){B.error(n.message)}finally{I.value=!1}};C({pcDomain:[{required:!1,message:"",trigger:"blur"},{pattern:/^https?:\/\//i,message:"PC端域名必须以http或https开头",trigger:"blur"}]});const x=async()=>{await w.value.validate(),k.value=!0;try{const n=await X(o.value);B.success("修改成功"),await N.updateConfig(),await _._getLicensed(),setTimeout(()=>{location.reload()},500)}catch(n){B.error(n.message)}finally{k.value=!1}};return(n,e)=>{const V=i("el-popover"),p=i("el-form-item"),r=i("el-radio"),v=i("el-radio-group"),y=i("TigInput"),h=i("el-button"),b=i("el-form"),P=i("a-spin");return u(),T("div",ae,[l(P,{spinning:I.value},{default:t(()=>[l(b,{ref_key:"formRef",ref:w,model:o.value,"label-width":"150px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:t(()=>[a("div",se,[e[35]||(e[35]=a("div",{class:"title"},"商城信息",-1)),l(p,{label:"商城LOGO",prop:"shopLogo"},{default:t(()=>[l(f(L),{photo:o.value.shopLogo,"onUpdate:photo":e[0]||(e[0]=s=>o.value.shopLogo=s),style:{width:"100%"}},null,8,["photo"]),a("div",de,[e[17]||(e[17]=d(" 请根据页面设置对应大小的LOGO，高清需要上传双倍大小 ",-1)),l(V,{width:400,placement:"right-end",trigger:"click"},{reference:t(()=>e[15]||(e[15]=[a("a",null,"查看示例",-1)])),default:t(()=>e[16]||(e[16]=[a("img",{src:ee,style:{width:"380px"}},null,-1)])),_:1})])]),_:1}),l(p,{label:"商城名称",prop:"shopName"},{default:t(()=>[l(S,{modelValue:o.value.shopName,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.shopName=s),dataId:1,dataType:5},null,8,["modelValue"])]),_:1}),l(p,{label:"版权信息",prop:"shopCompany"},{default:t(()=>[a("div",null,[l(v,{modelValue:o.value.shopCompany,"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.shopCompany=s)},{default:t(()=>[l(r,{value:1},{default:t(()=>e[18]||(e[18]=[d("系统默认",-1)])),_:1,__:[18]}),l(r,{value:0},{default:t(()=>e[19]||(e[19]=[d("自定义",-1)])),_:1,__:[19]})]),_:1},8,["modelValue"]),a("div",pe,[l(b,{ref_key:"formRef",ref:w,model:o.value},{default:t(()=>[l(p,{label:""},{default:t(()=>[a("div",ne,[o.value.shopCompany==1?(u(),g(y,{key:0,modelValue:o.value.defaultCopyright,"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.defaultCopyright=s),classType:"tig-form-input",disabled:""},null,8,["modelValue"])):m("",!0),o.value.shopCompany==0?(u(),g(y,{key:1,modelValue:o.value.shopCompanyTxt,"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.shopCompanyTxt=s),classType:"tig-form-input"},null,8,["modelValue"])):m("",!0),o.value.shopCompany==0?(u(),g(h,{key:2,onClick:D,link:"",type:"primary",style:{"margin-top":"3px"}},{default:t(()=>e[20]||(e[20]=[d(" 设为默认 ",-1)])),_:1,__:[20]})):m("",!0)])]),_:1})]),_:1},8,["model"]),a("div",re,[e[23]||(e[23]=d(" 版权信息将会显示在 商城页面底部，如需自定义或隐藏，请购买去版权服务。 ",-1)),l(V,{width:400,placement:"right-end",trigger:"click"},{reference:t(()=>e[21]||(e[21]=[a("a",null,"查看示例",-1)])),default:t(()=>e[22]||(e[22]=[a("img",{src:oe,style:{width:"380px"}},null,-1)])),_:1})])])])]),_:1}),l(p,{label:"技术支持标识",prop:"poweredBy"},{default:t(()=>[a("div",null,[l(v,{modelValue:o.value.poweredBy,"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.poweredBy=s)},{default:t(()=>[l(r,{value:1},{default:t(()=>e[24]||(e[24]=[d("系统默认",-1)])),_:1,__:[24]}),l(r,{value:0},{default:t(()=>e[25]||(e[25]=[d("自定义",-1)])),_:1,__:[25]})]),_:1},8,["modelValue"]),a("div",ue,[l(b,{ref_key:"formRef",ref:w,model:o.value},{default:t(()=>[l(p,{label:""},{default:t(()=>[a("div",ie,[o.value.poweredBy==0?(u(),g(f(L),{key:0,photo:o.value.poweredByLogo,"onUpdate:photo":e[6]||(e[6]=s=>o.value.poweredByLogo=s),style:{width:"100%"}},null,8,["photo"])):m("",!0),o.value.poweredBy==1?(u(),g(f(q),{key:1,src:O(o.value.defaultTechSupport),style:{"max-width":"200px"}},null,8,["src"])):m("",!0),o.value.poweredBy==0?(u(),g(h,{key:2,onClick:A,link:"",type:"primary"},{default:t(()=>e[26]||(e[26]=[d(" 设为默认 ",-1)])),_:1,__:[26]})):m("",!0)])]),_:1})]),_:1},8,["model"]),a("div",me,[e[29]||(e[29]=d(" 技术标识将会显示在 商城页面底部，如需自定义或隐藏，请购买去版权服务。 ",-1)),l(V,{width:540,placement:"right-end",trigger:"click"},{reference:t(()=>e[27]||(e[27]=[a("a",null,"查看示例",-1)])),default:t(()=>e[28]||(e[28]=[a("img",{src:le,style:{width:"500px"}},null,-1)])),_:1})])])])]),_:1}),l(p,{label:"标题栏版权隐藏",prop:"poweredByStatus"},{default:t(()=>[a("div",null,[a("div",null,[l(v,{modelValue:o.value.poweredByStatus,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.poweredByStatus=s),disabled:f(_).licensedData.deCopyright==0},{default:t(()=>[l(r,{value:1},{default:t(()=>e[30]||(e[30]=[d("是",-1)])),_:1,__:[30]}),l(r,{value:0},{default:t(()=>e[31]||(e[31]=[d("否",-1)])),_:1,__:[31]})]),_:1},8,["modelValue","disabled"])]),a("div",fe,[f(_).licensedData.deCopyright==0?(u(),T("span",ge,"购买去版权服务后可修改")):m("",!0),f(_).licensedData.deCopyright==1?(u(),T("span",ve,"如果选是，则隐藏浏览器标题栏版权信息 ")):m("",!0),l(V,{width:350,placement:"right-end",trigger:"click"},{reference:t(()=>e[32]||(e[32]=[a("a",null,"查看示例",-1)])),default:t(()=>e[33]||(e[33]=[a("img",{src:te,style:{width:"330px"}},null,-1)])),_:1})])])]),_:1}),l(p,{label:"地址展示",prop:"kefuAddress"},{default:t(()=>[l(S,{modelValue:o.value.kefuAddress,"onUpdate:modelValue":e[8]||(e[8]=s=>o.value.kefuAddress=s),dataId:6,dataType:5},null,8,["modelValue"]),e[34]||(e[34]=a("div",{class:"extra"},"企业地址会展示在商城PC端底部，为空则不显示",-1))]),_:1,__:[34]})]),a("div",ye,[e[36]||(e[36]=a("div",{class:"title"},"备案信息",-1)),l(p,{label:"ICP备案号",prop:"shopIcpNo"},{default:t(()=>[l(S,{modelValue:o.value.shopIcpNo,"onUpdate:modelValue":e[9]||(e[9]=s=>o.value.shopIcpNo=s),dataId:7,dataType:5},null,8,["modelValue"])]),_:1}),l(p,{label:"ICP备案链接",prop:"shopIcpNoUrl"},{default:t(()=>[l(y,{modelValue:o.value.shopIcpNoUrl,"onUpdate:modelValue":e[10]||(e[10]=s=>o.value.shopIcpNoUrl=s),classType:"tig-form-input",placeholder:"不填则默认为：https://beian.miit.gov.cn"},null,8,["modelValue"])]),_:1}),l(p,{label:"公安备案号",prop:"shop110No"},{default:t(()=>[l(y,{modelValue:o.value.shop110No,"onUpdate:modelValue":e[11]||(e[11]=s=>o.value.shop110No=s),classType:"tig-form-input",placeholder:"不填则不显示"},null,8,["modelValue"])]),_:1}),l(p,{label:"公安备案链接",prop:"shop110Link"},{default:t(()=>[l(y,{modelValue:o.value.shop110Link,"onUpdate:modelValue":e[12]||(e[12]=s=>o.value.shop110Link=s),classType:"tig-form-input",placeholder:"不填则默认为：https://beian.mps.gov.cn/#/query/webSearch"},null,8,["modelValue"])]),_:1})]),a("div",_e,[e[41]||(e[41]=a("div",{id:"globalSettings",class:"title"},"商城状态",-1)),l(p,{label:"关闭注册",prop:"shopRegClosed"},{default:t(()=>[l(v,{modelValue:o.value.shopRegClosed,"onUpdate:modelValue":e[13]||(e[13]=s=>o.value.shopRegClosed=s),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[37]||(e[37]=[d("是",-1)])),_:1,__:[37]}),l(r,{value:0},{default:t(()=>e[38]||(e[38]=[d("否",-1)])),_:1,__:[38]})]),_:1},8,["modelValue"])]),_:1}),l(p,{label:"关闭下单",prop:"closeShop"},{default:t(()=>[l(v,{modelValue:o.value.closeOrder,"onUpdate:modelValue":e[14]||(e[14]=s=>o.value.closeOrder=s),class:"itemWidth"},{default:t(()=>[l(r,{value:1},{default:t(()=>e[39]||(e[39]=[d("是",-1)])),_:1,__:[39]}),l(r,{value:0},{default:t(()=>e[40]||(e[40]=[d("否",-1)])),_:1,__:[40]})]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model"]),e[43]||(e[43]=a("div",{style:{height:"30px"}},null,-1)),a("div",{class:"selected-action-warp selected-warp-left",style:J({left:f(U).layout!=="topMenu"?"369px":"270px"})},[a("div",we,[l(h,{loading:k.value,class:"form-submit-btn",size:"large",type:"primary",onClick:x},{default:t(()=>e[42]||(e[42]=[d("提 交 ",-1)])),_:1,__:[42]},8,["loading"])])],4)]),_:1,__:[43]},8,["spinning"])])}}}),Re=H(Ve,[["__scopeId","data-v-d8aded6f"]]);export{Re as default};
