import{d as q,v as B,e as l,f as _,g as c,h as s,y as o,l as i,i as e,a0 as K,K as n,k as v,t as m}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{P as O}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-DhDNvZWl.js";import{D as U}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as L}from"./Pagination-Nz0PhK3s.js";import{u as R,d as $,b as E,g as j}from"./shippingTpl-CjzzuDoI.js";import{u as G}from"./useListRequest-DIT8yyoo.js";import{_ as y}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const H={class:"container"},J={class:"content_wrapper"},M={class:"lyecs-table-list-warp"},Q={class:"list-table-tool lyecs-search-warp"},W={class:"list-table-tool-row"},X={class:"simple-form-warp"},Y={class:"simple-form-field"},Z={class:"form-group"},ee={class:"control-container"},te={class:"simple-form-field"},oe={class:"form-group"},ae={class:"simple-form-field"},se={class:"form-group"},ie={key:0},le={class:"table-container"},ne={class:"empty-warp"},pe={key:0,class:"empty-bg"},de={key:0,class:"pagination-con"},Ce=q({__name:"List",setup(re){const C=B(),{listData:S,loading:u,total:g,selectedIds:f,filterParams:d,loadData:r,onSearchSubmit:h,onSortChange:T,onSelectChange:w,onBatchAction:D}=G({apiFunction:j,idKey:"shippingTplId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:C.get("pageSize")}}),I=async k=>{await D(k,E)};return r(),(k,t)=>{const b=l("el-button"),V=l("TigInput"),x=l("el-popconfirm"),N=l("el-space"),p=l("el-table-column"),z=l("el-divider"),A=l("el-table"),F=l("a-spin");return c(),_("div",H,[s("div",J,[s("div",M,[s("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ee,[o(V,{modelValue:e(d).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>e(d).keyword=a),name:"keyword",placeholder:"输入模板名称",onKeyup:K(e(h),["enter"]),clearable:"",onClear:e(h)},{append:i(()=>[o(b,{onClick:e(h)},{default:i(()=>t[4]||(t[4]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),s("div",te,[s("div",oe,[o(e(y),{params:{act:"add"},isDrawer:"",path:"setting/shippingTpl/Info",title:"添加运费模板",width:"900px",onOkCallback:e(r)},{default:i(()=>[o(b,{type:"primary"},{default:i(()=>t[5]||(t[5]=[n("添加运费模板",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])]),s("div",ae,[s("div",se,[o(N,null,{default:i(()=>[o(x,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=a=>I("del"))},{reference:i(()=>[o(b,{disabled:e(f).length===0},{default:i(()=>t[6]||(t[6]=[n("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),e(f).length>0?(c(),_("span",ie,[t[7]||(t[7]=n(" 已选择：",-1)),s("b",null,m(e(f).length),1),t[8]||(t[8]=n(" 项 ",-1))])):v("",!0)]),_:1})])])])])]),s("div",le,[o(F,{spinning:e(u)},{default:i(()=>[o(A,{data:e(S),loading:e(u),total:e(g),"row-key":"shippingTplId",onSelectionChange:e(w),onSortChange:e(T)},{empty:i(()=>[s("div",ne,[e(u)?v("",!0):(c(),_("div",pe,"暂无数据"))])]),default:i(()=>[o(p,{type:"selection",width:"32"}),o(p,{label:"模板名称"},{default:i(({row:a})=>[o(e(O),{"org-value":a.shippingTplName,"onUpdate:orgValue":P=>a.shippingTplName=P,max:10,params:{id:a.shippingTplId,field:"shippingTplName"},requestApi:e(R),label:"模板名称",type:"input"},{default:i(()=>[s("div",null,m(a.shippingTplName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(p,{label:"是否包邮",prop:"isFree"},{default:i(({row:a})=>[n(m(a.isFree===0?"自定义运费":"卖家承担运费"),1)]),_:1}),o(p,{label:"计价方式",prop:"isSupportCod"},{default:i(({row:a})=>[n(m(a.pricingType===1?"按件数":"按重量"),1)]),_:1}),o(p,{label:"发货时间",prop:"shippingTime",sortable:"custom"}),o(p,{label:"是否默认",prop:"isSupportCod"},{default:i(({row:a})=>[n(m(a.isDefault===1?"是":"--"),1)]),_:1}),o(p,{width:150,fixed:"right",label:"操作"},{default:i(({row:a})=>[o(e(y),{params:{act:"detail",id:a.shippingTplId},isDrawer:"",path:"setting/shippingTpl/Info",title:"编辑运费模板",width:"900px",onOkCallback:e(r)},{default:i(()=>t[9]||(t[9]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[9]},1032,["params","onOkCallback"]),o(z,{direction:"vertical"}),o(e(U),{params:{id:a.shippingTplId},requestApi:e($),onAfterDelete:e(r)},{default:i(()=>t[10]||(t[10]=[n("删除 ",-1)])),_:2,__:[10]},1032,["params","requestApi","onAfterDelete"])]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(g)>0?(c(),_("div",de,[o(e(L),{page:e(d).page,"onUpdate:page":t[2]||(t[2]=a=>e(d).page=a),size:e(d).size,"onUpdate:size":t[3]||(t[3]=a=>e(d).size=a),total:e(g),onCallback:e(r)},null,8,["page","size","total","onCallback"])])):v("",!0)])])])])}}});export{Ce as default};
