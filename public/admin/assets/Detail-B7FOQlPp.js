import{M as A}from"./MobileCard-BC3dXj5F.js";import"./index-BdoKLCH8.js";import{d as L,r as d,a as U,a2 as q,e as p,f as c,g as e,h as m,j as l,k as a,l as n,y as s,t as G,i as k,J as z,_ as $}from"./index-BGgofOm4.js";/* empty css                                                                    */import{P as j}from"./Pagination-Nz0PhK3s.js";import{a as E,c as F}from"./accountManage-BXSZXCSO.js";import{_ as J}from"./Image.vue_vue_type_script_setup_true_lang-oDjiJjwB.js";import{_ as C}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";import"./format-CpNC4fsQ.js";const T={class:"container"},H={class:"content_wrapper"},K={class:"lyecs-form-table"},Q={class:"mr10"},W={key:1},X={key:3,style:{color:"red"}},Y={key:4,style:{color:"red"}},Z={key:5,style:{color:"green"}},ee={key:2,style:{color:"red"}},te={key:3,style:{color:"green"}},ae={key:0,class:"pagination-con"},oe=L({__name:"Detail",props:{id:{type:Number,default:0},act:{type:String,default:""},type:{type:String,default:""},isDialog:Boolean},emits:["callback","update:confirmLoading","close"],setup(r,{emit:I}){const O=d([]),S=I,g=r,b=d(!0),N=U().currentRoute.value.query,v=d(g.isDialog?g.id:Number(N.id)),P=q(),y=d({adminId:0}),h=async()=>{try{const u=await E({id:v.value,type:g.type});y.value=u,w(u.adminId)}catch(u){z.error(u.message),S("close")}finally{b.value=!1}},f=d({page:1,size:10}),D=d(0),w=async u=>{try{const o=await F({adminId:u,type:g.type,...f.value});O.value=o.records,D.value=o.total}catch(o){z.error(o.message),S("close")}finally{b.value=!1}};h();const B=()=>{w(y.value.adminId)};return(u,o)=>{const M=p("el-divider"),x=p("el-form-item"),i=p("el-table-column"),_=p("StatusDot"),R=p("el-table"),V=p("el-form");return e(),c("div",T,[m("div",H,[m("div",K,[b.value?a("",!0):(e(),l(V,{key:0,ref_key:"formRef",ref:P,model:y.value,"label-width":"auto"},{default:n(()=>[s(x,{label:"主账号名称"},{default:n(()=>[m("p",Q,G(y.value.username),1),s(k(C),{params:{act:"detail",id:v.value,type:r.type},isDrawer:"",path:"authority/accountManage/ChangeAccount",title:"更换主账号",width:"600px",onOkCallback:h},{default:n(()=>o[2]||(o[2]=[m("a",{class:"btn-link"},"更换主账号",-1)])),_:1,__:[2]},8,["params"]),s(M,{direction:"vertical"}),s(k(C),{params:{act:"detail",id:v.value,type:r.type},isDrawer:"",path:"authority/accountManage/AccountInfo",title:"修改账号信息",width:"600px",onOkCallback:h},{default:n(()=>o[3]||(o[3]=[m("a",{class:"btn-link"},"修改账号信息",-1)])),_:1,__:[3]},8,["params"]),s(M,{direction:"vertical"}),s(k(C),{params:{act:"detail",id:v.value,type:r.type},isDrawer:"",path:"authority/accountManage/Password",title:"修改密码",width:"600px"},{default:n(()=>o[4]||(o[4]=[m("a",{class:"btn-link"},"修改密码",-1)])),_:1,__:[4]},8,["params"])]),_:1}),s(x,{label:"手机号"},{default:n(()=>[s(A,{mobile:y.value.mobile},null,8,["mobile"])]),_:1}),s(x,{label:"店铺列表"},{default:n(()=>[s(R,{data:O.value,style:{width:"100%"}},{default:n(()=>[s(i,{prop:"logo",label:r.type=="shop"?"店铺LOGO":"供应商LOGO",width:"150"},{default:n(({row:t})=>[t.logo?(e(),l(k(J),{key:0,src:t.logo,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])):(e(),c("p",W,"暂无图片"))]),_:1},8,["label"]),r.type=="shop"?(e(),l(i,{key:0,prop:"name",label:"店铺名称"})):a("",!0),r.type=="vendor"?(e(),l(i,{key:1,prop:"name",label:"供应商名称"})):a("",!0),r.type=="shop"?(e(),l(i,{key:2,prop:"address",label:"状态"},{default:n(({row:t})=>[t.status==10?(e(),l(_,{key:0,color:"red",flicker:!0})):a("",!0),t.status==4?(e(),l(_,{key:1,color:"red",flicker:!0})):a("",!0),t.status==1?(e(),l(_,{key:2,color:"green",flicker:!0})):a("",!0),t.status===10?(e(),c("span",X,"关店")):a("",!0),t.status===4?(e(),c("span",Y,"暂停营业")):a("",!0),t.status===1?(e(),c("span",Z,"开业")):a("",!0)]),_:1})):a("",!0),r.type=="vendor"?(e(),l(i,{key:3,prop:"address",label:"状态"},{default:n(({row:t})=>[t.status==2?(e(),l(_,{key:0,color:"red",flicker:!0})):a("",!0),t.status==1?(e(),l(_,{key:1,color:"green",flicker:!0})):a("",!0),t.status===2?(e(),c("span",ee,"暂停供应")):a("",!0),t.status===1?(e(),c("span",te,"正常供应")):a("",!0)]),_:1})):a("",!0),r.type=="shop"?(e(),l(i,{key:4,prop:"merchantName",label:"主账号名称"})):a("",!0),r.type=="vendor"?(e(),l(i,{key:5,prop:"adminUsername",label:"主账号名称"})):a("",!0),s(i,{prop:"addTime",label:"创建时间"})]),_:1},8,["data"]),D.value>0?(e(),c("div",ae,[s(k(j),{page:f.value.page,"onUpdate:page":o[0]||(o[0]=t=>f.value.page=t),size:f.value.size,"onUpdate:size":o[1]||(o[1]=t=>f.value.size=t),total:D.value,onCallback:B},null,8,["page","size","total"])])):a("",!0)]),_:1})]),_:1},8,["model"]))])])])}}}),ye=$(oe,[["__scopeId","data-v-a4bcd8eb"]]);export{ye as default};
