import{e as k,f as w}from"./gallery-jVLe5Rxg.js";import{d as C,Y as x,r as B,a9 as G,o as R,J as n,e as m,f as T,g as E,h as p,y as t,l as i,i as o}from"./index-BGgofOm4.js";const F={class:"container"},U={class:"content_wrapper"},j={class:"lyecs-form-table"},M=C({__name:"GalleryEdit",props:{id:{type:Number,default:0},parentId:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","okType"],setup(y,{expose:_,emit:g}){const b=y,{parentId:v,id:u,act:r}=x(b),S=r.value=="add"?"create":"update",d=B();let a=G({galleryName:"",gallerySort:50});R(()=>{r.value==="detail"&&I()});const I=async()=>{try{const e=await k(r.value,{id:u.value});Object.assign(a,e)}catch(e){n.error(e.message)}},N=g,V=async()=>{await d.value.validate();try{const e=await w(S,{id:u.value,parentId:v.value,...a});N("submitCallback",e),n.success("操作成功")}catch(e){n.error(e.message)}};return _({onFormSubmit:()=>{V()}}),(e,l)=>{const c=m("TigInput"),f=m("el-form-item"),h=m("el-form");return E(),T("div",F,[p("div",U,[p("div",j,[t(h,{ref_key:"formRef",ref:d,model:o(a),"label-width":"auto"},{default:i(()=>[t(f,{name:"galleryName",label:"相册名称",rules:[{required:!0,message:"相册名称不能为空!"}]},{default:i(()=>[t(c,{modelValue:o(a).galleryName,"onUpdate:modelValue":l[0]||(l[0]=s=>o(a).galleryName=s)},null,8,["modelValue"])]),_:1}),t(f,{name:"gallerySort",label:"排序"},{default:i(()=>[t(c,{type:"integer",modelValue:o(a).gallerySort,"onUpdate:modelValue":l[1]||(l[1]=s=>o(a).gallerySort=s),min:0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])])}}});export{M as default};
