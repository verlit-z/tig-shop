import{d as F,v as K,e as n,f as _,g as i,h as o,y as l,l as s,i as e,a0 as O,K as m,k as d,t as v,j as y}from"./index-BGgofOm4.js";/* empty css             */import"./index-BdoKLCH8.js";import{P as U}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-DhDNvZWl.js";import{D as L}from"./DeleteRecord-C3QKVgd9.js";/* empty css                                                                    */import{P as T}from"./Pagination-Nz0PhK3s.js";import{u as $,d as j,b as E,g as G}from"./adminRole-B2CrM35I.js";import{u as H}from"./useListRequest-DIT8yyoo.js";import{_ as C}from"./DialogForm.vue_vue_type_script_setup_true_lang-BTf40oxg.js";import"./index-BS7Hjr9I.js";const J={class:"container"},M={class:"content_wrapper"},Q={class:"lyecs-table-list-warp"},W={class:"list-table-tool lyecs-search-warp"},X={class:"list-table-tool-row"},Y={class:"simple-form-warp"},Z={class:"simple-form-field"},ee={class:"form-group"},te={class:"control-container"},oe={class:"simple-form-field"},ae={class:"form-group"},le={class:"simple-form-field"},se={class:"form-group"},ne={key:0},ie={class:"table-container"},re={class:"empty-warp"},de={key:0,class:"empty-bg"},pe={key:0,class:"pagination-con"},we=F({__name:"List",setup(me){const w=K(),{listData:S,loading:u,total:f,selectedIds:g,filterParams:r,loadData:p,onSearchSubmit:b,onSortChange:I,onSelectChange:A,onBatchAction:D}=H({apiFunction:G,idKey:"roleId",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:w.get("pageSize")}}),V=async h=>{await D(h,E)};return p(),(h,t)=>{const k=n("el-button"),x=n("TigInput"),N=n("el-popconfirm"),z=n("el-space"),c=n("el-table-column"),R=n("el-divider"),B=n("el-table"),P=n("a-spin");return i(),_("div",J,[o("div",M,[o("div",Q,[o("div",W,[o("div",X,[o("div",Y,[o("div",Z,[o("div",ee,[o("div",te,[l(x,{modelValue:e(r).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>e(r).keyword=a),name:"keyword",placeholder:"输入权限组名称",onKeyup:O(e(b),["enter"]),clearable:"",onClear:e(b)},{append:s(()=>[l(k,{onClick:e(b)},{default:s(()=>t[4]||(t[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),o("div",oe,[o("div",ae,[l(e(C),{params:{act:"add"},isDrawer:"",path:"authority/adminRole/Info",title:"添加管理员权限组",width:"800px",onOkCallback:e(p)},{default:s(()=>[l(k,{type:"primary"},{default:s(()=>t[5]||(t[5]=[m("添加管理员权限组",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])]),o("div",le,[o("div",se,[l(z,null,{default:s(()=>[l(N,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=a=>V("del"))},{reference:s(()=>[l(k,{disabled:e(g).length===0},{default:s(()=>t[6]||(t[6]=[m("批量删除",-1)])),_:1,__:[6]},8,["disabled"])]),_:1}),e(g).length>0?(i(),_("span",ne,[t[7]||(t[7]=m(" 已选择：",-1)),o("b",null,v(e(g).length),1),t[8]||(t[8]=m(" 项 ",-1))])):d("",!0)]),_:1})])])])])]),o("div",ie,[l(P,{spinning:e(u)},{default:s(()=>[l(B,{data:e(S),loading:e(u),total:e(f),"row-key":"roleId",onSelectionChange:e(A),onSortChange:e(I)},{empty:s(()=>[o("div",re,[e(u)?d("",!0):(i(),_("div",de,"暂无数据"))])]),default:s(()=>[l(c,{type:"selection",width:"32"}),l(c,{label:"权限组名称",width:"200"},{default:s(({row:a})=>[l(e(U),{"org-value":a.roleName,"onUpdate:orgValue":q=>a.roleName=q,max:10,params:{id:a.roleId,field:"roleName"},requestApi:e($),label:"权限组名称",type:"input"},{default:s(()=>[o("div",null,v(a.roleName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),l(c,{label:"描述",prop:"roleDesc"}),l(c,{width:120,fixed:"right",label:"操作"},{default:s(({row:a})=>[a.roleId>1?(i(),y(e(C),{key:0,params:{act:"detail",id:a.roleId},isDrawer:"",path:"authority/adminRole/Info",title:"编辑管理员权限组",width:"800px",onOkCallback:e(p)},{default:s(()=>t[9]||(t[9]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[9]},1032,["params","onOkCallback"])):d("",!0),a.roleId>2?(i(),y(R,{key:1,direction:"vertical"})):d("",!0),a.roleId>2?(i(),y(e(L),{key:2,params:{id:a.roleId},requestApi:e(j),onAfterDelete:e(p)},{default:s(()=>t[10]||(t[10]=[m("删除 ",-1)])),_:2,__:[10]},1032,["params","requestApi","onAfterDelete"])):d("",!0)]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(f)>0?(i(),_("div",pe,[l(e(T),{page:e(r).page,"onUpdate:page":t[2]||(t[2]=a=>e(r).page=a),size:e(r).size,"onUpdate:size":t[3]||(t[3]=a=>e(r).size=a),total:e(f),onCallback:e(p)},null,8,["page","size","total","onCallback"])])):d("",!0)])])])])}}});export{we as default};
