import{d as e,r as a,a5 as s,c as o,o as l,i as r,w as t,a as u,b as d,V as m,F as n,G as i,aT as c,ab as v,_ as p}from"./index-DE5OqlOG.js";const g=p(e({__name:"tig-image",props:{src:{type:String,default:"",required:!0},mode:{type:String,default:""},preview:{type:Boolean,default:!1}},emits:["error","load"],setup(e,{emit:p}){const g=e,b=a(!1),y=a(!0),_=p,f=a("");s(()=>g.src,e=>{e?(b.value=!1,y.value=!0,f.value=v(e)):(b.value=!0,y.value=!1)},{immediate:!0});const k=e=>{y.value=!1,b.value=!1,_("load",e)},w=e=>{b.value=!0,y.value=!1,_("error",e)},x=()=>{g.preview&&c({urls:[f.value],indicator:"none",loop:!1})};return(a,s)=>{const c=d,v=r;return l(),o(v,{class:"base-image-box"},{default:t(()=>[b.value?u("",!0):(l(),o(c,{key:0,class:m(["base-image",{"loading-end":!y.value}]),src:f.value,mode:e.mode,onError:w,onLoad:k,onClick:x},null,8,["class","src","mode"])),!y.value&&b.value?(l(),o(c,{key:1,class:"base-image empty",src:n(i)("common/empty-img-bg3.png"),mode:e.mode},null,8,["src","mode"])):u("",!0)]),_:1})}}}),[["__scopeId","data-v-75ed28ee"]]);export{g as _};
