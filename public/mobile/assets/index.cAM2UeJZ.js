import{d as a,r as t,aP as s,c as e,a as o,F as l,o as i,i as r,w as c,g as n,f as m,t as d,H as p,bg as u,_ as f}from"./index-DE5OqlOG.js";import{m as _}from"./masonry.CqYTyCF5.js";import{u as y}from"./useList.B4FtGhCx.js";const g=f(a({__name:"index",props:{titleBg:{type:String,default:""}},emits:["callback"],setup(a){const f=t(""),{data:g,promotionList:b,getList:h}=y(s,{params:{ids:f.value},path:{dataKey:"records"},immediate:!1,needPromotionList:!0,needReachBottom:!0});return(async()=>{try{const a=await u({page:1,size:10});f.value=a,h({ids:f.value})}catch(a){console.error("获取猜你喜欢商品ID失败",a)}})(),(t,s)=>{const u=r;return l(g).length?(i(),e(u,{key:0,class:"recommend_wrapper"},{default:c(()=>[n(u,{class:"title",style:p({background:a.titleBg})},{default:c(()=>[n(u,{class:"text"},{default:c(()=>[n(u,{class:"name"},{default:c(()=>[m(d(t.$t("猜你喜欢")),1)]),_:1}),n(u,{class:"desc"},{default:c(()=>[m(d(t.$t("您还可以逛一逛")),1)]),_:1})]),_:1})]),_:1},8,["style"]),n(u,{class:"masonry-content"},{default:c(()=>[n(_,{"commodity-list":l(g),"promotion-list":l(b),onCallback:s[0]||(s[0]=a=>t.$emit("callback"))},null,8,["commodity-list","promotion-list"])]),_:1})]),_:1})):o("",!0)}}}),[["__scopeId","data-v-bb439f6b"]]);export{g as r};
