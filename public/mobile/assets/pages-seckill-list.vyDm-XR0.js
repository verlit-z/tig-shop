import{a0 as a,d as s,r as l,U as e,k as t,c as o,w as c,B as i,E as u,a6 as r,G as d,o as n,g,i as f,I as m,J as p,O as k,F as _,a as x,b,ab as h,f as y,t as q,h as S,V as $,H as j,Y as I,n as V,_ as v}from"./index-DE5OqlOG.js";import{_ as z}from"./format-price.Cc34639m.js";import{_ as w}from"./loading-box.Cxf-hKGE.js";import{_ as C}from"./tig-layout.fowSnIDi.js";import{u as F}from"./useList.B4FtGhCx.js";import"./product.xxdbZFp6.js";const L=s=>a({url:"home/home/getSeckill",method:"get",params:s}),M=v(s({__name:"list",setup(a){r(a=>({"7a0bd1c0":U.value}));const s=l(),v=e({page:1,size:20}),{isLoadMore:M,data:P}=F(L,{params:v,path:{dataKey:"records"},immediate:!0}),T=(a,s)=>Math.round(a/(s+a)*100)+"%",U=t(()=>`url(${d("common/seckillTitle.png")}) no-repeat`);return(a,l)=>{const e=f,t=b,r=S,d=i(u("format-price"),z),F=i(u("loading-box"),w),L=i(u("tig-layout"),C);return n(),o(L,{ref_key:"layoutRef",ref:s},{default:c(()=>[g(e,{class:"seckill-title"}),g(e,{class:"qianggou-list"},{default:c(()=>[(n(!0),m(p,null,k(_(P),(s,l)=>(n(),o(e,{key:l,class:"qianggou-item",onClick:a=>(a=>{let s=`/pages/product/index?id=${a.productId}${a.skuId>0?`&skuId=${a.skuId}`:""}`;V({url:s})})(s)},{default:c(()=>[g(e,{class:"qianggou-img-box"},{default:c(()=>[g(t,{class:"qianggou-img",src:_(h)(s.picThumb||""),mode:"aspectFill"},null,8,["src"]),0===s.seckillStock?(n(),o(e,{key:0,class:"qianggou-out"},{default:c(()=>[g(e,{class:"qianggou-out-txt"},{default:c(()=>[y(q(a.$t("已抢完")),1)]),_:1})]),_:1})):x("",!0)]),_:2},1024),g(e,{class:"qianggou-info"},{default:c(()=>[g(e,{class:"qianggou-tit line2"},{default:c(()=>[y(q(s.productName),1)]),_:2},1024),g(e,{class:"line1 pro-txt-small"},{default:c(()=>[g(r,{class:"line1"},{default:c(()=>[y(q(a.$t("限时秒杀 抢先提醒")),1)]),_:1})]),_:1}),g(e,{class:"qianggou-money-box"},{default:c(()=>[g(e,{class:"qianggou-num"},{default:c(()=>[g(e,{class:"num"},{default:c(()=>[g(d,{"decimals-style":{fontSize:"25rpx",fontWeight:"bold"},"currency-style":{fontSize:"23rpx",fontWeight:"bold"},"price-data":s.seckillPrice},null,8,["price-data"])]),_:2},1024),g(e,{class:"del"},{default:c(()=>[g(d,{"font-style":{"text-decoration":"line-through"},"is-bottom":!1,"price-data":s.marketPrice},null,8,["price-data"])]),_:2},1024)]),_:2},1024),g(e,{class:$(["qianggou-btn",{flex:0===s.seckillStock,"align-center":s.seckillStock>0}])},{default:c(()=>[0===s.seckillStock?(n(),o(e,{key:0,class:"btn-txt"},{default:c(()=>[y(q(a.$t("已抢完")),1)]),_:1})):(n(),o(e,{key:1,class:"btn-txt"},{default:c(()=>[g(e,{class:"txt"},{default:c(()=>[y(q(a.$t("马上抢")),1)]),_:1}),g(e,{class:"progress-box flex align-center"},{default:c(()=>[g(e,{class:"progress-bar"},{default:c(()=>[g(e,{class:"progress",style:j({width:T(s.seckillSales,s.seckillStock)})},null,8,["style"])]),_:2},1024),g(e,{class:"progress-txt"},{default:c(()=>[y(q(T(s.seckillSales,s.seckillStock)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}),g(F,{modelValue:_(M),"onUpdate:modelValue":l[0]||(l[0]=a=>I(M)?M.value=a:null),color:"#fff",page:v.page,length:_(P).length},null,8,["modelValue","page","length"])]),_:1},512)}}}),[["__scopeId","data-v-1a19cde3"]]);export{M as default};
