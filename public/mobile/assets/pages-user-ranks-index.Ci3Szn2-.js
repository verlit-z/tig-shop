import{a0 as s,d as e,K as a,r as i,aM as t,B as r,E as l,I as c,o as n,aD as o,g as d,w as u,f as g,t as _,a2 as m,J as p,O as h,c as v,i as k,F as R,ab as y,a9 as I,aa as b,n as f,_ as N,j as w,a as x,aE as L,aF as j,H as P,V as D}from"./index-DE5OqlOG.js";import{_ as q}from"./tig-layout.fowSnIDi.js";import{_ as C}from"./format-price.Cc34639m.js";const E=N(e({__name:"index",props:{url:{type:String,required:!0}},setup(e){const{t:N}=a(),w=e,x=i({signPoints:0,record:0,isSign:0,days:[],recommendGoods:[]}),L=async()=>{I({title:N("加载中")});try{const a=await(e=w.url,s({url:e,method:"get"}));Object.assign(x.value,a)}catch(a){console.error(a)}finally{b()}var e};return t(()=>{L()}),(s,e)=>{const a=m,i=r(l("format-price"),C),t=k;return n(),c("div",{class:"recgoods-box"},[o("div",{class:"title"},[o("div",{class:"bg"}),d(a,{url:"/pages/search/index"},{default:u(()=>[o("div",{class:"moregoods"},[g(_(s.$t("查看更多"))+" ",1),o("span",{class:"iconfont icon-xiangyou"})])]),_:1})]),o("div",{class:"wrap-goods"},[(n(!0),c(p,null,h(x.value.recommendGoods,(s,e)=>(n(),v(t,{key:e,class:"item",onClick:e=>{f({url:"/pages/product/index?id="+s.productId})}},{default:u(()=>[o("img",{class:"rec-img",alt:s.productName,src:R(y)(s.picThumb)},null,8,["alt","src"]),o("div",{class:"info"},[o("div",{class:"name"},_(s.productName),1),d(i,{class:"price","price-data":s.productPrice},null,8,["price-data"])])]),_:2},1032,["onClick"]))),128))])])}}}),[["__scopeId","data-v-3da220cf"]]),F=N(e({__name:"index",setup(s){const e=w(),a=i({userName:"",userPhoto:"",userRank:1,rankPoints:1e4}),t=i({specialRank:0}),g=i([{rankId:1,rankName:"白银会员",rankDesc:"还需0成长值可升级至白银会员",rate:100,userRightIds:"1,2"},{rankId:2,rankName:"黄金会员",rankDesc:"还需0成长值可升级至黄金会员",rate:80,userRightIds:"1,2,3"},{rankId:3,rankName:"铂金会员",rankDesc:"还需0成长值可升级至黄金会员",rate:60,userRightIds:"1,2,3,4"},{rankId:4,rankName:"钻石会员",rankDesc:"还需0成长值可升级至黄金会员",rate:30,userRightIds:"1,2,3,4,5,6"}]),m=[{userRightId:"1",userRightLogo:"http://localhost/lyecs7/public/static/mobile/images/ranks/qiandao.png",userRightName:"签到返利"},{userRightId:"2",userRightLogo:"http://localhost/lyecs7/public/static/mobile/images/ranks/jifenduihuan.png",userRightName:`${e.integralName}兑换`},{userRightId:"3",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172GwIt9xVFCcRuPHcaXK!!pic.png",userRightName:"线下折扣"},{userRightId:"4",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172j4ltKe4JWA75EofqYb!!pic.png",userRightName:"运费折扣"},{userRightId:"5",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172nLzWUg7tsAc0NEPshf!!pic.png",userRightName:"会员特价"},{userRightId:"6",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/16802521724D4cIMO08jbaZLuIHq!!pic.png",userRightName:"消费返利"}],k=i(["1","2"]),R=i(0),y=s=>{R.value=s.detail.current;let e=g.value[R.value].userRightIds.split(",");k.value=[...e]};return(s,e)=>{const i=j,R=L,I=r(l("tig-layout"),q);return n(),v(I,{title:"会员等级"},{default:u(()=>[o("div",{class:"member-level"},[o("div",{class:"content"},[o("div",{class:"content__header"},[o("img",{class:"member-level-head-background",src:"http://localhost/lyecs7/public/static/mobile/images/ranks/bg.png",alt:""}),o("div",{class:"content__header__portrait"},[o("img",{src:a.value.userPhoto},null,8,["src"]),o("span",null,_(a.value.userName),1)])]),o("div",{class:"ranks-swiper"},[d(R,{"indicator-dots":!1,circular:!1,interval:"3000",duration:"500",onChange:y},{default:u(()=>[(n(!0),c(p,null,h(g.value,(s,e)=>(n(),v(i,{key:e},{default:u(()=>[o("div",{class:"swiper__slider__cardbox"},[o("img",{src:"http://localhost/lyecs7/public/static/mobile/images/ranks/rank-bg.png",class:"swiper__slider__bg"}),a.value.userRank===s.rankId?(n(),c("div",{key:0,class:"swiper__slider__current"},"当前等级")):x("",!0),o("div",{class:"swiper__slider__logo"},"Tigshop"),o("div",{class:"swiper__slider__item item-color-1"},[o("div",{class:"swiper__slider__item__name"},_(s.rankName),1),o("div",{class:"swiper__slider__item__score"},[o("div",{class:"text flex-row"},[o("span",null,_(s.rankDesc),1)])]),o("div",{class:"swiper__slider__item__experience"},[o("span",null,_(a.value.rankPoints),1)]),o("div",{class:"progress-container swiper__slider__item__progress"},[o("div",{class:"line",style:P({width:s.rate+"%"})},null,4)]),o("div",{class:"long-with"},[o("span",null,"成长值")])])])]),_:2},1024))),128))]),_:1})]),m?(n(),c("div",{key:0,class:"rights"},[o("div",{class:"rights__title"},[o("h3",null,"我的特权")]),o("div",{class:"rights__content"},[(n(),c(p,null,h(m,(s,e)=>o("div",{key:s.userRightId,class:D(["rights__content__item",{"no-rank-select":(1===t.value.specialRank||0===t.value.specialRank)&&!k.value.includes(s.userRightId)}])},[o("div",{class:"item-img-wrap"},[o("div",{class:D(["suoding-icon",{"no-rank-select-icon":k.value.includes(s.userRightId)}])},null,2),o("img",{src:s.userRightLogo,class:"rights__content__item__img",alt:s.userRightName},null,8,["src","alt"])]),o("div",{class:"rights__content__item__txt"},_(s.userRightName),1)],2)),64))])])):x("",!0),d(E,{url:"user/sign/index"})]),o("div",{style:{height:"10px"}})])]),_:1})}}}),[["__scopeId","data-v-58edf5e6"]]);export{F as default};
