import{d as a,K as s,r as e,l,L as t,c as o,w as c,B as u,E as n,o as r,g as i,i as d,a as h,h as _,M as f,f as v,t as p,N as y,I as m,J as g,O as k,P as x,Q as w,R as b,S as C,T as H,_ as $}from"./index-DE5OqlOG.js";import{_ as V}from"./tig-layout.fowSnIDi.js";const j=$(a({__name:"index",setup(a){const{t:$}=s(),j=e("搜索商品"),B=e(""),I=e([]);e(""),l(()=>{t("searchHistory")&&(I.value=t("searchHistory"))});const S=()=>{B.value?(I.value.unshift(B.value),I.value=[...new Set(I.value)],I.value.length>10&&I.value.splice(10,I.value.length-10),x("searchHistory",I.value),G(B.value)):w({title:$("请输入搜索内容"),icon:"none"})},E=()=>{I.value=[],b("searchHistory")},G=a=>{C({url:`/pages/search/result?keyWords=${a}`})},J=()=>{H({url:"/pages/index/index"})};return(a,s)=>{const e=_,l=f,t=d,x=u(n("tig-layout"),V);return r(),o(x,{title:j.value,"custom-back":!0,onBack:J},{default:c(()=>[i(t,{class:"searchGood"},{default:c(()=>[i(t,{class:"search-warp acea-row"},{default:c(()=>[i(t,{class:"search-input acea-row"},{default:c(()=>[i(e,{class:"iconfont icon-neirongsousuo"}),i(l,{modelValue:B.value,"onUpdate:modelValue":s[0]||(s[0]=a=>B.value=a),focus:!0,type:"text",placeholder:a.$t("点击搜索商品"),"placeholder-class":"placeholder",onConfirm:S},null,8,["modelValue","placeholder"])]),_:1}),i(t,{class:"bnt",onClick:S},{default:c(()=>[v(p(a.$t("搜索")),1)]),_:1})]),_:1}),I.value.length?(r(),o(t,{key:0,class:"search_init_box"},{default:c(()=>[i(t,{class:"search_history_box"},{default:c(()=>[i(t,{class:"title"},{default:c(()=>[v(p(a.$t("搜索历史"))+" ",1),i(t,{class:"clear_history",onClick:y(E,["stop"])},{default:c(()=>[i(e,{class:"iconfont-h5 icon-shanchu"})]),_:1})]),_:1}),i(t,{class:"list acea-row"},{default:c(()=>[(r(!0),m(g,null,k(I.value,(a,s)=>(r(),o(t,{key:s,class:"item line1",onClick:s=>G(a)},{default:c(()=>[v(p(a),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1},8,["title"])}}}),[["__scopeId","data-v-1b6229c1"]]);export{j as default};
