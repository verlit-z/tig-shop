import{d as a,K as e,U as t,r as s,q as l,s as r,c as i,w as o,a9 as u,aa as c,B as d,E as n,o as f,g as m,i as p,I as _,J as g,O as v,h as y,f as h,t as x,a2 as b,n as I,_ as j}from"./index-DE5OqlOG.js";import{_ as S}from"./tig-image.h_tgFjnN.js";import{_ as k}from"./format-price.Cc34639m.js";import{_ as z}from"./loading-box.Cxf-hKGE.js";import{_ as q}from"./tig-layout.fowSnIDi.js";import{e as w}from"./afterSale.Dz9gDl5H.js";const V=j(a({__name:"list",setup(a){const{t:j}=e(),V=t({page:1,size:10}),$=s(!1),C=s([]),N=s(0),U=async()=>{V.page>1?$.value=!0:u({title:j("加载中")});try{const a=await w(V);C.value=[...C.value,...a.records],N.value=a.total}catch(a){console.error(a)}finally{c(),$.value=!1}};return l(()=>{V.page<Math.ceil(N.value/V.size)&&(V.page++,U())}),r(()=>{V.page=1,C.value=[],U()}),(a,e)=>{const t=y,s=p,l=d(n("tig-image"),S),r=d(n("format-price"),k),u=b,c=d(n("loading-box"),z),j=d(n("tig-layout"),q);return f(),i(j,{title:"申请列表"},{default:o(()=>[m(s,{class:"after-sale-list"},{default:o(()=>[m(s,{class:"order-list"},{default:o(()=>[(f(!0),_(g,null,v(C.value,e=>(f(),i(s,{key:e.orderId,class:"order-list-item"},{default:o(()=>[m(s,{class:"order-list-item-header"},{default:o(()=>[m(t,{class:"special-text"},{default:o(()=>[h(x(a.$t("售后编号"))+"：",1),m(t,{class:"special-color"},{default:o(()=>[h(x(e.aftersalesSn),1)]),_:2},1024)]),_:2},1024),m(t,null,{default:o(()=>[h(x(e.statusName),1)]),_:2},1024)]),_:2},1024),m(s,{class:"order-list-item-content"},{default:o(()=>[m(s,{class:"item-content-product"},{default:o(()=>[(f(!0),_(g,null,v(e.aftersalesItems,a=>(f(),i(u,{key:a.aftersalesItemId,url:"/pages/product/index?id="+a.productId,"hover-class":"navigator-hover"},{default:o(()=>[m(s,{class:"item-content-product-item"},{default:o(()=>[m(s,{class:"item-content-product-img"},{default:o(()=>[m(l,{src:a.picThumb},null,8,["src"])]),_:2},1024),m(s,{class:"item-content-product-info"},{default:o(()=>[m(s,{class:"product-item-title"},{default:o(()=>[h(x(a.productName),1)]),_:2},1024),m(s,{class:"product-item-price"},{default:o(()=>[m(r,{"show-text":!1,"decimals-style":{fontSize:"25rpx"},"currency-style":{fontSize:"23rpx"},class:"product-item-pricenum","price-data":a.price},null,8,["price-data"]),m(s,{class:"product-item-quantity"},{default:o(()=>[h("x "+x(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["url"]))),128))]),_:2},1024)]),_:2},1024),m(s,{class:"order-list-item-btn"},{default:o(()=>[m(s,{class:"item-btn-box"},{default:o(()=>[m(s,{class:"base-item-btn detail",onClick:a=>{return t=e.aftersaleId,void I({url:`/pages/user/afterSale/info?id=${t}`});var t}},{default:o(()=>[h(x(a.$t("售后详情")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),m(c,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a),page:V.page,length:C.value.length},null,8,["modelValue","page","length"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-84c0ae5b"]]);export{V as default};
