import{d as a,k as e,B as t,E as s,c as l,o,i as u,w as i,g as c,f as n,t as r,a as d,V as p,I as f,J as _,O as m,F as g,G as y,S as v,u as k,_ as x,b as h,ab as C,j as b,aw as w,r as j,l as $,s as T,L,ad as S,h as I,n as P}from"./index-DE5OqlOG.js";import{u as z,_ as R,c as U}from"./tig-layout.fowSnIDi.js";import{_ as O}from"./tig-image.h_tgFjnN.js";import{_ as A}from"./tig-upload.vue_vue_type_script_setup_true_lang.Cw9grp3Q.js";import{_ as B}from"./uni-badge.C1M7jQhD.js";import{_ as F}from"./tig-copyright.abYYt2yI.js";import{_ as N}from"./tig-back-top.vue_vue_type_script_setup_true_lang.Dshf9tCI.js";import{r as E}from"./index.cAM2UeJZ.js";import{g as q}from"./order.Yb7sr44P.js";import{e as D}from"./home.BpN6fEIn.js";import"./masonry.CqYTyCF5.js";import"./format-price.Cc34639m.js";import"./specification.BJJ9B7ka.js";import"./uni-icons.BITEJ68A.js";import"./uni-number-box.JWQxtRhY.js";import"./product.xxdbZFp6.js";import"./activityCard.mdMMZqu3.js";import"./useList.B4FtGhCx.js";const G=x(a({__name:"index",props:{data:{type:Array,default:()=>[]},menuType:{type:[Number,String],default:1}},setup(a){const x=a,h=e(()=>{let a=x.data;return a=a.filter(a=>"实名认证"!==a.picTitle),a=a.filter(a=>"商家入驻"!==a.picTitle),a});return(e,x)=>{const C=u,b=t(s("tig-image"),O);return o(),l(C,{class:"service-box"},{default:i(()=>[c(C,{class:"service-title"},{default:i(()=>[n(r(e.$t("我的服务")),1)]),_:1}),c(C,{class:"service-content"},{default:i(()=>[h.value.length>0?(o(),l(C,{key:0,class:p(["service-list",{grid:2==a.menuType,column:1==a.menuType}])},{default:i(()=>[(o(!0),f(_,null,m(h.value,(t,s)=>(o(),l(C,{key:s,class:"service-item",onClick:a=>(a=>{v({url:k(a.picLink)})})(t)},{default:i(()=>[c(C,{class:"service-icon"},{default:i(()=>[c(b,{"lazy-load":"",src:g(y)(t.picUrl)},null,8,["src"])]),_:2},1024),c(C,{class:"service-label"},{default:i(()=>[n(r(e.$t(t.picTitle??""))+" ",1),1===a.menuType?(o(),l(C,{key:0,class:"service-arrow iconfont-h5 icon-youjiantou"})):d("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["class"])):d("",!0)]),_:1})]),_:1})}}}),[["__scopeId","data-v-0a08a00e"]]),J=x(a({__name:"index",props:{data:{type:Object,default:()=>({})}},setup:a=>(e,t)=>{const s=h,n=u;return o(),l(n,{class:"advertising-box"},{default:i(()=>[c(n,{class:"advertising-content"},{default:i(()=>[c(s,{class:"advertising-image",src:g(C)(a.data.picUrl),mode:"widthFix",onClick:t[0]||(t[0]=e=>{var t;(null==(t=a.data)?void 0:t.picLink)&&v({url:k(t.picLink)})})},null,8,["src"])]),_:1})]),_:1})}}),[["__scopeId","data-v-97e22329"]]),V=a({__name:"index",props:{modules:{type:Array,default:()=>[]}},setup:a=>(e,t)=>(o(!0),f(_,null,m(a.modules,(a,e)=>(o(),f(_,{key:e},["bannerList"===a.type&&a.module.bannerList.picUrl?(o(),l(J,{key:0,data:a.module.bannerList},null,8,["data"])):"menus"===a.type?(o(),l(G,{key:1,"menu-type":a.module.menuType,data:a.module.menuList},null,8,["menu-type","data"])):d("",!0)],64))),128))}),H=x(a({__name:"index",setup(a){const{scrollTop:p}=z(),m=b(),v=w(),k=j(),x=e({get:()=>v.userInfo,set:a=>v.setUserInfo(a)}),G=j({collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0}),J=j({}),H=async()=>{try{const a=await q();J.value=a}catch(a){console.error(a)}},K=a=>{P({url:a})},M=()=>{X(),H()},Q=e(()=>v.token||L("token"));e(()=>`url(${y("product/unverified.png")});`);const W=j([]),X=async()=>{try{const a=await D();W.value=a.data}catch(a){console.error(a)}};return $(()=>{X()}),T(()=>{if(!Q.value)return x.value={},G.value={collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0},void(J.value={});v.getUserInfo(),H()}),(a,e)=>{const b=t(s("tig-navbar"),U),w=h,j=u,$=t(s("tig-image"),O),T=t(s("tig-upload"),A),L=I,P=t(s("uni-badge"),B),z=t(s("tig-copyright"),F),q=t(s("tig-layout"),R),D=t(s("tig-back-top"),N);return o(),f(_,null,[c(q,{ref_key:"layoutRef",ref:k,onLoginSuccess:M},{default:i(()=>[c(b,{"show-left":!1,title:"会员中心",background:"linear-gradient(90deg, #fcf6fc, #f3f3fe)"}),c(j,{class:"user"},{default:i(()=>[c(j,{class:"user_header user_bg_color"},{default:i(()=>[c(j,{class:"picTxt"},{default:i(()=>[Q.value?(o(),l(T,{key:1,class:"pictrue","request-url":"user/user/modifyAvatar",onChange:e[0]||(e[0]=a=>g(v).getUserInfo())},{default:i(()=>[c($,{class:"pic-btn",src:g(C)(x.value.avatar)},null,8,["src"])]),_:1})):(o(),l(j,{key:0,class:"pictrue",onClick:g(S)},{default:i(()=>[c(w,{class:"pic-btn",src:g(y)("common/empty-img-bg3.png")},null,8,["src"])]),_:1},8,["onClick"])),c(j,{class:"text"},{default:i(()=>[Q.value?(o(),l(j,{key:1,class:"acea-row row-middle info"},{default:i(()=>[c(j,{class:"name line1"},{default:i(()=>[n(r(x.value.nickname||x.value.username),1)]),_:1}),c(j,{class:"iconfont icon-shezhi",onClick:e[1]||(e[1]=a=>K("/pages/user/profile/index"))})]),_:1})):(o(),l(j,{key:0,class:"name",onClick:g(S)},{default:i(()=>[n(r(a.$t("登录/注册")),1)]),_:1},8,["onClick"]))]),_:1})]),_:1}),c(j,{class:"user_top_group"},{default:i(()=>[c(j,{class:"item",onClick:e[2]||(e[2]=a=>K("/pages/user/collectProduct/index"))},{default:i(()=>[c(j,{class:"tit"},{default:i(()=>[n(r(a.$t("商品收藏"))+" ",1),c(L,{class:"txt"},{default:i(()=>[n(r(J.value.productCollect>=0?J.value.productCollect:"--"),1)]),_:1})]),_:1})]),_:1}),c(j,{class:"item",onClick:e[3]||(e[3]=a=>K("/pages/user/comment/list"))},{default:i(()=>[c(j,{class:"tit"},{default:i(()=>[n(r(a.$t("待评价"))+" ",1),c(L,{class:"txt"},{default:i(()=>[n(r(J.value.awaitComment>=0?J.value.awaitComment:"--"),1)]),_:1})]),_:1})]),_:1}),c(j,{class:"item",onClick:e[4]||(e[4]=a=>K("/pages/user/historyProduct/index"))},{default:i(()=>[c(j,{class:"tit"},{default:i(()=>[n(r(a.$t("浏览记录")),1)]),_:1})]),_:1})]),_:1})]),_:1}),c(j,{class:"user_wrapper"},{default:i(()=>[c(j,{class:"list-group my-order"},{default:i(()=>[c(j,{class:"title acea-row row-between-wrapper"},{default:i(()=>[c(j,{class:""},{default:i(()=>[n(r(a.$t("我的订单")),1)]),_:1}),c(j,{class:"more",onClick:e[5]||(e[5]=a=>K("/pages/user/order/list"))},{default:i(()=>[c(j,null,{default:i(()=>[n(r(a.$t("全部订单")),1)]),_:1}),c(j,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),c(j,{class:"wrap"},{default:i(()=>[c(j,{class:"li",onClick:e[6]||(e[6]=a=>K("/pages/user/order/list?type=awaitPay"))},{default:i(()=>[J.value.awaitPay>0?(o(),f(_,{key:0},[c(P,{class:"badgecolor",text:J.value.awaitPay,absolute:"rightTop",size:"small"},{default:i(()=>[c(L,{class:"iconfont-h5 icon-daifukuan"})]),_:1},8,["text"]),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待付款")),1)]),_:1})],64)):(o(),f(_,{key:1},[c(L,{class:"iconfont-h5 icon-daifukuan"}),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待付款")),1)]),_:1})],64))]),_:1}),c(j,{class:"li",onClick:e[7]||(e[7]=a=>K("/pages/user/order/list?type=awaitShipping"))},{default:i(()=>[J.value.awaitShipping>0?(o(),f(_,{key:0},[c(P,{class:"badgecolor",text:J.value.awaitShipping,absolute:"rightTop",size:"small"},{default:i(()=>[c(L,{class:"iconfont-h5 icon-daifahuo"})]),_:1},8,["text"]),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待发货")),1)]),_:1})],64)):(o(),f(_,{key:1},[c(L,{class:"iconfont-h5 icon-daifahuo"}),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待发货")),1)]),_:1})],64))]),_:1}),c(j,{class:"li",onClick:e[8]||(e[8]=a=>K("/pages/user/order/list?type=awaitReceived"))},{default:i(()=>[J.value.awaitReceived>0?(o(),f(_,{key:0},[c(P,{class:"badgecolor",text:J.value.awaitReceived,absolute:"rightTop",size:"small"},{default:i(()=>[c(L,{class:"iconfont-h5 icon-daishouhuo"})]),_:1},8,["text"]),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待收货")),1)]),_:1})],64)):(o(),f(_,{key:1},[c(L,{class:"iconfont-h5 icon-daishouhuo"}),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待收货")),1)]),_:1})],64))]),_:1}),c(j,{class:"li",onClick:e[9]||(e[9]=a=>K("/pages/user/order/list?type=awaitComment"))},{default:i(()=>[J.value.awaitComment>0?(o(),f(_,{key:0},[c(P,{class:"badgecolor",text:J.value.awaitComment,absolute:"rightTop",size:"small"},{default:i(()=>[c(L,{class:"iconfont-h5 icon-daipingjia"})]),_:1},8,["text"]),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待评价")),1)]),_:1})],64)):(o(),f(_,{key:1},[c(L,{class:"iconfont-h5 icon-daipingjia"}),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("待评价")),1)]),_:1})],64))]),_:1}),c(j,{class:"li",onClick:e[10]||(e[10]=a=>K("/pages/user/afterSale/list"))},{default:i(()=>[c(L,{class:"iconfont-h5 icon-tuikuanshouhou"}),c(j,{class:"txt line1"},{default:i(()=>[n(r(a.$t("退换 / 售后")),1)]),_:1}),G.value.returnCount>0?(o(),l(L,{key:0,class:"counts"},{default:i(()=>[n(r(G.value.returnCount),1)]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1}),c(j,{class:"list-group my-wallet"},{default:i(()=>[c(j,{class:"title acea-row row-between-wrapper"},{default:i(()=>[c(j,{class:""},{default:i(()=>[n(r(a.$t("我的钱包")),1)]),_:1}),c(j,{class:"more",onClick:e[11]||(e[11]=a=>K("/pages/user/account/index"))},{default:i(()=>[c(j,null,{default:i(()=>[n(r(a.$t("进入钱包")),1)]),_:1}),c(j,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),c(j,{class:"wrap"},{default:i(()=>[c(j,{class:"li",onClick:e[12]||(e[12]=a=>K("/pages/user/account/index"))},{default:i(()=>[c(L,{class:"num"},{default:i(()=>[n(r(Number(x.value.totalBalance)>=0?x.value.totalBalance:0),1)]),_:1}),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("余额")),1)]),_:1})]),_:1}),c(j,{class:"li",onClick:e[13]||(e[13]=a=>K("/pages/coupon/index?type=2"))},{default:i(()=>[c(L,{class:"num"},{default:i(()=>[n(r(x.value.coupon>=0?x.value.coupon:0),1)]),_:1}),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t("优惠券")),1)]),_:1})]),_:1}),c(j,{class:"li",onClick:e[14]||(e[14]=a=>K("/pages/user/point/detail"))},{default:i(()=>[c(L,{class:"num"},{default:i(()=>[n(r(x.value.points>=0?x.value.points:0),1)]),_:1}),c(j,{class:"txt"},{default:i(()=>[n(r(a.$t(g(m).integralName)),1)]),_:1})]),_:1})]),_:1})]),_:1}),c(V,{modules:W.value},null,8,["modules"])]),_:1})]),_:1}),c(E),c(z)]),_:1},512),c(D,{"scroll-top":g(p)},null,8,["scroll-top"])],64)}}}),[["__scopeId","data-v-4585c2f1"]]);export{H as default};
