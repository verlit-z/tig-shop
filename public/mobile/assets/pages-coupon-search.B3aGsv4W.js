import{d as a,r as s,l as e,L as l,c,w as u,i as o,B as t,b8 as n,E as r,o as h,g as i,a as p,f as d,t as v,N as _,h as f,I as m,J as y,O as x,P as S,ap as b,ar as k,R as g,_ as C}from"./index-DE5OqlOG.js";const H=C(a({__name:"search",setup(a){const C=s(""),H=()=>{C.value?(w.value.unshift(C.value),w.value=[...new Set(w.value)],w.value.length>10&&w.value.splice(10,w.value.length-10),S("couponSearchHistory",w.value),b({success:()=>{k("coupon-search-return",C.value)}})):b({success:()=>{k("coupon-search-return","")}})},w=s([]);e(a=>{l("couponSearchHistory")&&(w.value=l("couponSearchHistory"))});const V=()=>{w.value=[],g("couponSearchHistory")};return(a,s)=>{const e=t(r("up-search"),n),l=f,S=o;return h(),c(S,{class:"coupon-search"},{default:u(()=>[i(e,{modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=a=>C.value=a),shape:"square","action-text":a.$t("取消"),onSearch:H,onCustom:H},null,8,["modelValue","action-text"]),w.value.length?(h(),c(S,{key:0,class:"search_init_box"},{default:u(()=>[i(S,{class:"search_history_box"},{default:u(()=>[i(S,{class:"title"},{default:u(()=>[d(v(a.$t("搜索历史"))+" ",1),i(S,{class:"clear_history",onClick:_(V,["stop"])},{default:u(()=>[i(l,{class:"iconfont-h5 icon-shanchu"})]),_:1})]),_:1}),i(S,{class:"list acea-row"},{default:u(()=>[(h(!0),m(y,null,x(w.value,(a,s)=>(h(),c(S,{key:s,class:"item",onClick:s=>(a=>{b({success:()=>{k("coupon-search-return",a)}})})(a)},{default:u(()=>[d(v(a),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1})}}}),[["__scopeId","data-v-a9bb9de0"]]);export{H as default};
