import{M as e,O as a,P as t,e as l,R as i,c as s,o as r,n,i as o,j as c,dt as u,x as d,bm as v,r as p,y as m,H as y,a4 as g,U as f,bC as k,a6 as b,F as h,m as w,b as _,bi as j,du as x,ag as T,af as I,ar as $,v as z,h as L,a as S,w as N,E as R,k as O,t as q,d as F,p as E,_ as P}from"./BoLQ9Xhu.js";import{_ as B}from"./CUjxzVkc.js";import{E as H}from"./Clfs2HP4.js";import{a as M,g as U}from"./CTJ7bZmn.js";import{P as C}from"./DkwbP8TR.js";import"./DEVzVrts.js";import"./DCawybvr.js";import"./7ACzQoE5.js";import"./Cy_EVX_n.js";import"./k79prmI0.js";import"./BmDvg8bE.js";import"./C_oH9tmG.js";import"./D5wp6cRH.js";import"./7KO-WwAc.js";import"./nqCHxoJt.js";const A=e({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:a([Number,Object])}}),V=e({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),D=l({name:"ElSkeletonItem"});var G=t(l({...D,props:V,setup(e){const a=i("skeleton");return(e,t)=>(r(),s("div",{class:d([c(a).e("item"),c(a).e(e.variant)])},["image"===e.variant?(r(),n(c(u),{key:0})):o("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const J=l({name:"ElSkeleton"});const K=T(t(l({...J,props:A,setup(e,{expose:a}){const t=e,l=i("skeleton"),u=((e,a=0)=>{if(0===a)return e;const t=v(a)&&Boolean(a.initVal),l=p(t);let i=null;const s=a=>{f(a)?l.value=e.value:(i&&clearTimeout(i),i=setTimeout(()=>{l.value=e.value},a))},r=e=>{"leading"===e?g(a)?s(a):s(a.leading):v(a)?s(a.trailing):l.value=!1};return m(()=>r("leading")),y(()=>e.value,e=>{r(e?"leading":"trailing")}),l})(k(t,"loading"),t.throttle);return a({uiLoading:u}),(e,a)=>c(u)?(r(),s("div",j({key:0,class:[c(l).b(),c(l).is("animated",e.animated)]},e.$attrs),[(r(!0),s(h,null,w(e.count,a=>(r(),s(h,{key:a},[c(u)?b(e.$slots,"template",{key:a},()=>[_(G,{class:d(c(l).is("first")),variant:"p"},null,8,["class"]),(r(!0),s(h,null,w(e.rows,a=>(r(),n(G,{key:a,class:d([c(l).e("paragraph"),c(l).is("last",a===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"]))),128))]):o("v-if",!0)],64))),128))],16)):b(e.$slots,"default",x(j({key:1},e.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:G});I(G);const Q={key:0,class:"article-list"},W={class:"col"},X={key:0},Y={class:"right"},Z={class:"col1"},ee={key:0,class:"tips"},ae={class:"col-title"},te={class:"col2"},le={class:"col3"},ie={key:0,class:"time-div"},se={class:"el-page"},re={key:1,class:"loading-data"},ne={class:"loading-bottom"},oe={key:0,class:"article-info"},ce={class:"text-content"},ue={class:"title"},de={class:"time"},ve={key:0,class:"article_content"},pe=["innerHTML"],me={key:1,class:"no-content-data"},ye={class:"navigation"},ge={class:"navigation-btn navigation-btn-left"},fe={class:"text"},ke={class:"navigation-btn navigation-btn-right"},be={class:"text"},he={key:1,class:"loading-data"},we=P(l({__name:"Info",props:{articleName:{type:String,default:""},productList:{type:Array,default:[]}},emits:["update:articleName","update:productList"],setup(e,{emit:a}){const t=$(),l=z(()=>t.currentRoute.value.query.hasOwnProperty("articleId")?"article":t.currentRoute.value.query.hasOwnProperty("categoryId")?"list":"none"),i=p({}),u=p(),d=p(!0),v=p(0),m=L({page:1,size:10,categorySn:""}),g=a,f=async()=>{try{if(d.value=!0,g("update:articleName",""),g("update:productList",[]),"article"===l.value){const e=await M({id:t.currentRoute.value.query.articleId},"newsInfo");Object.assign(i.value,e.item),i.value.prev=e.prev,i.value.next=e.next,g("update:articleName",i.value.articleTitle),g("update:productList",e.productList)}else if("list"===l.value){let e=t.currentRoute.value.query.categoryId;"string"==typeof e&&(m.categorySn=e);const a=await U({...m});u.value=a.records,v.value=a.total}else if("none"===l.value){m.categorySn="zxzx";const e=await U({...m});u.value=e.records,v.value=e.total}}catch(e){E.error(e.message)}finally{d.value=!1}};return y(()=>t.currentRoute.value.query,e=>{f()},{deep:!0,immediate:!0}),(e,a)=>{const t=R,p=B,y=H,g=K;return r(),s("div",null,["list"===c(l)||"none"===c(l)?(r(),s(h,{key:0},[d.value?(r(),s("div",re,[(r(),s(h,null,w(3,e=>S("div",ne,[_(g,{rows:2,animated:""})])),64))])):(r(),s("div",Q,[u.value?.length>0?(r(),s(h,{key:0},[(r(!0),s(h,null,w(u.value,a=>(r(),s("div",W,[a.articleThumb?(r(),s("div",X,[_(p,{to:"/article/news/list?articleId="+a.articleId},{default:N(()=>[_(t,{src:("imageFormat"in e?e.imageFormat:c(O))(a.articleThumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"120px",height:"80px"}},null,8,["src"])]),_:2},1032,["to"])])):o("",!0),S("div",Y,[S("div",Z,[a.articleTag?(r(),s("div",ee,q(a.articleTag),1)):o("",!0),S("div",ae,[_(p,{to:"/article/news/list?articleId="+a.articleId},{default:N(()=>[F(q(a.articleTitle),1)]),_:2},1032,["to"])])]),S("div",te,q(a.description),1),S("div",le,[a.addTime?(r(),s("div",ie,q(a.addTime),1)):o("",!0),a.link?(r(),n(p,{key:1,to:a.link,class:"link-div"},{default:N(()=>[F(q(e.$t("相关链接")),1)]),_:2},1032,["to"])):o("",!0)])])]))),256)),S("div",se,[_(c(C),{page:m.page,"onUpdate:page":a[0]||(a[0]=e=>m.page=e),size:m.size,"onUpdate:size":a[1]||(a[1]=e=>m.size=e),total:v.value,onCallback:f},null,8,["page","size","total"])])],64)):(r(),n(y,{key:1,description:e.$t("没有内容")},null,8,["description"]))]))],64)):"article"===c(l)?(r(),s(h,{key:1},[d.value?(r(),s("div",he,[_(g,{rows:5,animated:""})])):(r(),s("div",oe,[S("div",ce,[S("div",ue,q(i.value.articleTitle),1),S("div",de,q(e.$t("时间"))+"："+q(i.value.addTime),1),i.value.content?(r(),s("div",ve,[i.value.articleThumb?(r(),n(t,{key:0,src:("imageFormat"in e?e.imageFormat:c(O))(i.value.articleThumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"300px"}},null,8,["src"])):o("",!0),S("div",{class:"v-html",innerHTML:i.value.content},null,8,pe)])):(r(),s("div",me,[_(y,{description:e.$t("没有内容")},null,8,["description"])]))]),S("div",ye,[S("div",ge,[i.value.prev?(r(),n(p,{key:0,to:"/article/news/list?articleId="+i.value.prev.articleId},{default:N(()=>[F("«"+q(e.$t("上一篇"))+"： ",1),S("div",fe,q(i.value.prev.articleTitle),1)]),_:1},8,["to"])):o("",!0)]),S("div",ke,[i.value.next?(r(),n(p,{key:0,to:"/article/news/list?articleId="+i.value.next.articleId},{default:N(()=>[F(q(e.$t("下一篇"))+"： ",1),S("div",be,q(i.value.next.articleTitle),1),a[2]||(a[2]=F(" » ",-1))]),_:1,__:[2]},8,["to"])):o("",!0)])])]))],64)):o("",!0)])}}}),[["__scopeId","data-v-85602b5c"]]);export{we as default};
