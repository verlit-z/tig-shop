import{b as e}from"./C0PQcRxs.js";import{_ as a}from"./BDziKWme.js";import{_ as l}from"./SixI1hze.js";import{_ as s}from"./BMSLTx3B.js";import{E as t}from"./BYBCH-HF.js";import{E as o,a as r}from"./CSNhwhPs.js";import{E as u}from"./7KO-WwAc.js";import{_ as m}from"./CUjxzVkc.js";import{E as n}from"./CqjQ_mIo.js";import{_ as i}from"./DFo55n29.js";import{e as p,r as d,h as c,I as v,y as f,z as y,c as b,o as $,b as _,a as j,i as g,ad as h,t as V,d as k,ae as C,n as w,w as A,F as I,p as q,_ as U}from"./BoLQ9Xhu.js";import{a as N,i as P,u as x}from"./DglJjdLb.js";import"./Bk7c1JMx.js";import"./CACs9nxh.js";import"./MzbMzCCn.js";import"./BSss4uk8.js";import"./k79prmI0.js";import"./Cy_EVX_n.js";import"./DEVzVrts.js";import"./nqCHxoJt.js";import"./DCawybvr.js";import"./7ACzQoE5.js";import"./BmDvg8bE.js";import"./C_oH9tmG.js";import"./D5wp6cRH.js";import"./Y9Rb4YJs.js";/* empty css        */import"./C-LthTfX.js";import"./DwsKuIG7.js";import"./oOeuh3JC.js";import"./C4BNlK69.js";const z={class:"container flex"},E={class:"menu"},B={class:"info-row"},L={class:"title-or-tabs"},R={class:"tag-and-input"},O={class:"tig-tabs"},T={class:"invoice-info-content"},F={class:"tips"},K={class:"font-color"},M={class:"remind-box mt20"},Q={class:"i-mt"},X={key:0,class:"gray"},Y={key:1,class:"green"},Z={key:2,class:"orange"},D={key:3,class:"red"},G={key:4},H={key:1,class:"error-info"},J={key:0,class:"invoice-info-content"},S={class:"title-tips"},W={key:1,class:"invoice-info-content"},ee={class:"tips mb-tips"},ae={class:"font-color"},le=U(p({__name:"Info",setup(p){const U=d(!1),le=c([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]),se=d(!0),te=v(),oe=d({}),re=async()=>{try{const e=await N();Object.assign(oe.value,e)}catch(e){q.error(e.message)}finally{se.value=!1}};f(()=>{re()});const ue=()=>{re(),U.value=!U.value,oe.value.isConfirm=0},{t:me}=y(),ne={isConfirm:[{required:!0,message:me("请勾选确认书"),trigger:"change"},{validator:(e,a,l)=>{1!==a?l(new Error(me("需要勾选确认才能继续"))):l()},trigger:"change"}]},ie=async()=>{await te.value.validate();try{oe.value.titleType=2,oe.value.invoiceType=1;let e={};0===oe.value.status?(delete oe.value.status,e=await P(oe.value)):(delete oe.value.status,e=await x({id:oe.value.invoiceId,...oe.value})),ue(),q.success(me("操作成功"))}catch(e){q.error(e.message)}};return(p,d)=>{const c=e,v=a,f=l,y=s,q=t,N=o,P=r,x=u,re=m,me=n,pe=i;return $(),b(I,null,[_(c),_(v,{title:"增票资质"}),j("div",z,[j("div",E,[_(f)]),j("div",B,[j("div",L,[j("div",R,[j("div",O,[_(y,{menuList:le},null,8,["menuList"])])])]),j("div",T,[j("div",F,[j("p",null,[j("strong",null,V(p.$t("温馨提示")),1)]),j("p",null,V(p.$t("我们会在一个工作日内完成审核工作"))+"。",1),j("p",null,[k(" 1）"+V(p.$t("资质审核结果查询时间"))+"：",1),j("span",K,V(p.$t("资质上传一到两个工作日后即可查询"))+"。",1)]),j("p",null,"2）"+V(p.$t("注意有效增值税专用发票开票资质仅为一个"))+"。",1)]),h(j("div",M,[j("div",Q,[j("strong",null,V(p.$t("您的增票资质"))+"：",1),0===oe.value.status?($(),b("span",X,V(p.$t("未申请专用发票")),1)):1===oe.value.status?($(),b("span",Y,V(p.$t("审核通过")),1)):2===oe.value.status?($(),b("span",Z,V(p.$t("已申请，待审核")),1)):3===oe.value.status?($(),b("span",D,V(p.$t("审核未通过")),1)):($(),b("span",G))]),se.value?g("",!0):($(),w(q,{key:0,type:"primary",size:"small",class:"mt10",onClick:ue},{default:A(()=>[k(V(0===oe.value.status?p.$t("添加增票资质"):p.$t("修改并重新审核")),1)]),_:1})),3===oe.value.status?($(),b("div",H,V(p.$t("审核失败原因"))+"："+V(oe.value.applyReply),1)):g("",!0)],512),[[C,!U.value]])]),!U.value&&oe.value.hasOwnProperty("companyName")?($(),b("div",J,[j("div",S,[j("li",null,V(p.$t("填写增票资质信息")),1)]),_(P,{"label-width":"auto",class:"form-body","label-suffix":"："},{default:A(()=>[_(N,{label:p.$t("单位名称")},{default:A(()=>[k(V(oe.value.companyName),1)]),_:1},8,["label"]),_(N,{label:p.$t("纳税人识别码")},{default:A(()=>[k(V(oe.value.companyCode),1)]),_:1},8,["label"]),_(N,{label:p.$t("注册地址")},{default:A(()=>[k(V(oe.value.companyAddress),1)]),_:1},8,["label"]),_(N,{label:p.$t("注册电话")},{default:A(()=>[k(V(oe.value.companyPhone),1)]),_:1},8,["label"]),_(N,{label:p.$t("开户银行")},{default:A(()=>[k(V(oe.value.companyBank),1)]),_:1},8,["label"]),_(N,{label:p.$t("银行账户")},{default:A(()=>[k(V(oe.value.companyAccount),1)]),_:1},8,["label"])]),_:1})])):g("",!0),U.value?($(),b("div",W,[j("div",ee,[j("span",null,[k(V(p.$t("填写增票资质信息"))+" ",1),j("span",ae,"（"+V(p.$t("所有信息均为必填"))+"）",1)])]),_(P,{ref_key:"formRef",ref:te,"label-width":120,model:oe.value,rules:ne,class:"form-body","label-suffix":"："},{default:A(()=>[_(N,{rules:[{required:!0,message:p.$t("单位名称不能为空")}],label:p.$t("单位名称"),prop:"companyName"},{default:A(()=>[_(x,{modelValue:oe.value.companyName,"onUpdate:modelValue":d[0]||(d[0]=e=>oe.value.companyName=e),clearable:"",placeholder:p.$t("请输入单位名称")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),_(N,{rules:[{required:!0,message:p.$t("纳税人识别码不能为空")}],label:p.$t("纳税人识别码"),prop:"companyCode"},{default:A(()=>[_(x,{modelValue:oe.value.companyCode,"onUpdate:modelValue":d[1]||(d[1]=e=>oe.value.companyCode=e),clearable:"",placeholder:p.$t("请输入纳税人识别码")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),_(N,{rules:[{required:!0,message:p.$t("注册地址不能为空")}],label:p.$t("注册地址"),prop:"companyAddress"},{default:A(()=>[_(x,{modelValue:oe.value.companyAddress,"onUpdate:modelValue":d[2]||(d[2]=e=>oe.value.companyAddress=e),clearable:"",placeholder:p.$t("请输入注册地址")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),_(N,{rules:[{required:!0,message:p.$t("注册电话不能为空")}],label:p.$t("注册电话"),prop:"companyPhone"},{default:A(()=>[_(x,{modelValue:oe.value.companyPhone,"onUpdate:modelValue":d[3]||(d[3]=e=>oe.value.companyPhone=e),clearable:"",placeholder:p.$t("请输入注册电话")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),_(N,{rules:[{required:!0,message:p.$t("开户银行不能为空")}],label:p.$t("开户银行"),prop:"companyBank"},{default:A(()=>[_(x,{modelValue:oe.value.companyBank,"onUpdate:modelValue":d[4]||(d[4]=e=>oe.value.companyBank=e),clearable:"",placeholder:p.$t("请输入开户银行")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),_(N,{rules:[{required:!0,message:p.$t("银行账户不能为空")}],label:p.$t("银行账户"),prop:"companyAccount"},{default:A(()=>[_(x,{modelValue:oe.value.companyAccount,"onUpdate:modelValue":d[5]||(d[5]=e=>oe.value.companyAccount=e),clearable:"",placeholder:p.$t("请输入银行账户")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),_(N,{label:"",prop:"isConfirm"},{default:A(()=>[_(me,{modelValue:oe.value.isConfirm,"onUpdate:modelValue":d[6]||(d[6]=e=>oe.value.isConfirm=e),"false-value":0,"true-value":1},{default:A(()=>[k(V(p.$t("我已阅读并同意"))+" ",1),_(re,{class:"font-color",target:"_blank",to:"/member/userInvoice/confirmInfo"},{default:A(()=>[k("《"+V(p.$t("增票资质确认书"))+"》",1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),_(N,{label:""},{default:A(()=>[_(q,{type:"primary",onClick:ie},{default:A(()=>[k(V(p.$t("确认")),1)]),_:1}),_(q,{onClick:ue},{default:A(()=>[k(V(p.$t("取消")),1)]),_:1})]),_:1})]),_:1},8,["model"])])):g("",!0)])]),_(pe)],64)}}}),[["__scopeId","data-v-0dcb2d34"]]);export{le as default};
