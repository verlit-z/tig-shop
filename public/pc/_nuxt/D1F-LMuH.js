import{e,z as a,v as l,c as t,o as d,x as s,a as u,j as n,p as o,_ as m}from"./BoLQ9Xhu.js";const p=["value","disabled"],r=m(e({__name:"InputNumber",props:{modelValue:{type:Number,default:1},disabled:{type:Boolean,default:!1},max:{type:Number}},emits:["change","update:modelValue"],setup(e,{emit:m}){const{t:r}=a(),i=m,c=e,b=l({get:()=>c.modelValue,set:e=>{i("update:modelValue",e)}}),v=e=>{if(!c.disabled&&("min"==e&&b.value>1&&(i("update:modelValue",c.modelValue-1),i("change")),"add"==e)){if(c.max&&c.modelValue>=c.max)return i("update:modelValue",c.max),o.error(r("库存不足")),void i("change");i("update:modelValue",c.modelValue+1),i("change")}},x=e=>{const a=e.target;a.value=a.value.replace(/\D/g,""),c.max&&parseInt(a.value)>c.max&&(a.value=c.max.toString(),o.error(r("库存不足")))},g=e=>{const a=e.target;let l=a.value;""===l||null===l?l="1":(l=parseInt(l,10).toString(),(isNaN(parseInt(l))||parseInt(l)<1)&&(l="1")),a.value=l,i("update:modelValue",parseInt(l,10)),i("change")};return(a,l)=>(d(),t("div",{class:s(["cart-num-box flex",e.disabled?"disabled-box":""])},[u("span",{class:s(["minus hand-pointer",n(b)<2?"disabled":""]),onClick:l[0]||(l[0]=e=>v("min"))},"－",2),u("input",{type:"text",value:n(b),onInput:x,onChange:g,disabled:e.disabled},null,40,p),u("span",{class:"add hand-pointer",onClick:l[1]||(l[1]=e=>v("add"))},"+")],2))}}),[["__scopeId","data-v-51cbdb3a"]]);export{r as default};
