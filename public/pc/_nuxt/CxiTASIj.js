import{a as e,b as a}from"./BXXR0KLv.js";import{e as t,b3 as s,f as r,ar as u,z as d,r as i,c,o,x as l,a6 as p,A as n,p as y,_ as b}from"./BoLQ9Xhu.js";/* empty css        */const f=b(t({__name:"Buy",props:{id:Number,number:{type:Number},skuId:{type:Number},extraAttrIds:{type:String,default:""},disabled:{type:Boolean,default:!1},isQuick:{type:Boolean,default:!1},productType:{type:String,default:"product"},skuItem:{type:Array}},emits:["callback"],setup(t,{emit:b}){const f=s(),m=r(),k=u(),I=t,{t:x}=d(),h=b,v=i(!1),A=async()=>{try{if(I.disabled)return;if(v.value)return;v.value=!0;let t={};const s={id:I.id??0,number:I.number,skuId:I.skuId,isQuick:I.isQuick?1:0};if(I.extraAttrIds&&(s.extraAttrIds=I.extraAttrIds),n(),"product"==I.productType?t=await e(s):"exchange"==I.productType&&(t=await a(s)),1==I.isQuick){if(1===m.closeOrder)return y.error(x("商城已关闭下单"));k.push({path:"/order/check",query:{flowType:t.flowType}})}else f.changeCartList(),y.success(x("加入购物车成功")),h("callback")}catch(t){y.error(t.message)}finally{v.value=!1}};return(e,a)=>(o(),c("div",{class:l("buy "+(1==t.disabled?"disabled":"")),onClick:A},[p(e.$slots,"default",{},void 0,!0)],2))}}),[["__scopeId","data-v-bf4b7373"]]);export{f as B};
