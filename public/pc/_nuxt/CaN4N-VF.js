import{b as e}from"./C0PQcRxs.js";import{_ as s}from"./BZxBvtz_.js";import{_ as o}from"./DFo55n29.js";import{a}from"./EfClc7Gk.js";import{C as t}from"./CC3eRyyO.js";import{e as r,f as p,z as i,v as m,r as l,u,G as d,h as n,ar as j,H as c,c as y,o as v,F as h,b as f,i as w,a as g,m as k,n as I,j as b,aE as _,_ as q}from"./BoLQ9Xhu.js";import"./Bk7c1JMx.js";import"./CUjxzVkc.js";import"./CACs9nxh.js";import"./MzbMzCCn.js";import"./BYBCH-HF.js";import"./nqCHxoJt.js";import"./Cy_EVX_n.js";import"./DEVzVrts.js";import"./BSss4uk8.js";import"./k79prmI0.js";import"./DCawybvr.js";import"./7ACzQoE5.js";import"./BmDvg8bE.js";import"./C_oH9tmG.js";import"./D5wp6cRH.js";import"./Y9Rb4YJs.js";/* empty css        */import"./C-LthTfX.js";import"./7KO-WwAc.js";import"./DwsKuIG7.js";import"./BXXR0KLv.js";import"./C4BNlK69.js";import"./CxiTASIj.js";/* empty css        */import"./DkwbP8TR.js";import"./D0GOQlI4.js";const M={key:0,style:{background:"white"}},P={class:"container"},L={class:"page-info"},R=q(r({__name:"ShopSearch",setup(r){const q=p(),{t:R}=i(),S=m(()=>{let e=R("店铺商品搜索");return 1!=q.poweredByStatus&&(e+="-powered by tigshop"),e}),x=l([]),F=e=>{x.value=e},G=l(!1),U=l(""),z=l("");u({title:S,meta:[{name:"description",content:U},{name:"keyword",content:z}]});const B=d(),C=l(B.path.split("/").pop()),E=m(()=>{let e={};return H.page>1&&(e.page=H.page),H.shopId>0&&(e.shopId=H.shopId),""!=H.keyword&&(e.keyword=H.keyword),e}),H=n({page:1,keyword:"",shopId:-1}),N=j();c([()=>N.currentRoute.value.query],()=>{H.keyword=N.currentRoute.value.query.keyword,H.shopId=C.value},{deep:!0,immediate:!0});const O=l([]),Q=l({}),T=l();return(async()=>{G.value=!1;try{const e=await a({shopId:C.value});T.value=e.decorateId,O.value=e.moduleList,Object.assign(Q.value,e.pageModule)}catch(e){}finally{G.value=!0}})(),(a,r)=>{const p=e,i=s,m=o;return v(),y(h,null,[f(p),G.value?(v(),y("div",M,[(v(!0),y(h,null,k(O.value,(e,s)=>(v(),y(h,{key:s},["shopInfo"==e.type?(v(),I(i,{key:0,onTreeList:F,pageModule:Q.value,shopId:Number(C.value),module:e.module},null,8,["pageModule","shopId","module"])):w("",!0)],64))),128)),g("div",P,[g("div",L,[f(t,{queryParams:E.value,"onUpdate:queryParams":r[0]||(r[0]=e=>E.value=e),filter:b(H),"onUpdate:filter":r[1]||(r[1]=e=>_(H)?H.value=e:null)},null,8,["queryParams","filter"])])])])):w("",!0),f(m,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-12ae1fb6"]]);export{R as default};
