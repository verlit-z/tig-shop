import{b as e}from"./C0PQcRxs.js";import{_ as a}from"./BDziKWme.js";import{_ as l}from"./SixI1hze.js";import{E as t}from"./BYBCH-HF.js";import{_ as s}from"./CUjxzVkc.js";import{_ as o}from"./CACs9nxh.js";import{_ as u}from"./DFo55n29.js";import{e as i,f as r,z as d,ar as n,r as c,v,c as m,o as p,b as y,a as f,i as b,t as k,w as g,d as h,j as $,s as V,n as j,F as A,m as I,q as x,k as _,p as S,an as N,_ as U}from"./BoLQ9Xhu.js";import{f as T,c as F,a as w}from"./-srO5WKH.js";import{L as C}from"./D5e2aJdX.js";import"./Bk7c1JMx.js";import"./MzbMzCCn.js";import"./BSss4uk8.js";import"./k79prmI0.js";import"./Cy_EVX_n.js";import"./DEVzVrts.js";import"./nqCHxoJt.js";import"./DCawybvr.js";import"./7ACzQoE5.js";import"./BmDvg8bE.js";import"./C_oH9tmG.js";import"./D5wp6cRH.js";import"./Y9Rb4YJs.js";/* empty css        */import"./C-LthTfX.js";import"./7KO-WwAc.js";import"./DwsKuIG7.js";import"./oOeuh3JC.js";import"./C4BNlK69.js";const D={class:"container flex"},P={class:"menu"},M={class:"info-row"},L={class:"title-or-tabs right-info"},O={key:0},q={class:"order-info"},z={class:"page-info-body lr"},R={class:"order-left"},E={key:0,style:{"margin-left":"40px"}},H={class:"font-color"},G={style:{"margin-left":"40px"}},Q={key:0},X={key:1},Y={class:"order-right"},Z={key:1},B={class:"page-info-body"},J={class:"sub-title"},K={class:"tig-steps"},W={style:{"font-weight":"600"}},ee={class:"page-info-body"},ae={class:"sub-title"},le={class:"order-ul",style:{"margin-top":"20px"}},te={key:0},se={key:1,class:"virtualsample"},oe=["innerHTML"],ue={key:0,class:"page-info-body"},ie={class:"sub-title"},re={class:"sub-sub-title"},de={key:0,class:"order-ul virtualsample-box"},ne={class:"item"},ce={class:"item"},ve={class:"page-info-body"},me={class:"sub-title"},pe={class:"order-table-info"},ye={class:"receipt-header"},fe={key:0},be={class:"receipt-body"},ke={class:"receipt-item"},ge=["alt","src"],he={key:0,class:"sku-style"},$e={key:1,class:"extraskudata"},Ve={class:"title"},je={class:"content"},Ae={class:"content-text"},Ie={class:"num"},xe={class:"receipt-item price"},_e={class:"receipt-item price"},Se={class:"receipt-item price"},Ne={key:0,class:"receipt-item operation"},Ue={class:"receipt-footer"},Te=["colspan"],Fe={class:"receipt-footer-it one",colspan:"2"},we={class:"item"},Ce={class:"label"},De={class:"text"},Pe={key:0,class:"item"},Me={class:"label"},Le={class:"text"},Oe={key:1,class:"item"},qe={class:"label"},ze={class:"text"},Re={key:2,class:"item"},Ee={class:"label"},He={class:"text"},Ge={key:3,class:"item"},Qe={class:"label"},Xe={class:"text"},Ye={key:4,class:"item"},Ze={class:"label"},Be={class:"text"},Je={key:5,class:"item"},Ke={class:"label"},We={class:"text"},ea={key:6,class:"item"},aa={class:"label"},la={class:"text"},ta={class:"item"},sa={key:0},oa={key:1},ua=U(i({__name:"Info",setup(i){const U=r(),{t:ua}=d(),ia=n(),ra=c({orderStatus:0,availableActions:{}}),da=c(!0),na=v(()=>{let e=!1;return ra.value.items?.forEach(a=>{a.eCard&&a.eCard.length>0&&(e=!0)}),e}),ca=async()=>{try{const e=await T({id:ia.currentRoute.value.query.id});Object.assign(ra.value,e)}catch(e){S.error(e.message)}finally{da.value=!1}};ca();const va=c(["您的订单已提交成功，请尽快完成付款哦！","感谢您在本店的购物，您的订单已提交成功，我们会尽快为您发货！","您的订单已经发货，请注意查收，祝您购物愉快！",'您的订单已被取消，您可以通过"再次购买"，重新购买订单中的商品。','您的订单被认定为无效订单，订单已被关闭。您可以通过"再次购买"，重新购买订单中的商品。给您造成的不便请多多谅解！',"您的订单已经确认收货，感谢您在本店购物，祝您生活愉快！"]),ma=async()=>{N.confirm({title:ua("确认要取消该订单吗"),cancelText:ua("取消"),okText:ua("确定"),maskClosable:!0,centered:!0,onOk:async()=>{try{await F({id:ra.value.orderId});S.success(ua("取消订单成功")),await ca()}catch(e){S.error(e.message)}}})},pa=async()=>{N.confirm({title:ua("确认要收货吗"),cancelText:ua("取消"),okText:ua("确定"),maskClosable:!0,centered:!0,onOk:async()=>{try{await w({id:ra.value.orderId});await ca()}catch(e){S.error(e.message)}}})};return(i,r)=>{const d=e,n=a,c=l,v=t,S=s,N=o,T=u;return p(),m(A,null,[y(d,{showService:!0,phone:ra.value.shop?ra.value.shop.kefuPhone:"",orderId:ra.value.orderId,shopId:ra.value.shopId},null,8,["phone","orderId","shopId"]),y(n,{title:"订单详情"}),f("div",D,[f("div",P,[y(c)]),f("div",M,[f("div",L,[f("span",null,k(i.$t("订单详情")),1),ra.value.availableActions.splitOrder?b("",!0):(p(),m("div",O,[y(S,{to:"/member/feedback/askList?orderId="+ra.value.orderId+"&orderSn="+ra.value.orderSn},{default:g(()=>[y(v,null,{default:g(()=>[h(k(i.$t("订单留言/咨询")),1)]),_:1})]),_:1},8,["to"])]))]),f("div",q,[f("div",z,[f("div",R,[f("div",null,[f("span",null,[h(k(i.$t("订单号"))+"：",1),f("strong",null,k(ra.value.orderSn),1)]),ra.value.shop&&ra.value.shop.shopTitle?(p(),m("span",E,[h(k(i.$t("下单店铺"))+"：",1),y(S,{to:("urlFormat"in i?i.urlFormat:$(V))({path:"shop",id:ra.value.shopId}),target:"_blank"},{default:g(()=>[f("span",H,k(ra.value.shop.shopTitle),1)]),_:1},8,["to"])])):b("",!0),f("span",G,[h(k(i.$t("订单状态"))+"： ",1),f("strong",null,k(i.$t(ra.value.orderStatusName||"")),1)])]),ra.value.autoDeliveryDays?(p(),m("div",Q,k(i.$t("订单将在"))+k(ra.value.autoDeliveryDays)+k(i.$t("天后自动收货")),1)):(p(),m("div",X,k(i.$t(va.value[ra.value.orderStatus]||"")),1))]),f("div",Y,[ra.value.availableActions.cancelOrder?(p(),j(v,{key:0,onClick:ma},{default:g(()=>[h(k(i.$t("取消订单")),1)]),_:1})):b("",!0),ra.value.availableActions.toPay?(p(),m("div",Z,[y(S,{to:"/order/pay/?id="+ra.value.orderId,target:"_balnk"},{default:g(()=>[y(v,{type:"primary"},{default:g(()=>[h(k(i.$t("付款")),1)]),_:1})]),_:1},8,["to"])])):b("",!0),ra.value.availableActions.confirmReceipt?(p(),j(v,{key:2,type:"primary",onClick:pa},{default:g(()=>[h(k(i.$t("确认收货")),1)]),_:1})):b("",!0),ra.value.availableActions.toAftersales?(p(),j(S,{key:3,target:"_blank",to:"/member/return/Info?orderId="+ra.value.orderId},{default:g(()=>[y(v,null,{default:g(()=>[h(k(i.$t("整单售后")),1)]),_:1})]),_:1},8,["to"])):b("",!0)])]),f("div",B,[f("div",J,k(i.$t("订单状态")),1),f("div",K,[(p(!0),m(A,null,I(ra.value.stepStatus?.steps,(e,a)=>(p(),m(A,null,[f("div",{style:x({color:a<=ra.value.stepStatus?.current?"var(--general)":"#c4c4c4",border:a<=ra.value.stepStatus?.current?"4px solid var(--general)":"4px solid #eee"}),class:"steps-card"},[f("div",W,k(a+1),1),f("div",{style:x({color:a<=ra.value.stepStatus?.current?"var(--general)":"#333"}),class:"card-text"},[f("div",null,k(i.$t(e.title||"")),1),f("div",null,k(i.$t(e.description||"")),1)],4)],4),a!=ra.value.stepStatus?.steps?.length-1?(p(),m("div",{key:0,style:x({backgroundColor:a<ra.value.stepStatus?.current?"var(--general)":"#eee"}),class:"steps-line"},null,4)):b("",!0)],64))),256))]),!ra.value.orderId||2!==ra.value.orderStatus&&5!==ra.value.orderStatus?b("",!0):(p(),j(C,{key:0,trackingNo:ra.value.trackingNo,logisticsName:ra.value.logisticsName,shippingMethod:ra.value.shippingMethod,id:ra.value.orderId,"onUpdate:id":r[0]||(r[0]=e=>ra.value.orderId=e)},null,8,["trackingNo","logisticsName","shippingMethod","id"]))]),f("div",ee,[f("div",ae,k(i.$t("订单信息")),1),f("ul",le,[f("li",null,[h(k(i.$t("收货信息"))+"：",1),f("span",null,k(ra.value.userAddress)+" "+k(ra.value.consignee)+" "+k(ra.value.mobile),1)]),ra.value.shippingTypeName?(p(),m("li",te,[h(k(i.$t("配送方式"))+"：",1),f("span",null,k(ra.value.shippingTypeName),1)])):b("",!0),f("li",null,[h(k(i.$t("支付方式"))+"：",1),f("span",null,k(1===ra.value.payTypeId?i.$t("在线支付"):2===ra.value.payTypeId?i.$t("货到付款"):i.$t("线下支付")),1)]),6===ra.value.orderType&&ra.value.items[0].virtualSample?(p(),m("li",se,[h(k(i.$t("虚拟内容"))+"：",1),f("span",{class:"virtualsample-value",innerHTML:ra.value.items[0].virtualSample},null,8,oe)])):b("",!0)])]),$(na)?(p(),m("div",ue,[f("div",ie,k(i.$t("卡券信息")),1),(p(!0),m(A,null,I(ra.value.items,e=>(p(),m(A,null,[f("div",re,k(e.productName),1),e.eCard.length>0?(p(),m("ul",de,[(p(!0),m(A,null,I(e.eCard,e=>(p(),m("li",{class:"virtualsample-item",key:e},[f("div",ne,[h(k(i.$t("卡号"))+"：",1),f("span",null,k(e.cardNumber),1)]),f("div",ce,[h(k(i.$t("卡密"))+"：",1),f("span",null,k(e.cardPwd),1)])]))),128))])):b("",!0)],64))),256))])):b("",!0),f("div",ve,[f("div",me,k(i.$t("订单商品")),1),f("table",pe,[f("thead",null,[f("tr",ye,[f("th",null,k(i.$t("商品名称")),1),f("th",null,k(i.$t("商品价格")),1),f("th",null,k(i.$t("购买数量")),1),f("th",null,k(i.$t("小计")),1),ra.value.availableActions.toAftersales?(p(),m("th",fe,k(i.$t("操作")),1)):b("",!0)])]),f("tbody",null,[(p(!0),m(A,null,I(ra.value.items,e=>(p(),m("tr",be,[f("td",ke,[f("div",null,[f("img",{alt:e.productName,src:("imageFormat"in i?i.imageFormat:$(_))(e.picThumb),class:"img-border"},null,8,ge),h(" "+k(e.productName)+" ",1),e.skuData?(p(),m("div",he,[(p(!0),m(A,null,I(e.skuData,e=>(p(),m("div",null,k(e.name)+"："+k(e.value),1))),256))])):b("",!0),e.extraSkuData&&e.extraSkuData.length?(p(),m("div",$e,[(p(!0),m(A,null,I(e.extraSkuData,a=>(p(),m("div",{key:a,class:"extraskudata-item"},[f("div",Ve,k(a.attrName),1),r[10]||(r[10]=f("div",{class:"line-box"},[f("div",{class:"line"})],-1)),f("div",je,[f("span",Ae,k(a.attrValue),1),y(N,{class:"price",modelValue:a.attrPrice,"onUpdate:modelValue":e=>a.attrPrice=e},null,8,["modelValue","onUpdate:modelValue"]),f("span",Ie,"x"+k(e.quantity),1)])]))),128))])):b("",!0)])]),f("td",xe,[y(N,{modelValue:e.price,"onUpdate:modelValue":a=>e.price=a},null,8,["modelValue","onUpdate:modelValue"])]),f("td",_e,k(e.quantity),1),f("td",Se,[y(N,{modelValue:e.subtotal,"onUpdate:modelValue":a=>e.subtotal=a},null,8,["modelValue","onUpdate:modelValue"])]),2===ra.value.payStatus?(p(),m("td",Ne,[0===e.isGift?(p(),m(A,{key:0},[e.aftersalesItem?(p(),j(S,{key:0,target:"_blank",to:"/member/return/logInfo?id="+e?.aftersalesItem?.aftersaleId},{default:g(()=>[y(v,{size:"small"},{default:g(()=>[h(k(i.$t("售后详情")),1)]),_:1})]),_:2},1032,["to"])):ra.value.availableActions.toAftersales?(p(),j(S,{key:1,target:"_blank",to:"/member/return/Info?orderId="+ra.value.orderId+"&itemId="+e.itemId},{default:g(()=>[y(v,{size:"small"},{default:g(()=>[h(k(i.$t("申请售后")),1)]),_:1})]),_:2},1032,["to"])):b("",!0)],64)):b("",!0)])):b("",!0)]))),256))]),f("tfoot",null,[f("tr",Ue,[f("th",{colspan:ra.value.availableActions.toAftersales?3:2},null,8,Te),f("th",Fe,[f("div",we,[f("div",Ce,k(i.$t("商品总价"))+"：",1),f("div",De,[y(N,{modelValue:ra.value.productAmount,"onUpdate:modelValue":r[1]||(r[1]=e=>ra.value.productAmount=e)},null,8,["modelValue"])])]),ra.value.serviceFee&&ra.value.serviceFee>0?(p(),m("div",Pe,[f("div",Me,k(i.$t("附加费用"))+"：",1),f("div",Le,[y(N,{modelValue:ra.value.serviceFee,"onUpdate:modelValue":r[2]||(r[2]=e=>ra.value.serviceFee=e)},null,8,["modelValue"])])])):b("",!0),ra.value.shippingFee>0?(p(),m("div",Oe,[f("div",qe,k(i.$t("运费"))+"：",1),f("div",ze,[y(N,{modelValue:ra.value.shippingFee,"onUpdate:modelValue":r[3]||(r[3]=e=>ra.value.shippingFee=e)},null,8,["modelValue"])])])):b("",!0),ra.value.balance>0?(p(),m("div",Re,[f("div",Ee,k(i.$t("使用余额"))+"：",1),f("div",He,[y(N,{modelValue:ra.value.balance,"onUpdate:modelValue":r[4]||(r[4]=e=>ra.value.balance=e)},null,8,["modelValue"])])])):b("",!0),ra.value.pointsAmount>0?(p(),m("div",Ge,[f("div",Qe,k(i.$t(`使用${$(U).integralName}`))+"：",1),f("div",Xe,[y(N,{modelValue:ra.value.pointsAmount,"onUpdate:modelValue":r[5]||(r[5]=e=>ra.value.pointsAmount=e)},null,8,["modelValue"])])])):b("",!0),ra.value.discountAmount>0?(p(),m("div",Ye,[f("div",Ze,k(i.$t("其他优惠"))+"：",1),f("div",Be,[r[11]||(r[11]=h(" - ",-1)),y(N,{modelValue:ra.value.discountAmount,"onUpdate:modelValue":r[6]||(r[6]=e=>ra.value.discountAmount=e)},null,8,["modelValue"])])])):b("",!0),ra.value.couponAmount>0?(p(),m("div",Je,[f("div",Ke,k(i.$t("优惠券优惠"))+"：",1),f("div",We,[r[12]||(r[12]=h(" - ",-1)),y(N,{modelValue:ra.value.couponAmount,"onUpdate:modelValue":r[7]||(r[7]=e=>ra.value.couponAmount=e)},null,8,["modelValue"])])])):b("",!0),ra.value.unpaidAmount&&ra.value.unpaidAmount>0?(p(),m("div",ea,[f("div",aa,k(i.$t("待支付金额"))+"：",1),f("div",la,[y(N,{modelValue:ra.value.unpaidAmount,"onUpdate:modelValue":r[8]||(r[8]=e=>ra.value.unpaidAmount=e)},null,8,["modelValue"])])])):b("",!0),f("div",ta,[2==ra.value.payStatus?(p(),m("span",sa,k(i.$t("实付款"))+"：",1)):(p(),m("span",oa,k(i.$t("应付款"))+"：",1)),y(N,{modelValue:ra.value.totalAmount,"onUpdate:modelValue":r[9]||(r[9]=e=>ra.value.totalAmount=e),fontStyle:{fontSize:"20px",color:"var(--price)"}},null,8,["modelValue"])])])])])])])])])]),y(T)],64)}}}),[["__scopeId","data-v-2f4f10e2"]]);export{ua as default};
