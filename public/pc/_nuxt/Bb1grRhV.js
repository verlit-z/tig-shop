import{_ as s}from"./BDziKWme.js";import{b as l}from"./C0PQcRxs.js";import{e as a,r as t,h as e,c as o,o as i,a as r,b as c,i as p,F as d,m,w as n,E as u,j,k as v,t as k,s as g,n as _,q as f,p as y,_ as S}from"./BoLQ9Xhu.js";import{_ as b}from"./CUjxzVkc.js";import{_ as h}from"./CACs9nxh.js";import{_ as z,g as $}from"./DFo55n29.js";import{P as x}from"./DkwbP8TR.js";import"./oOeuh3JC.js";import"./Bk7c1JMx.js";import"./MzbMzCCn.js";import"./BYBCH-HF.js";import"./nqCHxoJt.js";import"./Cy_EVX_n.js";import"./DEVzVrts.js";import"./BSss4uk8.js";import"./k79prmI0.js";import"./DCawybvr.js";import"./7ACzQoE5.js";import"./BmDvg8bE.js";import"./C_oH9tmG.js";import"./D5wp6cRH.js";import"./Y9Rb4YJs.js";/* empty css        */import"./C-LthTfX.js";import"./7KO-WwAc.js";import"./DwsKuIG7.js";import"./C4BNlK69.js";const P={style:{"background-color":"#f9f9f9"}},U={class:"seckill-con"},V={class:"container"},w={class:"seckill-product-ist"},F={class:"seckill_mod_product"},I={class:"text-ellipsis"},M={class:"tips"},N={class:"operation"},L={class:"price"},q={class:"price1"},C={class:"sell"},E={class:"progress-bar"},Q={class:"buy"},R={key:1,class:"buy seckill_sold_out"},T={key:0,class:"el-page"},X=S(a({__name:"List",setup(a){const S=t([]),X=t(!0),Y=t(0),Z=e({page:1}),A=async()=>{X.value=!0;try{const s=await $({...Z});S.value=s.records,Y.value=s.total}catch(s){y.error(s.message)}finally{X.value=!1}};return A(),(a,t)=>{const e=s,y=l,$=u,B=b,D=h,G=z;return i(),o(d,null,[r("div",P,[c(e,{title:"限时秒杀"}),c(y),r("div",U,[t[2]||(t[2]=r("div",{class:"slogan"},null,-1)),r("div",V,[r("div",w,[r("ul",null,[(i(!0),o(d,null,m(S.value,s=>(i(),o("li",F,[c(B,{title:s.productName,to:j(g)({path:"product",id:s.productId,sn:s.skuSn||s.productSn}),class:"nuxt",target:"_blank"},{default:n(()=>[c($,{src:("imageFormat"in a?a.imageFormat:j(v))(s.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),r("div",null,[r("div",I,k(s.productName),1),r("div",M,k(a.$t("限时秒杀 抢先提醒")),1)])]),_:2},1032,["title","to"]),r("div",N,[r("div",L,[r("div",q,[c(D,{modelValue:s.seckillPrice,"onUpdate:modelValue":l=>s.seckillPrice=l,fontStyle:{fontSize:"24px",color:"var(--general"}},null,8,["modelValue","onUpdate:modelValue"])]),r("div",C,[r("div",null,k(a.$t("已售"))+k(Math.round(s.seckillSales/(s.seckillStock+s.seckillSales)*100))+"%",1),r("div",E,[r("div",{class:"progress",style:f({width:Math.round(s.seckillSales/(s.seckillStock+s.seckillSales)*100)+"%"})},null,4)])])]),s.seckillStock>0?(i(),_(B,{key:0,title:s.productName,to:j(g)({path:"product",id:s.productId,sn:s.skuSn||s.productSn}),class:"",target:"_blank"},{default:n(()=>[r("div",Q,k(a.$t("立即抢购")),1)]),_:2},1032,["title","to"])):(i(),o("div",R,k(a.$t("已抢完")),1))])]))),256))])]),S.value.length>0&&!X.value?(i(),o("div",T,[c(j(x),{page:Z.page,"onUpdate:page":t[0]||(t[0]=s=>Z.page=s),size:Z.size,"onUpdate:size":t[1]||(t[1]=s=>Z.size=s),total:Y.value,onCallback:A},null,8,["page","size","total"])])):p("",!0)])])]),c(G,{mt30:!1})],64)}}}),[["__scopeId","data-v-77cf6297"]]);export{X as default};
