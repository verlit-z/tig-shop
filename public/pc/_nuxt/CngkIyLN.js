import{b as a}from"./C0PQcRxs.js";import{_ as s}from"./BDziKWme.js";import{_ as e}from"./SixI1hze.js";import{e as t,f as i,aw as l,g as o,r,y as n,h as c,ax as p,p as u,c as m,o as d,b as v,a as f,w as y,E as _,j as g,k as h,ay as j,i as b,t as w,A as k,d as $,F as x,l as V,x as C,m as O,s as S,ah as I,az as U,_ as z}from"./BoLQ9Xhu.js";import{E as N}from"./DFr8_2Ck.js";import{_ as F}from"./CACs9nxh.js";import{_ as L}from"./CUjxzVkc.js";import{_ as P}from"./Dy9SdNWw.js";import{E as A}from"./BYBCH-HF.js";import{_ as R}from"./DJvLo_GQ.js";import{_ as E}from"./DFo55n29.js";import{g as M}from"./-srO5WKH.js";import{g as T}from"./DdYpKpb6.js";import{a as Q,n as q}from"./Bk7c1JMx.js";import"./C-LthTfX.js";import"./7KO-WwAc.js";import"./Cy_EVX_n.js";import"./DEVzVrts.js";import"./k79prmI0.js";import"./C_oH9tmG.js";import"./DwsKuIG7.js";import"./D5wp6cRH.js";import"./MzbMzCCn.js";import"./oOeuh3JC.js";import"./Bq7w2nvu.js";import"./Y9Rb4YJs.js";import"./7ACzQoE5.js";import"./D3Ou390f.js";import"./DkwbP8TR.js";import"./DCawybvr.js";import"./BmDvg8bE.js";import"./nqCHxoJt.js";import"./D5e2aJdX.js";import"./C4BNlK69.js";import"./BSss4uk8.js";/* empty css        */const X={class:"container flex"},Y={class:"menu"},Z={class:"info-row"},B={class:"user-info"},D={class:"image-div"},G={class:"user-col"},H={class:"username"},J={key:0},K=["src"],W=["src"],aa={class:"user_rank",style:{margin:"0 0 0 10px"}},sa={class:"user-span-info"},ea={class:"font-color"},ta={class:"user-span-info"},ia={class:"verify"},la={key:2,style:{"margin-left":"15px"}},oa={class:"right-info"},ra={class:"ico-page"},na={class:"mes_name"},ca={class:"mes_name"},pa={class:"ico-page"},ua={class:"mes_name"},ma={class:"mes_name"},da={class:"ico-page"},va={class:"mes_name"},fa={class:"mes_name"},ya={class:"ico-page"},_a={class:"mes_name"},ga={class:"mes_name"},ha={class:"title-or-tabs bw"},ja={class:"page-info-body"},ba={class:"swiper_box"},wa={class:"tab_list"},ka={key:0,class:"cheap_prod"},$a={class:"tab-list flex-wrap"},xa={class:"item"},Va={class:"text-ellipsis"},Ca={key:0,class:"no-result",style:{height:"319px"}},Oa={key:1,class:"cheap_prod"},Sa={class:"tab-list flex-wrap"},Ia={class:"item"},Ua={class:"text-ellipsis"},za={key:0,class:"no-result",style:{height:"319px"}},Na=z(t({__name:"index",setup(t){const z=i(),Na=l(),Fa=(a,s)=>{Ea.value.avatar=URL.createObjectURL(s.raw)},La=o();La.getUserInfo();const Pa=r(1),Aa=r({}),Ra=r({autoplay:!1,navigation:!0,effect:"slide",loop:!0}),Ea=r({...La.userInfo}),Ma=()=>{I("/member/userCertification/info")};n(()=>{(async()=>{try{const a=await U();Object.assign(Ea.value,a),console.log(Ea.value)}catch(a){u.error(a.message)}})(),(async()=>{try{const a=await M();Aa.value=a}catch(a){u.error(a.message)}})(),Xa()});const Ta=r([]),Qa=c({page:1,size:15,sortField:"",sortOrder:"",keyword:""}),qa=r([]),Xa=async()=>{try{const a=await p({...Qa});qa.value.push(...Ya(a))}catch(a){u.error(a.message)}};(async()=>{try{const a=await T({...Qa});a.records.length>0&&Ta.value.push(...Ya(a.records))}catch(a){u.error(a.message)}})();const Ya=a=>{let s=[];for(let e=0;e<a.length;e+=5){let t=a.slice(e,e+5);s.push(t)}return s};return(t,i)=>{const l=a,o=s,r=e,n=_,c=N,p=F,u=L,I=P,U=A,M=R,T=E;return d(),m(x,null,[v(l),v(o,{title:"会员中心"}),f("div",X,[f("div",Y,[v(r)]),f("div",Z,[f("div",B,[f("div",D,[v(c,{action:g(j)+"/user/user/modifyAvatar",headers:g(Na),"on-success":Fa,"show-file-list":!1,class:"avatar-uploader"},{default:y(()=>[v(n,{src:("imageFormat"in t?t.imageFormat:g(h))(Ea.value.avatar),alt:""},null,8,["src"])]),_:1},8,["action","headers"])]),f("div",G,[f("div",H,[f("span",null,w(g(La).userInfo.nickname?g(La).userInfo.nickname:g(La).userInfo.dimUsername),1),g(k)()?(d(),m("div",J,[Number(Ea.value.isCompanyAuth)>0?(d(),m("img",{key:0,class:"auth-icon",src:g(Q),onClick:Ma},null,8,K)):(d(),m("img",{key:1,class:"auth-icon",src:g(q),onClick:Ma},null,8,W))])):b("",!0),f("span",aa,[v(n,{src:Ea.value.rankIco,style:{width:"20px"}},null,8,["src"])])]),f("div",sa,[f("span",null,w(t.$t(g(z).integralName))+"：",1),f("span",ea,w(Ea.value.points?Ea.value.points:"-"),1),$(w(t.$t("分")),1)]),f("div",ta,[f("span",null,w(t.$t("余额"))+"：",1),v(p,{modelValue:Ea.value.balance,"onUpdate:modelValue":i[0]||(i[0]=a=>Ea.value.balance=a),fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue"]),v(u,{class:"ml10",to:"/member/account/deposit"},{default:y(()=>[$("["+w(t.$t("去充值"))+"]",1)]),_:1})]),f("div",ia,[Number(Ea.value.mobileValidated)>0?(d(),m(x,{key:0},[i[5]||(i[5]=f("i",{class:"iconfont-pc icon-shoujiyiyanzheng has"},null,-1)),f("span",null,w(t.$t("手机已验证")),1)],64)):(d(),m(x,{key:1},[i[6]||(i[6]=f("i",{class:"iconfont-pc icon-shoujiweiyanzheng no"},null,-1)),v(u,{to:"/member/security/info"},{default:y(()=>[$(w(t.$t("手机未验证(立即验证)")),1)]),_:1})],64)),g(k)()&&!("isOverseas"in t?t.isOverseas:g(V))()?(d(),m("div",la,[Number(Ea.value.isCompanyAuth)>0?(d(),m(x,{key:0},[i[7]||(i[7]=f("i",{class:"iconfont-pc icon-shimingrenzheng has"},null,-1)),v(u,{to:"/member/userCertification/info"},{default:y(()=>[$(w(t.$t("实名认证（已认证）")),1)]),_:1})],64)):(d(),m(x,{key:1},[i[8]||(i[8]=f("i",{class:"iconfont-pc icon-shimingrenzheng no"},null,-1)),v(u,{to:"/member/userCertification/info"},{default:y(()=>[$(w(t.$t("实名认证（未认证）")),1)]),_:1})],64))])):b("",!0)])]),i[13]||(i[13]=f("div",{class:"info-line"},[f("span",{class:"top-icon"}),f("span",{class:"bottom-icon"})],-1)),f("div",oa,[v(u,{to:"/member/coupon/list",class:"right-link"},{default:y(()=>[f("div",ra,[i[9]||(i[9]=f("div",{class:"coupon_pic pic"},null,-1)),f("div",na,w(t.$t("优惠券")),1),f("div",ca,w(Ea.value.awaitCoupon?Ea.value.awaitCoupon:"0")+w(t.$t("张")),1)])]),_:1}),v(u,{to:"/member/order/list?type=awaitPay",class:"right-link"},{default:y(()=>[f("div",pa,[i[10]||(i[10]=f("div",{class:"pay_pic pic"},null,-1)),f("div",ua,w(t.$t("待付款")),1),f("div",ma,w(Ea.value.awaitPay?Ea.value.awaitPay:"0")+w(t.$t("单")),1)])]),_:1}),v(u,{to:"/member/order/list?type=awaitShipping",class:"right-link"},{default:y(()=>[f("div",da,[i[11]||(i[11]=f("div",{class:"take_pic pic"},null,-1)),f("div",va,w(t.$t("待发货")),1),f("div",fa,w(Ea.value.awaitShipping?Ea.value.awaitShipping:"0")+w(t.$t("单")),1)])]),_:1}),v(u,{to:"/member/order/list?type=awaitComment",class:"right-link"},{default:y(()=>[f("div",ya,[i[12]||(i[12]=f("div",{class:"ass_pic pic"},null,-1)),f("div",_a,w(t.$t("待评价")),1),f("div",ga,w(Aa.value.awaitComment?Aa.value.awaitComment:"0")+w(t.$t("条")),1)])]),_:1})])]),f("div",ha,[f("span",null,w(t.$t("近期订单")),1),v(u,{class:"h4",to:"/member/order/list"},{default:y(()=>[$(w(t.$t("更多订单")),1),i[14]||(i[14]=f("i",{class:"iconfont-pc icon-jiantou_you"},null,-1))]),_:1,__:[14]})]),f("div",ja,[v(I,{modelValue:0})]),f("div",ba,[f("div",wa,[f("div",{class:C([1==Pa.value?"active":"","tab"]),onMouseenter:i[1]||(i[1]=a=>Pa.value=1)},w(t.$t("最近收藏")),35),f("div",{class:C([2==Pa.value?"active":"","tab"]),onMouseenter:i[2]||(i[2]=a=>Pa.value=2)},w(t.$t("最近浏览")),35)]),1==Pa.value?(d(),m("div",ka,[v(M,{swiperOption:Ra.value,"onUpdate:swiperOption":i[3]||(i[3]=a=>Ra.value=a),itemList:Ta.value},{default:y(({item:a})=>[f("div",$a,[(d(!0),m(x,null,O(a,a=>(d(),m("div",xa,[v(u,{title:a.productName,to:g(S)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:y(()=>[v(n,{src:("imageFormat"in t?t.imageFormat:g(h))(a.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),f("div",null,[f("div",Va,w(a.productName),1)])]),_:2},1032,["title","to"]),f("p",null,[v(p,{modelValue:a.price,"onUpdate:modelValue":s=>a.price=s,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),v(u,{to:g(S)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:y(()=>[v(U,{type:"primary"},{default:y(()=>[$(w(t.$t("立即购买")),1)]),_:1})]),_:2},1032,["to"])]))),256))])]),_:1},8,["swiperOption","itemList"]),0===Ta.value.length?(d(),m("div",Ca,w(t.$t("暂无数据")),1)):b("",!0)])):(d(),m("div",Oa,[v(M,{swiperOption:Ra.value,"onUpdate:swiperOption":i[4]||(i[4]=a=>Ra.value=a),itemList:qa.value},{default:y(({item:a})=>[f("div",Sa,[(d(!0),m(x,null,O(a,a=>(d(),m("div",Ia,[v(u,{title:a.productName,to:g(S)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:y(()=>[v(n,{src:("imageFormat"in t?t.imageFormat:g(h))(a.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),f("div",null,[f("div",Ua,w(a.productName),1)])]),_:2},1032,["title","to"]),f("p",null,[v(p,{modelValue:a.price,"onUpdate:modelValue":s=>a.price=s,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),v(u,{to:g(S)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:y(()=>[v(U,{type:"primary"},{default:y(()=>[$(w(t.$t("立即购买")),1)]),_:1})]),_:2},1032,["to"])]))),256))])]),_:1},8,["swiperOption","itemList"]),0===qa.value.length?(d(),m("div",za,w(t.$t("暂无数据")),1)):b("",!0)]))])])]),v(T,{type:2,bg:"#fff"})],64)}}}),[["__scopeId","data-v-358f80ec"]]);export{Na as default};
