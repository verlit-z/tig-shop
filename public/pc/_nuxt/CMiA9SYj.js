import{S as e}from"./DIKWJnCq.js";import"./mHIovD83.js";import{e as a,r as l,h as s,y as o,p as t,aC as n,c as i,o as d,a as r,n as m,i as u,w as p,b as c,j as g,_ as v}from"./BoLQ9Xhu.js";import"./DwsKuIG7.js";import{g as f,u as b}from"./DOca54Ap.js";/* empty css        */import"./k79prmI0.js";import"./DEVzVrts.js";import"./nqCHxoJt.js";import"./D5wp6cRH.js";const h={class:"modal_region_box"},_={class:"address_from"},y={class:"from_item"},x={class:"btn_box"},w=v(a({__name:"EditRegion",props:{id:Number,act:String,isDialog:Boolean,addressId:{type:Number,default:0},showClose:{type:Boolean,default:!0}},emits:["submitCallback","update:confirmLoading","close","change"],setup(a,{expose:v,emit:w}){const j=w,I=a;l(!1);const k=s({consignee:"",regionIds:[],address:"",mobile:"",telephone:"",email:""}),C=l(!0);o(()=>{I.addressId>0?U():C.value=!1});const U=async()=>{try{const e=await f(I.addressId);Object.assign(k,e)}catch(e){t.error(e.message)}finally{C.value=!1}},q=l(),L=async()=>{await q.value.validate();try{j("update:confirmLoading",!0);const e=await b(k);j("submitCallback",e.addressId)}catch(e){t.error(e.message)}finally{j("update:confirmLoading",!1)}},S=()=>{q.value.validateFields(["regionIds"])},V=()=>{j("close")};return v({onFormSubmit:()=>{L()}}),(a,l)=>{const s=n("a-input"),o=n("a-form-item"),t=n("a-form");return d(),i("div",null,[r("div",h,[C.value?u("",!0):(d(),m(t,{key:0,model:k,name:"basic","label-col":{span:3},"wrapper-col":{span:16},autocomplete:"off",ref_key:"formRef",ref:q},{default:p(()=>[c(o,{label:"收货人：",name:"consignee",rules:[{required:!0,message:"请您填写收货人姓名"}]},{default:p(()=>[c(s,{value:k.consignee,"onUpdate:value":l[0]||(l[0]=e=>k.consignee=e),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),c(o,{label:"所在地区：",name:"regionIds",rules:[{required:!0,message:"请选择收货人所在地区"}],autoLink:""},{default:p(()=>[c(g(e),{modelValue:k.regionIds,"onUpdate:modelValue":l[1]||(l[1]=e=>k.regionIds=e),onChange:S},null,8,["modelValue"])]),_:1}),c(o,{label:"详细地址：",name:"address",rules:[{required:!0,message:"请您填写详细收货地址"},{min:3,message:"收货人地址过短"}]},{default:p(()=>[c(s,{value:k.address,"onUpdate:value":l[2]||(l[2]=e=>k.address=e),style:{width:"300px"},maxlength:100},null,8,["value"])]),_:1}),c(o,{label:"手机号码：",name:"mobile",rules:[{required:!0,message:"请您填写收货人手机号码"}],extra:""},{default:p(()=>[c(s,{value:k.mobile,"onUpdate:value":l[3]||(l[3]=e=>k.mobile=e),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),c(o,{label:"固定电话：",name:"telephone",rules:[],"wrapper-col":{span:8},extra:""},{default:p(()=>[c(s,{value:k.telephone,"onUpdate:value":l[4]||(l[4]=e=>k.telephone=e),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),c(o,{label:"邮箱地址：",name:"email",rules:[],"wrapper-col":{span:8}},{default:p(()=>[c(s,{value:k.email,"onUpdate:value":l[5]||(l[5]=e=>k.email=e),style:{width:"300px"},maxlength:50},null,8,["value"])]),_:1})]),_:1},8,["model"])),r("div",_,[r("div",y,[l[6]||(l[6]=r("div",{class:"tit"},null,-1)),r("div",x,[r("div",{class:"btn",onClick:L},"确认修改地址"),I.showClose?(d(),i("div",{key:0,class:"btn info",onClick:V},"取消")):u("",!0)])])])])])}}}),[["__scopeId","data-v-d3850406"]]);export{w as default};
