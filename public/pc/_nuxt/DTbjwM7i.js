import{b as a}from"./C0PQcRxs.js";import{_ as t}from"./BDziKWme.js";import{_ as s}from"./SixI1hze.js";import{_ as e}from"./BMSLTx3B.js";import{_ as o}from"./CACs9nxh.js";import{e as l,z as r,f as i,r as n,h as m,y as p,ar as d,c,o as u,b as v,a as j,ad as y,t as f,F as b,m as g,d as $,n as _,w as h,E as k,j as I,k as S,s as z,i as x,p as A,_ as F}from"./BoLQ9Xhu.js";import{_ as V}from"./CUjxzVkc.js";import{E as w}from"./BYBCH-HF.js";import{_ as L}from"./DFo55n29.js";import{v as U}from"./D3Ou390f.js";import{b as D}from"./-srO5WKH.js";import{P as T}from"./DkwbP8TR.js";import{I as P}from"./DoAQlB-k.js";import"./Bk7c1JMx.js";import"./MzbMzCCn.js";import"./BSss4uk8.js";import"./k79prmI0.js";import"./Cy_EVX_n.js";import"./DEVzVrts.js";import"./nqCHxoJt.js";import"./DCawybvr.js";import"./7ACzQoE5.js";import"./BmDvg8bE.js";import"./C_oH9tmG.js";import"./D5wp6cRH.js";import"./Y9Rb4YJs.js";/* empty css        */import"./C-LthTfX.js";import"./7KO-WwAc.js";import"./DwsKuIG7.js";import"./oOeuh3JC.js";import"./C4BNlK69.js";import"./CSNhwhPs.js";import"./mHIovD83.js";import"./DglJjdLb.js";const E={class:"container flex"},N={class:"menu"},C={class:"info-row"},K={class:"title-or-tabs"},M={class:"tag-and-input"},Q={class:"tig-tabs"},R={class:"finished-order-content"},X={class:"table-head"},Y={class:"item-op"},Z={class:"item-op"},q={class:"item-op"},B={class:"card-list"},G={class:"custom-table",style:{"margin-top":"20px"}},H={class:"table-header"},J={class:"header-cell",colspan:"3"},O={class:"font-color"},W={class:"body-tr"},aa={style:{width:"110px"}},ta={key:0,style:{color:"green"}},sa={key:1,style:{color:"green"}},ea={key:2,style:{color:"red"}},oa={key:1},la={key:1},ra={style:{width:"110px"}},ia={class:"font-color cup"},na={class:"font-color cup"},ma={class:"el-page"},pa={key:1,class:"no-result"},da={key:0},ca=F(l({__name:"List",setup(l){const{t:F}=r(),ca=i(),ua=n([]),va=n(!0),ja=n(0),ya=m({page:1,orderStatus:5}),fa=async()=>{va.value=!0;try{const a=await D({...ya});ua.value=a.records,ja.value=a.total}catch(a){A.error(a.message)}finally{va.value=!1}};p(()=>{fa()}),d();const ba=m([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]);return(l,r)=>{const i=a,n=t,m=s,p=e,d=o,A=k,F=V,D=w,ga=L,$a=U;return u(),c(b,null,[v(i),v(n,{title:"发票申请"}),j("div",E,[j("div",N,[v(m)]),j("div",C,[j("div",K,[j("div",M,[j("div",Q,[v(p,{menuList:ba},null,8,["menuList"])])])]),j("div",R,[j("div",X,[j("div",Y,f(l.$t("商品名称")),1),j("div",Z,f(l.$t("状态")),1),j("div",q,f(l.$t("操作")),1)]),y((u(),c("div",B,[ja.value>0?(u(),c(b,{key:0},[(u(!0),c(b,null,g(ua.value,a=>(u(),c("table",G,[j("thead",H,[j("tr",null,[j("th",J,[$(f(l.$t("订单号"))+"：",1),j("span",O,f(a.orderSn),1),r[2]||(r[2]=$()),r[3]||(r[3]=j("span",{class:"ml10"},null,-1)),$(f(l.$t("下单时间"))+"："+f(a.addTime)+" ",1),r[4]||(r[4]=j("span",{class:"ml10"},null,-1)),$(f(l.$t("总金额"))+"： ",1),v(d,{modelValue:a.totalAmount,"onUpdate:modelValue":t=>a.totalAmount=t,fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),$(" ("+f(l.$t("运费"))+"： ",1),v(d,{modelValue:a.shippingFee,"onUpdate:modelValue":t=>a.shippingFee=t,fontStyle:{color:"#999"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),r[5]||(r[5]=$(" ) ",-1))])])]),j("tbody",null,[j("tr",W,[j("td",null,[(u(!0),c(b,null,g(a.items,a=>(u(),_(F,{title:a.productName,to:I(z)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:h(()=>[v(A,{src:("imageFormat"in l?l.imageFormat:I(S))(a.picThumb),class:"image",loading:"lazy"},null,8,["src"])]),_:2},1032,["title","to"]))),256))]),j("td",aa,[1==I(ca).canInvoice?(u(),c(b,{key:0},[a.invoiceData?(u(),c(b,{key:0},[0===a.invoiceData.status?(u(),c("span",ta,f(l.$t("待审核")),1)):1===a.invoiceData.status?(u(),c("span",sa,f(l.$t("通过")),1)):(u(),c("span",ea,f(l.$t("失败/作废")),1))],64)):(u(),c("span",oa,f(l.$t("可申请")),1))],64)):(u(),c("span",la,f(l.$t("不可申请")),1))]),j("td",ra,[1==I(ca).canInvoice?(u(),c(b,{key:0},[a.invoiceData?(u(),c(b,{key:0},[v(P,{params:{orderId:a.orderId,amount:a.balance,orderSn:a.orderSn,totalAmount:a.totalAmount,type:"info"},onLoadFilter:fa},{default:h(()=>[j("span",ia,f(l.$t("查看")),1)]),_:2},1032,["params"]),a.invoiceData?(u(),c(b,{key:0},[r[6]||(r[6]=$("｜ ",-1)),v(P,{params:{orderId:a.orderId,amount:a.balance,orderSn:a.orderSn,totalAmount:a.totalAmount,type:"reapply"},onLoadFilter:fa},{default:h(()=>[j("span",na,f(l.$t("重新申请")),1)]),_:2},1032,["params"])],64)):x("",!0)],64)):(u(),_(P,{key:1,params:{orderId:a.orderId,amount:a.balance,orderSn:a.orderSn,totalAmount:a.totalAmount,type:"apply"},onLoadFilter:fa},{default:h(()=>[v(D,{size:"small",type:"primary"},{default:h(()=>[$(f(l.$t("发票申请")),1)]),_:1})]),_:2},1032,["params"]))],64)):x("",!0)])])])]))),256)),j("div",ma,[v(I(T),{page:ya.page,"onUpdate:page":r[0]||(r[0]=a=>ya.page=a),size:ya.size,"onUpdate:size":r[1]||(r[1]=a=>ya.size=a),total:ja.value,onCallback:fa},null,8,["page","size","total"])])],64)):(u(),c("div",pa,[va.value?x("",!0):(u(),c("span",da,f(l.$t("还没有可申请订单")),1))]))])),[[$a,va.value]])])])]),v(ga)],64)}}}),[["__scopeId","data-v-e485432a"]]);export{ca as default};
