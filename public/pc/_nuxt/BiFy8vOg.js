import{e as t,r as a,v as e,y as s,B as l,c as o,o as d,a as r,t as i,F as u,m as c,b as n,w as p,E as v,j as _,k as f,s as m,d as y,n as g,i as k,C as w,_ as h}from"./BoLQ9Xhu.js";import{_ as b}from"./CUjxzVkc.js";import{_ as j}from"./CACs9nxh.js";import{B as S}from"./CxiTASIj.js";import{g as T}from"./D0GOQlI4.js";import{t as x}from"./BXXR0KLv.js";/* empty css        */const I={class:"container"},B={class:"mod_you_like"},$={class:"hot_sale_tit flex align-center justify-center"},V={class:"hot_sale_tips"},P={class:"you_like_list"},E={class:"item"},L={class:"flip_wrap"},z={class:"pro_pic"},H={class:"pro_name"},N={class:"operate_area"},Q={class:"view_detail"},U={class:"view_detail"},C={key:0,class:"loading-con"},F={key:1,class:""},M=h(t({__name:"ProdSwiperNew",setup(t){const h=a(!0),M=a(!1),R=a(1),W=a(0),Y=a([]),q=e(()=>10*R.value<W.value?10:W.value-10*(R.value-1)),A=a(!1),D=async()=>{h.value=!0;try{const t=await x(),a=await w({page:R.value,size:10,ids:t});W.value=a.total,Y.value=[...Y.value,...a.records],a.records.length<q.value&&(A.value=!0)}catch(t){console.log(t)}finally{h.value=!1}},G=a(null),J=()=>{const t=G.value;if(!t)return;const a=t.offsetTop,e=t.offsetHeight,s=window.innerHeight;window.scrollY+s>a+e&&Y.value.length<W.value&&!h.value&&!A.value&&(R.value++,D())};return s(()=>{window.addEventListener("scroll",J),D()}),l(()=>{window.removeEventListener("scroll",J)}),(t,a)=>{const e=v,s=b,l=j,w=S;return d(),o("div",I,[r("div",B,[r("div",$,[a[0]||(a[0]=r("i",{class:"iconfont-pc icon-aixin"},null,-1)),r("p",null,i(t.$t("猜您喜欢")),1)]),r("div",V,i(t.$t("实时推荐最适合您的商品")),1),r("div",P,[r("ul",null,[(d(!0),o(u,null,c(Y.value,(a,u)=>(d(),o("li",{key:u},[r("div",E,[r("div",L,[r("div",z,[n(s,{to:_(m)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:p(()=>[n(e,{src:_(f)(a.picThumb),lazy:""},null,8,["src"])]),_:2},1032,["to"])]),r("div",H,[n(s,{to:_(m)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:p(()=>[y(i(a.productName),1)]),_:2},1032,["to"])]),n(l,{modelValue:a.productPrice,"onUpdate:modelValue":t=>a.productPrice=t,class:"pro_price"},null,8,["modelValue","onUpdate:modelValue"])]),r("div",N,[n(s,{to:_(m)({path:"product",id:a.productId,sn:a.productSn}),class:"not_interest left-span"},{default:p(()=>[n(s,{to:_(m)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:p(()=>[y(i(t.$t("查看详情")),1)]),_:2},1032,["to"])]),_:2},1032,["to"]),a.productSku&&a.productSku.length>0?(d(),g(s,{key:0,to:_(m)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:p(()=>[r("div",Q,i(t.$t(("getBuyText"in t?t.getBuyText:_(T))(a.productType))),1)]),_:2},1032,["to"])):(d(),g(w,{key:1,isQuick:1!==a.productType,id:a.productId,disabled:0==a.productStock,number:1},{default:p(()=>[r("span",U,i(t.$t(("getBuyText"in t?t.getBuyText:_(T))(a.productType))),1)]),_:2},1032,["isQuick","id","disabled"]))])])]))),128))])]),r("div",{ref_key:"recommendMoreRef",ref:G},[h.value?(d(),o("div",C,a[1]||(a[1]=[r("div",{class:"gif-loading"},null,-1)]))):k("",!0),M.value?(d(),o("div",F,i(t.$t("没有更多喽"))+"~",1)):k("",!0)],512)])])}}}),[["__scopeId","data-v-d2a40b7b"]]);export{M as default};
