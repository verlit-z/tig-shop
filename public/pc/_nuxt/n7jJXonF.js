import{b as e}from"./C0PQcRxs.js";import{_ as t}from"./BZxBvtz_.js";import{_ as a}from"./DFo55n29.js";import{a as s}from"./EfClc7Gk.js";import{_ as o}from"./CUjxzVkc.js";import{E as r,a as l}from"./DxxmIh9e.js";import{e as u,r as p,ar as d,H as i,c as m,o as n,a as c,t as y,b as v,w as I,F as j,m as g,n as h,x as f,d as _,_ as w,f as L,z as M,v as b,u as C,G as k,h as q,i as N,j as S,aE as R}from"./BoLQ9Xhu.js";import{C as P}from"./CC3eRyyO.js";import"./Bk7c1JMx.js";import"./CACs9nxh.js";import"./MzbMzCCn.js";import"./BYBCH-HF.js";import"./nqCHxoJt.js";import"./Cy_EVX_n.js";import"./DEVzVrts.js";import"./BSss4uk8.js";import"./k79prmI0.js";import"./DCawybvr.js";import"./7ACzQoE5.js";import"./BmDvg8bE.js";import"./C_oH9tmG.js";import"./D5wp6cRH.js";import"./Y9Rb4YJs.js";/* empty css        */import"./C-LthTfX.js";import"./7KO-WwAc.js";import"./DwsKuIG7.js";import"./BXXR0KLv.js";import"./C4BNlK69.js";import"./CxiTASIj.js";/* empty css        */import"./DkwbP8TR.js";import"./D0GOQlI4.js";const V={class:"menu-list"},x={class:"ico"},A={class:"title"},E={class:"menu"},F={class:"min-menu"},O=w(u({__name:"LeftMenu",props:{shopId:{type:Number,default:-1},leftMenuList:{type:Array,default:[]}},emits:["update:leftMenuList","update:dataOver"],setup(e,{emit:t}){const a=p(),s=p(),u=e,w=p(!1),L=d();return i([()=>L.currentRoute.value.query,()=>w.value],()=>{let e=L.currentRoute.value.query.categoryId;u.leftMenuList?.forEach((t,a)=>{t.categoryId===e&&(s.value=t.articleCategoryId)})},{deep:!0}),(t,u)=>{const p=o,d=l,i=r;return n(),m("div",V,[c("div",x,[u[1]||(u[1]=c("div",{class:"sub-title"},"CLASSIFICATION",-1)),c("div",A,"▪︎ "+y(t.$t("商品分类"))+" ▪︎",1)]),c("div",E,[v(i,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e)},{default:I(()=>[(n(!0),m(j,null,g(e.leftMenuList,t=>(n(),h(d,{name:t.categoryId},{title:I(()=>[v(p,{to:"/ShopCategory/"+e.shopId+"?categoryId="+t.categoryId,class:"title"},{default:I(()=>[_(y(t.categoryName),1)]),_:2},1032,["to"])]),default:I(()=>[c("div",F,[(n(!0),m(j,null,g(t?.children,t=>(n(),h(p,{class:f([s.value===t.categoryId?"pitch-on":"","item-menu"]),to:"/ShopCategory/"+e.shopId+"?categoryId="+t.categoryId},{default:I(()=>[_(y(t.categoryName),1)]),_:2},1032,["class","to"]))),256))])]),_:2},1032,["name"]))),256))]),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-00684559"]]),U={key:0,style:{background:"white"}},G={class:"container"},T={class:"page-info"},$={class:"product-list"},z=w(u({__name:"ShopCategory",setup(o){const r=L(),{t:l}=M(),u=b(()=>{let e=l("店铺商品");return 1!=r.poweredByStatus&&(e+="-powered by tigshop"),e}),y=p([]),I=e=>{y.value=e},f=p(!1),_=p(""),w=p("");C({title:u,meta:[{name:"description",content:_},{name:"keywords",content:w}]});const V=k(),x=p(V.path.split("/").pop()),A=b(()=>{let e={};return E.page>1&&(e.page=E.page),E.categoryId>0&&(e.shopCategoryId=E.categoryId),E.shopId>0&&(e.shopId=E.shopId),""!=E.keyword&&(e.keyword=E.keyword),e}),E=q({page:1,categoryId:0,shopId:-1}),F=d();i([()=>F.currentRoute.value.query],()=>{E.categoryId=F.currentRoute.value.query.categoryId,E.shopId=x.value},{deep:!0,immediate:!0});const z=p([]),B=p({}),H=p();return(async()=>{f.value=!1;try{const e=await s({shopId:x.value});H.value=e.decorateId,z.value=e.moduleList,Object.assign(B.value,e.pageModule)}catch(e){}finally{f.value=!0}})(),(s,o)=>{const r=e,l=t,u=a;return n(),m(j,null,[v(r,{shopId:x.value,shopCategoryId:S(E).categoryId},null,8,["shopId","shopCategoryId"]),f.value?(n(),m("div",U,[(n(!0),m(j,null,g(z.value,(e,t)=>(n(),m(j,{key:t},["shopInfo"==e.type?(n(),h(l,{key:0,onTreeList:I,pageModule:B.value,shopId:Number(x.value),module:e.module},null,8,["pageModule","shopId","module"])):N("",!0)],64))),128)),c("div",G,[c("div",T,[v(O,{shopId:Number(x.value),leftMenuList:y.value},null,8,["shopId","leftMenuList"]),c("div",$,[v(P,{queryParams:S(A),"onUpdate:queryParams":o[0]||(o[0]=e=>R(A)?A.value=e:null),filter:S(E),"onUpdate:filter":o[1]||(o[1]=e=>R(E)?E.value=e:null)},null,8,["queryParams","filter"])])])])])):N("",!0),v(u,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-c5197e75"]]);export{z as default};
